!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=14)}([function(t,e,i){t.exports=i(37)()},function(t,e,i){"use strict";t.exports=r,t.exports.default=r;var n=i(40);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,r){r||(r=y(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<i;a++)o=t.children[a],l(r,t.leaf?n(o):o);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function _(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,i,r,o){for(var a,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=r||(a=e+Math.ceil((i-e)/r/2)*r,n(t,a,e,i,o),s.push(e,a,a,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!_(t,e))return i;for(var r,o,a,s,l=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],_(t,s=e.leaf?n(a):a)&&(e.leaf?i.push(a):g(t,s)?this._all(a,i):l.push(a));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!_(t,e))return!1;for(var n,r,o,a,s=[];e;){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],_(t,a=e.leaf?i(o):o)){if(e.leaf||g(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,a,s=this.data,l=this.toBBox(t),u=[],h=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],i=h.pop(),a=!0),s.leaf&&-1!==(r=o(t,s.children,e)))return s.children.splice(r,1),u.push(s),this._condense(u),this;a||s.leaf||!g(s,l)?n?(i++,s=n.children[i],a=!1):s=null:(u.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,s=this._maxEntries;if(o<=s)return a(r=y(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(r=y([])).leaf=!1,r.height=n;var l,u,h,c,p=Math.ceil(o/s),d=p*Math.ceil(Math.sqrt(s));for(v(t,e,i,d,this.compareMinX),l=e;l<=i;l+=d)for(v(t,l,h=Math.min(l+d-1,i),p,this.compareMinY),u=l;u<=h;u+=p)c=Math.min(u+p-1,h),r.children.push(this._build(t,u,c,n-1));return a(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,a,s,l,u,h,p;n.push(e),!e.leaf&&n.length-1!==i;){for(h=p=1/0,r=0,o=e.children.length;r<o;r++)l=c(a=e.children[r]),(u=d(t,a)-l)<p?(p=u,h=l<h?l:h,s=a):u===p&&l<h&&(h=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),l(a,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),s=y(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,a(i,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,a,l,u,h,p;for(u=h=1/0,n=e;n<=i-e;n++)a=f(r=s(t,0,n,this.toBBox),o=s(t,n,i,this.toBBox)),l=c(r)+c(o),a<u?(u=a,p=n,h=l<h?l:h):a===u&&l<h&&(h=l,p=n);return p},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,a=this.toBBox,u=s(t,0,e,a),h=s(t,i-e,i,a),c=p(u)+p(h);for(r=e;r<i-e;r++)o=t.children[r],l(u,t.leaf?a(o):o),c+=p(u);for(r=i-e-1;r>=e;r--)o=t.children[r],l(h,t.leaf?a(o):o),c+=p(h);return c},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)l(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,i){"use strict";t.exports=i(33)},function(t,e,i){"use strict";t.exports=function(t,e,i,n,r,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,n,r,o,a,s],h=0;(l=new Error(e.replace(/%s/g,function(){return u[h++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,i){"use strict";t.exports=i(23)},function(t,e,i){"use strict";(function(t,n){var r,o=i(12);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:n;var a=Object(o.a)(r);e.a=a}).call(this,i(10),i(39)(t))},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))r.call(i,u)&&(s[u]=i[u]);if(n){a=n(i);for(var h=0;h<a.length;h++)o.call(i,a[h])&&(s[a[h]]=i[a[h]])}}return s}},function(t,e,i){"use strict";var n=function(t){};t.exports=function(t,e,i,r,o,a,s,l){if(n(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,r,o,a,s,l],c=0;(u=new Error(e.replace(/%s/g,function(){return h[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,i){"use strict";t.exports={}},function(t,e,i){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=u&&u(Object);t.exports=function t(e,i,c){if("string"!=typeof i){if(h){var p=u(i);p&&p!==h&&t(e,p,c)}var d=a(i);s&&(d=d.concat(s(i)));for(var f=0;f<d.length;++f){var g=d[f];if(!(n[g]||r[g]||c&&c[g])){var _=l(i,g);try{o(e,g,_)}catch(t){}}}return e}return e}},function(t,e,i){"use strict";function n(t){var e,i=t.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.a=i}).call(this,i(10))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=i(24),o=i(32);r.render(n.createElement("div",null,n.createElement(o.default,null)),document.getElementById("content"))},,,,,,,,,function(t,e,i){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(6),r=i(7),o=i(8),a=i(9),s="function"==typeof Symbol&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,h=s?Symbol.for("react.fragment"):60107,c=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,f=s?Symbol.for("react.async_mode"):60111,g=s?Symbol.for("react.forward_ref"):60112,_="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e=arguments.length-1,i="http://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function m(t,e,i){this.props=t,this.context=e,this.refs=o,this.updater=i||v}function x(){}function E(t,e,i){this.props=t,this.context=e,this.refs=o,this.updater=i||v}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&y("85"),this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=m.prototype;var C=E.prototype=new x;C.constructor=E,n(C,m.prototype),C.isPureReactComponent=!0;var b={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,i){var n=void 0,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)T.call(e,n)&&!S.hasOwnProperty(n)&&(r[n]=e[n]);var s=arguments.length-2;if(1===s)r.children=i;else if(1<s){for(var u=Array(s),h=0;h<s;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps)void 0===r[n]&&(r[n]=s[n]);return{$$typeof:l,type:t,key:o,ref:a,props:r,_owner:b.current}}function R(t){return"object"==typeof t&&null!==t&&t.$$typeof===l}var I=/\/+/g,L=[];function P(t,e,i,n){if(L.length){var r=L.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>L.length&&L.push(t)}function k(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case l:case u:o=!0}}if(o)return i(n,t,""===e?"."+M(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var s=e+M(r=t[a],a);o+=k(r,s,i,n)}else if(null===t||void 0===t?s=null:s="function"==typeof(s=_&&t[_]||t["@@iterator"])?s:null,"function"==typeof s)for(t=s.call(t),a=0;!(r=t.next()).done;)o+=k(r=r.value,s=e+M(r,a++),i,n);else"object"===r&&y("31","[object Object]"===(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return o}function M(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function A(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?D(t,n,i,a.thatReturnsArgument):null!=t&&(R(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+i,t={$$typeof:l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),n.push(t))}function D(t,e,i,n,r){var o="";null!=i&&(o=(""+i).replace(I,"$&/")+"/"),e=P(e,o,n,r),null==t||k(t,"",A,e),O(e)}var F={Children:{map:function(t,e,i){if(null==t)return t;var n=[];return D(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;e=P(null,null,e,i),null==t||k(t,"",N,e),O(e)},count:function(t){return null==t?0:k(t,"",a.thatReturnsNull,null)},toArray:function(t){var e=[];return D(t,e,null,a.thatReturnsArgument),e},only:function(t){return R(t)||y("143"),t}},createRef:function(){return{current:null}},Component:m,PureComponent:E,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:d,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:g,render:t}},Fragment:h,StrictMode:c,unstable_AsyncMode:f,createElement:w,cloneElement:function(t,e,i){(null===t||void 0===t)&&y("267",t);var r=void 0,o=n({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(s=e.ref,u=b.current),void 0!==e.key&&(a=""+e.key);var h=void 0;for(r in t.type&&t.type.defaultProps&&(h=t.type.defaultProps),e)T.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==h?h[r]:e[r])}if(1===(r=arguments.length-2))o.children=i;else if(1<r){h=Array(r);for(var c=0;c<r;c++)h[c]=arguments[c+2];o.children=h}return{$$typeof:l,type:t.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(t){var e=w.bind(null,t);return e.type=t,e},isValidElement:R,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:b,assign:n}},G=Object.freeze({default:F}),U=G&&F||G;t.exports=U.default?U.default:U},function(t,e,i){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=i(25)},function(t,e,i){"use strict";
/** @license React v16.3.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(7),r=i(4),o=i(26),a=i(6),s=i(9),l=i(27),u=i(28),h=i(29),c=i(8);function p(t){for(var e=arguments.length-1,i="http://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)i+="&args[]="+encodeURIComponent(arguments[r+1]);n(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}r||p("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,i,n,r,o,a,s,l){(function(t,e,i,n,r,o,a,s,l){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,i,n,r,o,a,s,l){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var u=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=u)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var t=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,t}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var t=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,t}p("198")}};var f=null,g={};function _(){if(f)for(var t in g){var e=g[t],i=f.indexOf(t);if(-1<i||p("96",t),!v[i])for(var n in e.extractEvents||p("97",t),v[i]=e,i=e.eventTypes){var r=void 0,o=i[n],a=e,s=n;m.hasOwnProperty(s)&&p("99",s),m[s]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&y(l[r],a,s);r=!0}else o.registrationName?(y(o.registrationName,a,s),r=!0):r=!1;r||p("98",n,t)}}}function y(t,e,i){x[t]&&p("100",t),x[t]=e,E[t]=e.eventTypes[i].dependencies}var v=[],m={},x={},E={};function C(t){f&&p("101"),f=Array.prototype.slice.call(t),_()}function b(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];g.hasOwnProperty(e)&&g[e]===n||(g[e]&&p("102",e),g[e]=n,i=!0)}i&&_()}var T=Object.freeze({plugins:v,eventNameDispatchConfigs:m,registrationNameModules:x,registrationNameDependencies:E,possibleRegistrationNames:null,injectEventPluginOrder:C,injectEventPluginsByName:b}),S=null,w=null,R=null;function I(t,e,i,n){e=t.type||"unknown-event",t.currentTarget=R(n),d.invokeGuardedCallbackAndCatchFirstError(e,i,void 0,t),t.currentTarget=null}function L(t,e){return null==e&&p("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function P(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var O=null;function k(t,e){if(t){var i=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(i))for(var r=0;r<i.length&&!t.isPropagationStopped();r++)I(t,e,i[r],n[r]);else i&&I(t,e,i,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function M(t){return k(t,!0)}function N(t){return k(t,!1)}var A={injectEventPluginOrder:C,injectEventPluginsByName:b};function D(t,e){var i=t.stateNode;if(!i)return null;var n=S(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}return t?null:(i&&"function"!=typeof i&&p("231",e,typeof i),i)}function F(t,e){null!==t&&(O=L(O,t)),t=O,O=null,t&&(P(t,e?M:N),O&&p("95"),d.rethrowCaughtError())}function G(t,e,i,n){for(var r=null,o=0;o<v.length;o++){var a=v[o];a&&(a=a.extractEvents(t,e,i,n))&&(r=L(r,a))}F(r,!1)}var U=Object.freeze({injection:A,getListener:D,runEventsInBatch:F,runExtractedEventsInBatch:G}),j=Math.random().toString(36).slice(2),B="__reactInternalInstance$"+j,W="__reactEventHandlers$"+j;function V(t){if(t[B])return t[B];for(;!t[B];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[B]).tag||6===t.tag?t:null}function z(t){if(5===t.tag||6===t.tag)return t.stateNode;p("33")}function H(t){return t[W]||null}var K=Object.freeze({precacheFiberNode:function(t,e){e[B]=t},getClosestInstanceFromNode:V,getInstanceFromNode:function(t){return!(t=t[B])||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:z,getFiberCurrentPropsFromNode:H,updateFiberProps:function(t,e){t[W]=e}});function Y(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function X(t,e,i){for(var n=[];t;)n.push(t),t=Y(t);for(t=n.length;0<t--;)e(n[t],"captured",i);for(t=0;t<n.length;t++)e(n[t],"bubbled",i)}function q(t,e,i){(e=D(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=L(i._dispatchListeners,e),i._dispatchInstances=L(i._dispatchInstances,t))}function Z(t){t&&t.dispatchConfig.phasedRegistrationNames&&X(t._targetInst,q,t)}function J(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;X(e=e?Y(e):null,q,t)}}function Q(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=D(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=L(i._dispatchListeners,e),i._dispatchInstances=L(i._dispatchInstances,t))}function $(t){t&&t.dispatchConfig.registrationName&&Q(t._targetInst,null,t)}function tt(t){P(t,Z)}function et(t,e,i,n){if(i&&n)t:{for(var r=i,o=n,a=0,s=r;s;s=Y(s))a++;s=0;for(var l=o;l;l=Y(l))s++;for(;0<a-s;)r=Y(r),a--;for(;0<s-a;)o=Y(o),s--;for(;a--;){if(r===o||r===o.alternate)break t;r=Y(r),o=Y(o)}r=null}else r=null;for(o=r,r=[];i&&i!==o&&(null===(a=i.alternate)||a!==o);)r.push(i),i=Y(i);for(i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=Y(n);for(n=0;n<r.length;n++)Q(r[n],"bubbled",t);for(t=i.length;0<t--;)Q(i[t],"captured",e)}var it=Object.freeze({accumulateTwoPhaseDispatches:tt,accumulateTwoPhaseDispatchesSkipTarget:function(t){P(t,J)},accumulateEnterLeaveDispatches:et,accumulateDirectDispatches:function(t){P(t,$)}}),nt=null;function rt(){return!nt&&o.canUseDOM&&(nt="textContent"in document.documentElement?"textContent":"innerText"),nt}var ot={_root:null,_startText:null,_fallbackText:null};function at(){if(ot._fallbackText)return ot._fallbackText;var t,e,i=ot._startText,n=i.length,r=st(),o=r.length;for(t=0;t<n&&i[t]===r[t];t++);var a=n-t;for(e=1;e<=a&&i[n-e]===r[o-e];e++);return ot._fallbackText=r.slice(t,1<e?1-e:void 0),ot._fallbackText}function st(){return"value"in ot._root?ot._root.value:ot._root[rt()]}var lt="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ut={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function ht(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function ct(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function pt(t){t instanceof this||p("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function dt(t){t.eventPool=[],t.getPooled=ct,t.release=pt}a(ht.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<lt.length;e++)this[lt[e]]=null}}),ht.Interface=ut,ht.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var r=new e;return a(r,i.prototype),i.prototype=r,i.prototype.constructor=i,i.Interface=a({},n.Interface,t),i.extend=n.extend,dt(i),i},dt(ht);var ft=ht.extend({data:null}),gt=ht.extend({data:null}),_t=[9,13,27,32],yt=o.canUseDOM&&"CompositionEvent"in window,vt=null;o.canUseDOM&&"documentMode"in document&&(vt=document.documentMode);var mt=o.canUseDOM&&"TextEvent"in window&&!vt,xt=o.canUseDOM&&(!yt||vt&&8<vt&&11>=vt),Et=String.fromCharCode(32),Ct={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},bt=!1;function Tt(t,e){switch(t){case"topKeyUp":return-1!==_t.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function St(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var wt=!1;var Rt={eventTypes:Ct,extractEvents:function(t,e,i,n){var r=void 0,o=void 0;if(yt)t:{switch(t){case"topCompositionStart":r=Ct.compositionStart;break t;case"topCompositionEnd":r=Ct.compositionEnd;break t;case"topCompositionUpdate":r=Ct.compositionUpdate;break t}r=void 0}else wt?Tt(t,i)&&(r=Ct.compositionEnd):"topKeyDown"===t&&229===i.keyCode&&(r=Ct.compositionStart);return r?(xt&&(wt||r!==Ct.compositionStart?r===Ct.compositionEnd&&wt&&(o=at()):(ot._root=n,ot._startText=st(),wt=!0)),r=ft.getPooled(r,e,i,n),o?r.data=o:null!==(o=St(i))&&(r.data=o),tt(r),o=r):o=null,(t=mt?function(t,e){switch(t){case"topCompositionEnd":return St(e);case"topKeyPress":return 32!==e.which?null:(bt=!0,Et);case"topTextInput":return(t=e.data)===Et&&bt?null:t;default:return null}}(t,i):function(t,e){if(wt)return"topCompositionEnd"===t||!yt&&Tt(t,e)?(t=at(),ot._root=null,ot._startText=null,ot._fallbackText=null,wt=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return xt?null:e.data;default:return null}}(t,i))?((e=gt.getPooled(Ct.beforeInput,e,i,n)).data=t,tt(e)):e=null,null===o?e:null===e?o:[o,e]}},It=null,Lt={injectFiberControlledHostComponent:function(t){It=t}},Pt=null,Ot=null;function kt(t){if(t=w(t)){It&&"function"==typeof It.restoreControlledState||p("194");var e=S(t.stateNode);It.restoreControlledState(t.stateNode,t.type,e)}}function Mt(t){Pt?Ot?Ot.push(t):Ot=[t]:Pt=t}function Nt(){return null!==Pt||null!==Ot}function At(){if(Pt){var t=Pt,e=Ot;if(Ot=Pt=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}var Dt=Object.freeze({injection:Lt,enqueueStateRestore:Mt,needsStateRestore:Nt,restoreStateIfNeeded:At});function Ft(t,e){return t(e)}function Gt(t,e,i){return t(e,i)}function Ut(){}var jt=!1;function Bt(t,e){if(jt)return t(e);jt=!0;try{return Ft(t,e)}finally{jt=!1,Nt()&&(Ut(),At())}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wt[t.type]:"textarea"===e}function zt(t){return(t=t.target||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ht(t,e){return!(!o.canUseDOM||e&&!("addEventListener"in document))&&((e=(t="on"+t)in document)||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e)}function Kt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Yt(t){t._valueTracker||(t._valueTracker=function(t){var e=Kt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"function"==typeof i.get&&"function"==typeof i.set)return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.get.call(this)},set:function(t){n=""+t,i.set.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}(t))}function Xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Kt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}var qt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zt="function"==typeof Symbol&&Symbol.for,Jt=Zt?Symbol.for("react.element"):60103,Qt=Zt?Symbol.for("react.call"):60104,$t=Zt?Symbol.for("react.return"):60105,te=Zt?Symbol.for("react.portal"):60106,ee=Zt?Symbol.for("react.fragment"):60107,ie=Zt?Symbol.for("react.strict_mode"):60108,ne=Zt?Symbol.for("react.provider"):60109,re=Zt?Symbol.for("react.context"):60110,oe=Zt?Symbol.for("react.async_mode"):60111,ae=Zt?Symbol.for("react.forward_ref"):60112,se="function"==typeof Symbol&&Symbol.iterator;function le(t){return null===t||void 0===t?null:"function"==typeof(t=se&&t[se]||t["@@iterator"])?t:null}function ue(t){if("function"==typeof(t=t.type))return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case ee:return"ReactFragment";case te:return"ReactPortal";case Qt:return"ReactCall";case $t:return"ReactReturn"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case ae:return""!==(t=t.render.displayName||t.render.name||"")?"ForwardRef("+t+")":"ForwardRef"}return null}function he(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var i=t._debugOwner,n=t._debugSource,r=ue(t),o=null;i&&(o=ue(i)),i=n,r="\n    in "+(r||"Unknown")+(i?" (at "+i.fileName.replace(/^.*[\\\/]/,"")+":"+i.lineNumber+")":o?" (created by "+o+")":"");break t;default:r=""}e+=r,t=t.return}while(t);return e}var ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe={},de={};function fe(t,e,i,n,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new fe(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new fe(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new fe(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){ge[t]=new fe(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new fe(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new fe(t,3,!0,t.toLowerCase(),null)}),["capture","download"].forEach(function(t){ge[t]=new fe(t,4,!1,t.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(t){ge[t]=new fe(t,6,!1,t.toLowerCase(),null)}),["rowSpan","start"].forEach(function(t){ge[t]=new fe(t,5,!1,t.toLowerCase(),null)});var _e=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}function ve(t,e,i,n){var r=ge.hasOwnProperty(e)?ge[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||void 0===e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!de.hasOwnProperty(t)||!pe.hasOwnProperty(t)&&(ce.test(t)?de[t]=!0:(pe[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}function me(t,e){var i=e.checked;return a({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function xe(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=Se(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ee(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function Ce(t,e){Ee(t,e);var i=Se(e.value);null!=i&&("number"===e.type?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i)),e.hasOwnProperty("value")?Te(t,e.type,i):e.hasOwnProperty("defaultValue")&&Te(t,e.type,Se(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function be(t,e){(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue"))&&(""===t.value&&(t.value=""+t._wrapperState.initialValue),t.defaultValue=""+t._wrapperState.initialValue),""!==(e=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function Te(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Se(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_e,ye);ge[e]=new fe(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_e,ye);ge[e]=new fe(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_e,ye);ge[e]=new fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),ge.tabIndex=new fe("tabIndex",1,!1,"tabindex",null);var we={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Re(t,e,i){return(t=ht.getPooled(we.change,t,e,i)).type="change",Mt(i),tt(t),t}var Ie=null,Le=null;function Pe(t){F(t,!1)}function Oe(t){if(Xt(z(t)))return t}function ke(t,e){if("topChange"===t)return e}var Me=!1;function Ne(){Ie&&(Ie.detachEvent("onpropertychange",Ae),Le=Ie=null)}function Ae(t){"value"===t.propertyName&&Oe(Le)&&Bt(Pe,t=Re(Le,t,zt(t)))}function De(t,e,i){"topFocus"===t?(Ne(),Le=i,(Ie=e).attachEvent("onpropertychange",Ae)):"topBlur"===t&&Ne()}function Fe(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return Oe(Le)}function Ge(t,e){if("topClick"===t)return Oe(e)}function Ue(t,e){if("topInput"===t||"topChange"===t)return Oe(e)}o.canUseDOM&&(Me=Ht("input")&&(!document.documentMode||9<document.documentMode));var je={eventTypes:we,_isInputEventSupported:Me,extractEvents:function(t,e,i,n){var r=e?z(e):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=ke:Vt(r)?Me?o=Ue:(o=Fe,a=De):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ge),o&&(o=o(t,e)))return Re(o,i,n);a&&a(t,r,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||r._wrapperState)&&t.controlled&&"number"===r.type&&Te(r,"number",r.value)}},Be=ht.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function ze(){return Ve}var He=Be.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ze,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),Ke={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Ye={eventTypes:Ke,extractEvents:function(t,e,i,n){if("topMouseOver"===t&&(i.relatedTarget||i.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var r=n.window===n?n:(r=n.ownerDocument)?r.defaultView||r.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=i.relatedTarget||i.toElement)?V(e):null):t=null,t===e)return null;var o=null==t?r:z(t);r=null==e?r:z(e);var a=He.getPooled(Ke.mouseLeave,t,i,n);return a.type="mouseleave",a.target=o,a.relatedTarget=r,(i=He.getPooled(Ke.mouseEnter,e,i,n)).type="mouseenter",i.target=r,i.relatedTarget=o,et(a,i,t,e),[a,i]}};function Xe(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function qe(t){return!!(t=t._reactInternalFiber)&&2===Xe(t)}function Ze(t){2!==Xe(t)&&p("188")}function Je(t){var e=t.alternate;if(!e)return 3===(e=Xe(t))&&p("188"),1===e?null:t;for(var i=t,n=e;;){var r=i.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var a=r.child;a;){if(a===i)return Ze(r),t;if(a===n)return Ze(r),e;a=a.sibling}p("188")}if(i.return!==n.return)i=r,n=o;else{a=!1;for(var s=r.child;s;){if(s===i){a=!0,i=r,n=o;break}if(s===n){a=!0,n=r,i=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===i){a=!0,i=o,n=r;break}if(s===n){a=!0,n=o,i=r;break}s=s.sibling}a||p("189")}}i.alternate!==n&&p("190")}return 3!==i.tag&&p("188"),i.stateNode.current===i?t:e}function Qe(t){if(!(t=Je(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var $e=ht.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=ht.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ei=Be.extend({relatedTarget:null});function ii(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Be.extend({key:function(t){if(t.key){var e=ni[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ii(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ri[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ze,charCode:function(t){return"keypress"===t.type?ii(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ii(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ai=He.extend({dataTransfer:null}),si=Be.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ze}),li=ht.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=He.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={},ci={};function pi(t,e){var i=t[0].toUpperCase()+t.slice(1),n="on"+i;e={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i="top"+i],isInteractive:e},hi[t]=e,ci[i]=e}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(t){pi(t,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(t){pi(t,!1)});var di={eventTypes:hi,isInteractiveTopLevelEventType:function(t){return void 0!==(t=ci[t])&&!0===t.isInteractive},extractEvents:function(t,e,i,n){var r=ci[t];if(!r)return null;switch(t){case"topKeyPress":if(0===ii(i))return null;case"topKeyDown":case"topKeyUp":t=oi;break;case"topBlur":case"topFocus":t=ei;break;case"topClick":if(2===i.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=He;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=ai;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=si;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=$e;break;case"topTransitionEnd":t=li;break;case"topScroll":t=Be;break;case"topWheel":t=ui;break;case"topCopy":case"topCut":case"topPaste":t=ti;break;default:t=ht}return tt(e=t.getPooled(r,e,i,n)),e}},fi=di.isInteractiveTopLevelEventType,gi=[];function _i(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var i;for(i=e;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;t.ancestors.push(e),e=V(i)}while(e);for(i=0;i<t.ancestors.length;i++)e=t.ancestors[i],G(t.topLevelType,e,t.nativeEvent,zt(t.nativeEvent))}var yi=!0;function vi(t){yi=!!t}function mi(t,e,i){if(!i)return null;t=(fi(t)?Ei:Ci).bind(null,t),i.addEventListener(e,t,!1)}function xi(t,e,i){if(!i)return null;t=(fi(t)?Ei:Ci).bind(null,t),i.addEventListener(e,t,!0)}function Ei(t,e){Gt(Ci,t,e)}function Ci(t,e){if(yi){var i=zt(e);if(null!==(i=V(i))&&"number"==typeof i.tag&&2!==Xe(i)&&(i=null),gi.length){var n=gi.pop();n.topLevelType=t,n.nativeEvent=e,n.targetInst=i,t=n}else t={topLevelType:t,nativeEvent:e,targetInst:i,ancestors:[]};try{Bt(_i,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>gi.length&&gi.push(t)}}}var bi=Object.freeze({get _enabled(){return yi},setEnabled:vi,isEnabled:function(){return yi},trapBubbledEvent:mi,trapCapturedEvent:xi,dispatchEvent:Ci});function Ti(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i["ms"+t]="MS"+e,i["O"+t]="o"+e.toLowerCase(),i}var Si={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},wi={},Ri={};function Ii(t){if(wi[t])return wi[t];if(!Si[t])return t;var e,i=Si[t];for(e in i)if(i.hasOwnProperty(e)&&e in Ri)return wi[t]=i[e];return t}o.canUseDOM&&(Ri=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Li={topAnimationEnd:Ii("animationend"),topAnimationIteration:Ii("animationiteration"),topAnimationStart:Ii("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Ii("transitionend"),topWheel:"wheel"},Pi={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Oi={},ki=0,Mi="_reactListenersID"+(""+Math.random()).slice(2);function Ni(t){return Object.prototype.hasOwnProperty.call(t,Mi)||(t[Mi]=ki++,Oi[t[Mi]]={}),Oi[t[Mi]]}function Ai(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Di(t,e){var i,n=Ai(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ai(n)}}function Fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}var Gi=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ji=null,Bi=null,Wi=null,Vi=!1;function zi(t,e){if(Vi||null==ji||ji!==l())return null;var i=ji;return"selectionStart"in i&&Fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:window.getSelection?i={anchorNode:(i=window.getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}:i=void 0,Wi&&u(Wi,i)?null:(Wi=i,(t=ht.getPooled(Ui.select,Bi,t,e)).type="select",t.target=ji,tt(t),t)}var Hi={eventTypes:Ui,extractEvents:function(t,e,i,n){var r,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(r=!o)){t:{o=Ni(o),r=E.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?z(e):window,t){case"topFocus":(Vt(o)||"true"===o.contentEditable)&&(ji=o,Bi=e,Wi=null);break;case"topBlur":Wi=Bi=ji=null;break;case"topMouseDown":Vi=!0;break;case"topContextMenu":case"topMouseUp":return Vi=!1,zi(i,n);case"topSelectionChange":if(Gi)break;case"topKeyDown":case"topKeyUp":return zi(i,n)}return null}};function Ki(t,e,i,n){this.tag=t,this.key=i,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=e,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Yi(t,e,i){var n=t.alternate;return null===n?((n=new Ki(t.tag,e,t.key,t.mode)).type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.expirationTime=i,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xi(t,e,i){var n=t.type,r=t.key;t=t.props;var o=void 0;if("function"==typeof n)o=n.prototype&&n.prototype.isReactComponent?2:0;else if("string"==typeof n)o=5;else switch(n){case ee:return qi(t.children,e,i,r);case oe:o=11,e|=3;break;case ie:o=11,e|=2;break;case Qt:o=7;break;case $t:o=9;break;default:if("object"==typeof n&&null!==n)switch(n.$$typeof){case ne:o=13;break;case re:o=12;break;case ae:o=14;break;default:if("number"==typeof n.tag)return(e=n).pendingProps=t,e.expirationTime=i,e;p("130",null==n?n:typeof n,"")}else p("130",null==n?n:typeof n,"")}return(e=new Ki(o,t,r,e)).type=n,e.expirationTime=i,e}function qi(t,e,i,n){return(t=new Ki(10,t,n,e)).expirationTime=i,t}function Zi(t,e,i){return(t=new Ki(6,t,null,e)).expirationTime=i,t}function Ji(t,e,i){return(e=new Ki(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}A.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S=K.getFiberCurrentPropsFromNode,w=K.getInstanceFromNode,R=K.getNodeFromInstance,A.injectEventPluginsByName({SimpleEventPlugin:di,EnterLeaveEventPlugin:Ye,ChangeEventPlugin:je,SelectEventPlugin:Hi,BeforeInputEventPlugin:Rt});var Qi=null,$i=null;function tn(t){return function(e){try{return t(e)}catch(t){}}}function en(t){"function"==typeof Qi&&Qi(t)}function nn(t){"function"==typeof $i&&$i(t)}function rn(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function on(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}new Set;var an=void 0,sn=void 0;function ln(t){an=sn=null;var e=t.alternate,i=t.updateQueue;null===i&&(i=t.updateQueue=rn(null)),null!==e?null===(t=e.updateQueue)&&(t=e.updateQueue=rn(null)):t=null,an=i,sn=t!==i?t:null}function un(t,e){ln(t),t=an;var i=sn;null===i?on(t,e):null===t.last||null===i.last?(on(t,e),on(i,e)):(on(t,e),i.last=e)}function hn(t,e,i,n){return"function"==typeof(t=t.partialState)?t.call(e,i,n):t}function cn(t,e,i,n,r,o){null!==t&&t.updateQueue===i&&(i=e.updateQueue={baseState:i.baseState,expirationTime:i.expirationTime,first:i.first,last:i.last,isInitialized:i.isInitialized,capturedValues:i.capturedValues,callbackList:null,hasForceUpdate:!1}),i.expirationTime=0,i.isInitialized?t=i.baseState:(t=i.baseState=e.memoizedState,i.isInitialized=!0);for(var s=!0,l=i.first,u=!1;null!==l;){var h=l.expirationTime;if(h>o){var c=i.expirationTime;(0===c||c>h)&&(i.expirationTime=h),u||(u=!0,i.baseState=t)}else u||(i.first=l.next,null===i.first&&(i.last=null)),l.isReplace?(t=hn(l,n,t,r),s=!0):(h=hn(l,n,t,r))&&(t=s?a({},t,h):a(t,h),s=!1),l.isForced&&(i.hasForceUpdate=!0),null!==l.callback&&(null===(h=i.callbackList)&&(h=i.callbackList=[]),h.push(l)),null!==l.capturedValue&&(null===(h=i.capturedValues)?i.capturedValues=[l.capturedValue]:h.push(l.capturedValue));l=l.next}return null!==i.callbackList?e.effectTag|=32:null!==i.first||i.hasForceUpdate||null!==i.capturedValues||(e.updateQueue=null),u||(i.baseState=t),t}function pn(t,e){var i=t.callbackList;if(null!==i)for(t.callbackList=null,t=0;t<i.length;t++){var n=i[t],r=n.callback;n.callback=null,"function"!=typeof r&&p("191",r),r.call(e)}}var dn=Array.isArray;function fn(t,e,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){var n=void 0;(i=i._owner)&&(2!==i.tag&&p("110"),n=i.stateNode),n||p("147",t);var r=""+t;return null!==e&&null!==e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=n.refs===c?n.refs={}:n.refs;null===t?delete e[r]:e[r]=t})._stringRef=r,e)}"string"!=typeof t&&p("148"),i._owner||p("254",t)}return t}function gn(t,e){"textarea"!==t.type&&p("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function _n(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e,i){return(t=Yi(t,e,i)).index=0,t.sibling=null,t}function o(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,i,n){return null===e||6!==e.tag?((e=Zi(i,t.mode,n)).return=t,e):((e=r(e,i,n)).return=t,e)}function l(t,e,i,n){return null!==e&&e.type===i.type?((n=r(e,i.props,n)).ref=fn(t,e,i),n.return=t,n):((n=Xi(i,t.mode,n)).ref=fn(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Ji(i,t.mode,n)).return=t,e):((e=r(e,i.children||[],n)).return=t,e)}function h(t,e,i,n,o){return null===e||10!==e.tag?((e=qi(i,t.mode,n,o)).return=t,e):((e=r(e,i,n)).return=t,e)}function c(t,e,i){if("string"==typeof e||"number"==typeof e)return(e=Zi(""+e,t.mode,i)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Jt:return(i=Xi(e,t.mode,i)).ref=fn(t,null,e),i.return=t,i;case te:return(e=Ji(e,t.mode,i)).return=t,e}if(dn(e)||le(e))return(e=qi(e,t.mode,i,null)).return=t,e;gn(t,e)}return null}function d(t,e,i,n){var r=null!==e?e.key:null;if("string"==typeof i||"number"==typeof i)return null!==r?null:s(t,e,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Jt:return i.key===r?i.type===ee?h(t,e,i.props.children,n,r):l(t,e,i,n):null;case te:return i.key===r?u(t,e,i,n):null}if(dn(i)||le(i))return null!==r?null:h(t,e,i,n,null);gn(t,i)}return null}function f(t,e,i,n,r){if("string"==typeof n||"number"==typeof n)return s(e,t=t.get(i)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Jt:return t=t.get(null===n.key?i:n.key)||null,n.type===ee?h(e,t,n.props.children,r,n.key):l(e,t,n,r);case te:return u(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(dn(n)||le(n))return h(e,t=t.get(i)||null,n,r,null);gn(e,n)}return null}function g(r,a,s,l){for(var u=null,h=null,p=a,g=a=0,_=null;null!==p&&g<s.length;g++){p.index>g?(_=p,p=null):_=p.sibling;var y=d(r,p,s[g],l);if(null===y){null===p&&(p=_);break}t&&p&&null===y.alternate&&e(r,p),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y,p=_}if(g===s.length)return i(r,p),u;if(null===p){for(;g<s.length;g++)(p=c(r,s[g],l))&&(a=o(p,a,g),null===h?u=p:h.sibling=p,h=p);return u}for(p=n(r,p);g<s.length;g++)(_=f(p,r,g,s[g],l))&&(t&&null!==_.alternate&&p.delete(null===_.key?g:_.key),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_);return t&&p.forEach(function(t){return e(r,t)}),u}function _(r,a,s,l){var u=le(s);"function"!=typeof u&&p("150"),null==(s=u.call(s))&&p("151");for(var h=u=null,g=a,_=a=0,y=null,v=s.next();null!==g&&!v.done;_++,v=s.next()){g.index>_?(y=g,g=null):y=g.sibling;var m=d(r,g,v.value,l);if(null===m){g||(g=y);break}t&&g&&null===m.alternate&&e(r,g),a=o(m,a,_),null===h?u=m:h.sibling=m,h=m,g=y}if(v.done)return i(r,g),u;if(null===g){for(;!v.done;_++,v=s.next())null!==(v=c(r,v.value,l))&&(a=o(v,a,_),null===h?u=v:h.sibling=v,h=v);return u}for(g=n(r,g);!v.done;_++,v=s.next())null!==(v=f(g,r,_,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?_:v.key),a=o(v,a,_),null===h?u=v:h.sibling=v,h=v);return t&&g.forEach(function(t){return e(r,t)}),u}return function(t,n,o,s){"object"==typeof o&&null!==o&&o.type===ee&&null===o.key&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Jt:t:{var u=o.key;for(l=n;null!==l;){if(l.key===u){if(10===l.tag?o.type===ee:l.type===o.type){i(t,l.sibling),(n=r(l,o.type===ee?o.props.children:o.props,s)).ref=fn(t,l,o),n.return=t,t=n;break t}i(t,l);break}e(t,l),l=l.sibling}o.type===ee?((n=qi(o.props.children,t.mode,s,o.key)).return=t,t=n):((s=Xi(o,t.mode,s)).ref=fn(t,n,o),s.return=t,t=s)}return a(t);case te:t:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){i(t,n.sibling),(n=r(n,o.children||[],s)).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Ji(o,t.mode,s)).return=t,t=n}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,o,s)).return=t,t=n):(i(t,n),(n=Zi(o,t.mode,s)).return=t,t=n),a(t);if(dn(o))return g(t,n,o,s);if(le(o))return _(t,n,o,s);if(l&&gn(t,o),void 0===o)switch(t.tag){case 2:case 1:p("152",(s=t.type).displayName||s.name||"Component")}return i(t,n)}}var yn=_n(!0),vn=_n(!1);function mn(t,e,i,n,r,o,s){function l(t,e,i){h(t,e,i,e.expirationTime)}function h(t,e,i,n){e.child=null===t?vn(e,null,i,n):yn(e,t.child,i,n)}function d(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function f(t,e,i,n,r,o){if(d(t,e),!i&&!r)return n&&I(e,!1),y(t,e);i=e.stateNode,qt.current=e;var a=r?null:i.render();return e.effectTag|=1,r&&(h(t,e,null,o),e.child=null),h(t,e,a,o),e.memoizedState=i.state,e.memoizedProps=i.props,n&&I(e,!0),e.child}function g(t){var e=t.stateNode;e.pendingContext?R(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R(t,e.context,!1),E(t,e.containerInfo)}function _(t,e,i,n){var r=t.child;for(null!==r&&(r.return=t);null!==r;){switch(r.tag){case 12:var o=0|r.stateNode;if(r.type===e&&0!=(o&i)){for(o=r;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>n)o.expirationTime=n,null!==a&&(0===a.expirationTime||a.expirationTime>n)&&(a.expirationTime=n);else{if(null===a||!(0===a.expirationTime||a.expirationTime>n))break;a.expirationTime=n}o=o.return}o=null}else o=r.child;break;case 13:o=r.type===t.type?null:r.child;break;default:o=r.child}if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){o=r;break}o=o.return}r=o}}function y(t,e){if(null!==t&&e.child!==t.child&&p("153"),null!==e.child){var i=Yi(t=e.child,t.pendingProps,t.expirationTime);for(e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Yi(t,t.pendingProps,t.expirationTime)).return=e;i.sibling=null}return e.child}var v=t.shouldSetTextContent,m=t.shouldDeprioritizeSubtree,x=e.pushHostContext,E=e.pushHostContainer,C=n.pushProvider,b=i.getMaskedContext,T=i.getUnmaskedContext,S=i.hasContextChanged,w=i.pushContextProvider,R=i.pushTopLevelContextObject,I=i.invalidateContextProvider,L=r.enterHydrationState,P=r.resetHydrationState,O=r.tryToClaimNextHydratableInstance,k=(t=function(t,e,i,n,r){function o(t,e,i,n,r,o){if(null===e||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)return!0;var a=t.stateNode;return t=t.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(i,r,o):!(t.prototype&&t.prototype.isPureReactComponent&&u(e,i)&&u(n,r))}function s(t,e){e.updater=y,t.stateNode=e,e._reactInternalFiber=t}function l(t,e,i,n){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&y.enqueueReplaceState(e,e.state,null)}function h(t,e,i,n){if("function"==typeof(t=t.type).getDerivedStateFromProps)return t.getDerivedStateFromProps.call(null,i,n)}var p=t.cacheContext,d=t.getMaskedContext,f=t.getUnmaskedContext,g=t.isContextConsumer,_=t.hasContextChanged,y={isMounted:qe,enqueueSetState:function(t,n,r){t=t._reactInternalFiber,r=void 0===r?null:r;var o=i(t);un(t,{expirationTime:o,partialState:n,callback:r,isReplace:!1,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueReplaceState:function(t,n,r){t=t._reactInternalFiber,r=void 0===r?null:r;var o=i(t);un(t,{expirationTime:o,partialState:n,callback:r,isReplace:!0,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueForceUpdate:function(t,n){t=t._reactInternalFiber,n=void 0===n?null:n;var r=i(t);un(t,{expirationTime:r,partialState:null,callback:n,isReplace:!1,isForced:!0,capturedValue:null,next:null}),e(t,r)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:h,constructClassInstance:function(t,e){var i=t.type,n=f(t),r=g(t),o=r?d(t,n):c,l=null!==(i=new i(e,o)).state&&void 0!==i.state?i.state:null;return s(t,i),t.memoizedState=l,null!==(e=h(t,0,e,l))&&void 0!==e&&(t.memoizedState=a({},t.memoizedState,e)),r&&p(t,n,o),i},mountClassInstance:function(t,e){var i=t.type,n=t.alternate,r=t.stateNode,o=t.pendingProps,a=f(t);r.props=o,r.state=t.memoizedState,r.refs=c,r.context=d(t,a),"function"==typeof i.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(i=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),i!==r.state&&y.enqueueReplaceState(r,r.state,null),null!==(i=t.updateQueue)&&(r.state=cn(n,t,i,r,o,e))),"function"==typeof r.componentDidMount&&(t.effectTag|=4)},resumeMountClassInstance:function(t,e){var i=t.type,s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,c=t.pendingProps,p=s.context,g=f(t);g=d(t,g),(i="function"==typeof i.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(u!==c||p!==g)&&l(t,s,c,g),p=t.memoizedState,e=null!==t.updateQueue?cn(null,t,t.updateQueue,s,c,e):p;var y=void 0;if(u!==c&&(y=h(t,0,c,e)),null!==y&&void 0!==y){e=null===e||void 0===e?y:a({},e,y);var v=t.updateQueue;null!==v&&(v.baseState=a({},v.baseState,y))}return u!==c||p!==e||_()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((u=o(t,u,c,p,e,g))?(i||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),n(t,c),r(t,e)),s.props=c,s.state=e,s.context=g,u):("function"==typeof s.componentDidMount&&(t.effectTag|=4),!1)},updateClassInstance:function(t,e,i){var s=e.type,u=e.stateNode;u.props=e.memoizedProps,u.state=e.memoizedState;var c=e.memoizedProps,p=e.pendingProps,g=u.context,y=f(e);y=d(e,y),(s="function"==typeof s.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(c!==p||g!==y)&&l(e,u,p,y),g=e.memoizedState,i=null!==e.updateQueue?cn(t,e,e.updateQueue,u,p,i):g;var v=void 0;if(c!==p&&(v=h(e,0,p,i)),null!==v&&void 0!==v){i=null===i||void 0===i?v:a({},i,v);var m=e.updateQueue;null!==m&&(m.baseState=a({},m.baseState,v))}return c!==p||g!==i||_()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((v=o(e,c,p,g,i,y))?(s||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(p,i,y),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(p,i,y)),"function"==typeof u.componentDidUpdate&&(e.effectTag|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(e.effectTag|=2048)):("function"!=typeof u.componentDidUpdate||c===t.memoizedProps&&g===t.memoizedState||(e.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||c===t.memoizedProps&&g===t.memoizedState||(e.effectTag|=2048),n(e,p),r(e,i)),u.props=p,u.state=i,u.context=y,v):("function"!=typeof u.componentDidUpdate||c===t.memoizedProps&&g===t.memoizedState||(e.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||c===t.memoizedProps&&g===t.memoizedState||(e.effectTag|=2048),!1)}}}(i,o,s,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e})).adoptClassInstance,M=t.callGetDerivedStateFromProps,N=t.constructClassInstance,A=t.mountClassInstance,D=t.resumeMountClassInstance,F=t.updateClassInstance;return{beginWork:function(t,e,i){if(0===e.expirationTime||e.expirationTime>i){switch(e.tag){case 3:g(e);break;case 2:w(e);break;case 4:E(e,e.stateNode.containerInfo);break;case 13:C(e)}return null}switch(e.tag){case 0:null!==t&&p("155");var n=e.type,r=e.pendingProps,o=T(e);return n=n(r,o=b(e,o)),e.effectTag|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof?(o=e.type,e.tag=2,e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,"function"==typeof o.getDerivedStateFromProps&&(null!==(r=M(e,n,r,e.memoizedState))&&void 0!==r&&(e.memoizedState=a({},e.memoizedState,r))),r=w(e),k(e,n),A(e,i),t=f(t,e,!0,r,!1,i)):(e.tag=1,l(t,e,n),e.memoizedProps=r,t=e.child),t;case 1:return r=e.type,i=e.pendingProps,S()||e.memoizedProps!==i?(n=T(e),r=r(i,n=b(e,n)),e.effectTag|=1,l(t,e,r),e.memoizedProps=i,t=e.child):t=y(t,e),t;case 2:r=w(e),null===t?null===e.stateNode?(N(e,e.pendingProps),A(e,i),n=!0):n=D(e,i):n=F(t,e,i),o=!1;var s=e.updateQueue;return null!==s&&null!==s.capturedValues&&(o=n=!0),f(t,e,n,r,o,i);case 3:t:if(g(e),n=e.updateQueue,null!==n){if(o=e.memoizedState,r=cn(t,e,n,null,null,i),e.memoizedState=r,null!==(n=e.updateQueue)&&null!==n.capturedValues)n=null;else{if(o===r){P(),t=y(t,e);break t}n=r.element}o=e.stateNode,(null===t||null===t.child)&&o.hydrate&&L(e)?(e.effectTag|=2,e.child=vn(e,null,n,i)):(P(),l(t,e,n)),e.memoizedState=r,t=e.child}else P(),t=y(t,e);return t;case 5:return x(e),null===t&&O(e),r=e.type,s=e.memoizedProps,n=e.pendingProps,o=null!==t?t.memoizedProps:null,S()||s!==n||((s=1&e.mode&&m(r,n))&&(e.expirationTime=1073741823),s&&1073741823===i)?(s=n.children,v(r,n)?s=null:o&&v(r,o)&&(e.effectTag|=16),d(t,e),1073741823!==i&&1&e.mode&&m(r,n)?(e.expirationTime=1073741823,e.memoizedProps=n,t=null):(l(t,e,s),e.memoizedProps=n,t=e.child)):t=y(t,e),t;case 6:return null===t&&O(e),e.memoizedProps=e.pendingProps,null;case 8:e.tag=7;case 7:return r=e.pendingProps,S()||e.memoizedProps!==r||(r=e.memoizedProps),n=r.children,e.stateNode=null===t?vn(e,e.stateNode,n,i):yn(e,t.stateNode,n,i),e.memoizedProps=r,e.stateNode;case 9:return null;case 4:return E(e,e.stateNode.containerInfo),r=e.pendingProps,S()||e.memoizedProps!==r?(null===t?e.child=yn(e,null,r,i):l(t,e,r),e.memoizedProps=r,t=e.child):t=y(t,e),t;case 14:return l(t,e,i=(i=e.type.render)(e.pendingProps,e.ref)),e.memoizedProps=i,e.child;case 10:return i=e.pendingProps,S()||e.memoizedProps!==i?(l(t,e,i),e.memoizedProps=i,t=e.child):t=y(t,e),t;case 11:return i=e.pendingProps.children,S()||null!==i&&e.memoizedProps!==i?(l(t,e,i),e.memoizedProps=i,t=e.child):t=y(t,e),t;case 13:return function(t,e,i){var n=e.type._context,r=e.pendingProps,o=e.memoizedProps;if(!S()&&o===r)return e.stateNode=0,C(e),y(t,e);var a=r.value;if(e.memoizedProps=r,null===o)a=1073741823;else if(o.value===r.value){if(o.children===r.children)return e.stateNode=0,C(e),y(t,e);a=0}else{var s=o.value;if(s===a&&(0!==s||1/s==1/a)||s!=s&&a!=a){if(o.children===r.children)return e.stateNode=0,C(e),y(t,e);a=0}else if(a="function"==typeof n._calculateChangedBits?n._calculateChangedBits(s,a):1073741823,0==(a|=0)){if(o.children===r.children)return e.stateNode=0,C(e),y(t,e)}else _(e,n,a,i)}return e.stateNode=a,C(e),l(t,e,r.children),e.child}(t,e,i);case 12:t:{n=e.type,o=e.pendingProps,s=e.memoizedProps,r=n._currentValue;var u=n._changedBits;if(S()||0!==u||s!==o){e.memoizedProps=o;var h=o.unstable_observedBits;if(void 0!==h&&null!==h||(h=1073741823),e.stateNode=h,0!=(u&h))_(e,n,u,i);else if(s===o){t=y(t,e);break t}l(t,e,i=(i=o.children)(r)),t=e.child}else t=y(t,e)}return t;default:p("156")}}}}function xn(t,e){var i=e.source;null===e.stack&&he(i),null!==i&&ue(i),e=e.value,null!==t&&2===t.tag&&ue(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}var En={};function Cn(t){function e(){if(null!==tt)for(var t=tt.return;null!==t;)N(t),t=t.return;et=null,it=0,tt=null,ot=!1}function i(t){return null!==at&&at.has(t)}function n(t){for(;;){var e=t.alternate,i=t.return,n=t.sibling;if(0==(512&t.effectTag)){e=O(e,t,it);var r=t;if(1073741823===it||1073741823!==r.expirationTime){t:switch(r.tag){case 3:case 2:var o=r.updateQueue;o=null===o?0:o.expirationTime;break t;default:o=0}for(var a=r.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;r.expirationTime=o}if(null!==e)return e;if(null!==i&&0==(512&i.effectTag)&&(null===i.firstEffect&&(i.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==i.lastEffect&&(i.lastEffect.nextEffect=t.firstEffect),i.lastEffect=t.lastEffect),1<t.effectTag&&(null!==i.lastEffect?i.lastEffect.nextEffect=t:i.firstEffect=t,i.lastEffect=t)),null!==n)return n;if(null===i){ot=!0;break}t=i}else{if(null!==(t=M(t)))return t.effectTag&=2559,t;if(null!==i&&(i.firstEffect=i.lastEffect=null,i.effectTag|=512),null!==n)return n;if(null===i)break;t=i}}return null}function r(t){var e=P(t.alternate,t,it);return null===e&&(e=n(t)),qt.current=null,e}function o(t,i,o){$&&p("243"),$=!0,i===it&&t===et&&null!==tt||(e(),it=i,tt=Yi((et=t).current,null,it),t.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(o)for(;null!==tt&&!T();)tt=r(tt);else for(;null!==tt;)tt=r(tt)}catch(t){if(null===tt){a=!0,S(t);break}var s=(o=tt).return;if(null===s){a=!0,S(t);break}k(s,o,t),tt=n(o)}break}return $=!1,a||null!==tt?null:ot?(t.pendingCommitExpirationTime=i,t.current.alternate):void p("262")}function s(t,e,i,n){un(e,{expirationTime:n,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:t={value:i,source:t,stack:he(t)},next:null}),h(e,n)}function l(t,e){t:{$&&!rt&&p("263");for(var n=t.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&!i(r)){s(t,n,e,1),t=void 0;break t}break;case 3:s(t,n,e,1),t=void 0;break t}n=n.return}3===t.tag&&s(t,t,e,1),t=void 0}return t}function u(t){return t=0!==Q?Q:$?rt?1:it:1&t.mode?Et?10*(1+((d()+15)/10|0)):25*(1+((d()+500)/25|0)):1,Et&&(0===ft||t>ft)&&(ft=t),t}function h(t,i){t:{for(;null!==t;){if((0===t.expirationTime||t.expirationTime>i)&&(t.expirationTime=i),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>i)&&(t.alternate.expirationTime=i),null===t.return){if(3!==t.tag){i=void 0;break t}var n=t.stateNode;!$&&0!==it&&i<it&&e(),$&&!rt&&et===n||_(n,i),Tt>bt&&p("185")}t=t.return}i=void 0}return i}function d(){return Z=z()-q,2+(Z/10|0)}function f(t,e,i,n,r){var o=Q;Q=1;try{return t(e,i,n,r)}finally{Q=o}}function g(t){if(0!==ut){if(t>ut)return;K(ht)}var e=z()-q;ut=t,ht=H(v,{timeout:10*(t-2)-e})}function _(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===lt?(st=lt=t,t.nextScheduledRoot=t):(lt=lt.nextScheduledRoot=t).nextScheduledRoot=st;else{var i=t.remainingExpirationTime;(0===i||e<i)&&(t.remainingExpirationTime=e)}ct||(mt?xt&&(pt=t,dt=1,C(t,1,!1)):1===e?m():g(e))}function y(){var t=0,e=null;if(null!==lt)for(var i=lt,n=st;null!==n;){var r=n.remainingExpirationTime;if(0===r){if((null===i||null===lt)&&p("244"),n===n.nextScheduledRoot){st=lt=n.nextScheduledRoot=null;break}if(n===st)st=r=n.nextScheduledRoot,lt.nextScheduledRoot=r,n.nextScheduledRoot=null;else{if(n===lt){(lt=i).nextScheduledRoot=st,n.nextScheduledRoot=null;break}i.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=i.nextScheduledRoot}else{if((0===t||r<t)&&(t=r,e=n),n===lt)break;i=n,n=n.nextScheduledRoot}}null!==(i=pt)&&i===e&&1===t?Tt++:Tt=0,pt=e,dt=t}function v(t){x(0,!0,t)}function m(){x(1,!1,null)}function x(t,e,i){if(vt=i,y(),e)for(;null!==pt&&0!==dt&&(0===t||t>=dt)&&(!gt||d()>=dt);)C(pt,dt,!gt),y();else for(;null!==pt&&0!==dt&&(0===t||t>=dt);)C(pt,dt,!1),y();null!==vt&&(ut=0,ht=-1),0!==dt&&g(dt),vt=null,gt=!1,E()}function E(){if(Tt=0,null!==Ct){var t=Ct;Ct=null;for(var e=0;e<t.length;e++){var i=t[e];try{i._onComplete()}catch(t){_t||(_t=!0,yt=t)}}}if(_t)throw t=yt,yt=null,_t=!1,t}function C(t,e,i){ct&&p("245"),ct=!0,i?null!==(i=t.finishedWork)?b(t,i,e):(t.finishedWork=null,null!==(i=o(t,e,!0))&&(T()?t.finishedWork=i:b(t,i,e))):null!==(i=t.finishedWork)?b(t,i,e):(t.finishedWork=null,null!==(i=o(t,e,!1))&&b(t,i,e)),ct=!1}function b(t,e,i){var n=t.firstBatch;if(null!==n&&n._expirationTime<=i&&(null===Ct?Ct=[n]:Ct.push(n),n._defer))return t.finishedWork=e,void(t.remainingExpirationTime=0);t.finishedWork=null,rt=$=!0,(i=e.stateNode).current===e&&p("177"),0===(n=i.pendingCommitExpirationTime)&&p("261"),i.pendingCommitExpirationTime=0;var r=d();if(qt.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var o=e.firstEffect}else o=e;else o=e.firstEffect;for(Y(i.containerInfo),nt=o;null!==nt;){var a=!1,s=void 0;try{for(;null!==nt;)2048&nt.effectTag&&A(nt.alternate,nt),nt=nt.nextEffect}catch(t){a=!0,s=t}a&&(null===nt&&p("178"),l(nt,s),null!==nt&&(nt=nt.nextEffect))}for(nt=o;null!==nt;){a=!1,s=void 0;try{for(;null!==nt;){var u=nt.effectTag;if(16&u&&D(nt),128&u){var h=nt.alternate;null!==h&&V(h)}switch(14&u){case 2:F(nt),nt.effectTag&=-3;break;case 6:F(nt),nt.effectTag&=-3,U(nt.alternate,nt);break;case 4:U(nt.alternate,nt);break;case 8:G(nt)}nt=nt.nextEffect}}catch(t){a=!0,s=t}a&&(null===nt&&p("178"),l(nt,s),null!==nt&&(nt=nt.nextEffect))}for(X(i.containerInfo),i.current=e,nt=o;null!==nt;){u=!1,h=void 0;try{for(o=i,a=r,s=n;null!==nt;){var c=nt.effectTag;36&c&&j(o,nt.alternate,nt,a,s),256&c&&B(nt,S),128&c&&W(nt);var f=nt.nextEffect;nt.nextEffect=null,nt=f}}catch(t){u=!0,h=t}u&&(null===nt&&p("178"),l(nt,h),null!==nt&&(nt=nt.nextEffect))}$=rt=!1,en(e.stateNode),0===(e=i.current.expirationTime)&&(at=null),t.remainingExpirationTime=e}function T(){return!(null===vt||vt.timeRemaining()>St)&&(gt=!0)}function S(t){null===pt&&p("246"),pt.remainingExpirationTime=0,_t||(_t=!0,yt=t)}var w=function(){var t=[],e=-1;return{createCursor:function(t){return{current:t}},isEmpty:function(){return-1===e},pop:function(i){0>e||(i.current=t[e],t[e]=null,e--)},push:function(i,n){t[++e]=i.current,i.current=n},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),R=function(t,e){function i(t){return t===En&&p("174"),t}var n=t.getChildHostContext,r=t.getRootHostContext;t=e.createCursor;var o=e.push,a=e.pop,s=t(En),l=t(En),u=t(En);return{getHostContext:function(){return i(s.current)},getRootHostContainer:function(){return i(u.current)},popHostContainer:function(t){a(s,t),a(l,t),a(u,t)},popHostContext:function(t){l.current===t&&(a(s,t),a(l,t))},pushHostContainer:function(t,e){o(u,e,t),o(l,t,t),o(s,En,t),e=r(e),a(s,t),o(s,e,t)},pushHostContext:function(t){var e=i(u.current),r=i(s.current);r!==(e=n(r,t.type,e))&&(o(l,t,t),o(s,e,t))}}}(t,w),I=function(t){function e(t,e,i){(t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i}function i(t){return 2===t.tag&&null!=t.type.childContextTypes}function n(t,e){var i=t.stateNode,n=t.type.childContextTypes;if("function"!=typeof i.getChildContext)return e;for(var r in i=i.getChildContext())r in n||p("108",ue(t)||"Unknown",r);return a({},e,i)}var r=t.createCursor,o=t.push,s=t.pop,l=r(c),u=r(!1),h=c;return{getUnmaskedContext:function(t){return i(t)?h:l.current},cacheContext:e,getMaskedContext:function(t,i){var n=t.type.contextTypes;if(!n)return c;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===i)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=i[o];return r&&e(t,i,a),a},hasContextChanged:function(){return u.current},isContextConsumer:function(t){return 2===t.tag&&null!=t.type.contextTypes},isContextProvider:i,popContextProvider:function(t){i(t)&&(s(u,t),s(l,t))},popTopLevelContextObject:function(t){s(u,t),s(l,t)},pushTopLevelContextObject:function(t,e,i){null!=l.cursor&&p("168"),o(l,e,t),o(u,i,t)},processChildContext:n,pushContextProvider:function(t){if(!i(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||c,h=l.current,o(l,e,t),o(u,u.current,t),!0},invalidateContextProvider:function(t,e){var i=t.stateNode;if(i||p("169"),e){var r=n(t,h);i.__reactInternalMemoizedMergedChildContext=r,s(u,t),s(l,t),o(l,r,t)}else s(u,t);o(u,e,t)},findCurrentUnmaskedContext:function(t){for((2!==Xe(t)||2!==t.tag)&&p("170");3!==t.tag;){if(i(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;(t=t.return)||p("171")}return t.stateNode.context}}}(w);w=function(t){var e=t.createCursor,i=t.push,n=t.pop,r=e(null),o=e(null),a=e(0);return{pushProvider:function(t){var e=t.type._context;i(a,e._changedBits,t),i(o,e._currentValue,t),i(r,t,t),e._currentValue=t.pendingProps.value,e._changedBits=t.stateNode},popProvider:function(t){var e=a.current,i=o.current;n(r,t),n(o,t),n(a,t),(t=t.type._context)._currentValue=i,t._changedBits=e}}}(w);var L=function(t){function e(t,e){var i=new Ki(5,null,null,0);i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function i(t,e){switch(t.tag){case 5:return null!==(e=o(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=a(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function n(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;c=t}var r=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){p("175")},prepareToHydrateHostTextInstance:function(){p("176")},popHydrationState:function(){return!1}};var o=t.canHydrateInstance,a=t.canHydrateTextInstance,s=t.getNextHydratableSibling,l=t.getFirstHydratableChild,u=t.hydrateInstance,h=t.hydrateTextInstance,c=null,d=null,f=!1;return{enterHydrationState:function(t){return d=l(t.stateNode.containerInfo),c=t,f=!0},resetHydrationState:function(){d=c=null,f=!1},tryToClaimNextHydratableInstance:function(t){if(f){var n=d;if(n){if(!i(t,n)){if(!(n=s(n))||!i(t,n))return t.effectTag|=2,f=!1,void(c=t);e(c,d)}c=t,d=l(n)}else t.effectTag|=2,f=!1,c=t}},prepareToHydrateHostInstance:function(t,e,i){return e=u(t.stateNode,t.type,t.memoizedProps,e,i,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==c)return!1;if(!f)return n(t),f=!0,!1;var i=t.type;if(5!==t.tag||"head"!==i&&"body"!==i&&!r(i,t.memoizedProps))for(i=d;i;)e(t,i),i=s(i);return n(t),d=c?s(t.stateNode):null,!0}}}(t),P=mn(t,R,I,w,L,h,u).beginWork,O=function(t,e,i,n,r){function o(t){t.effectTag|=4}var a=t.createInstance,s=t.createTextInstance,l=t.appendInitialChild,u=t.finalizeInitialChildren,h=t.prepareUpdate,c=t.persistence,d=e.getRootHostContainer,f=e.popHostContext,g=e.getHostContext,_=e.popHostContainer,y=i.popContextProvider,v=i.popTopLevelContextObject,m=n.popProvider,x=r.prepareToHydrateHostInstance,E=r.prepareToHydrateHostTextInstance,C=r.popHydrationState,b=void 0,T=void 0,S=void 0;return t.mutation?(b=function(){},T=function(t,e,i){(e.updateQueue=i)&&o(e)},S=function(t,e,i,n){i!==n&&o(e)}):p(c?"235":"236"),{completeWork:function(t,e,i){var n=e.pendingProps;switch(e.tag){case 1:return null;case 2:return y(e),t=e.stateNode,null!==(n=e.updateQueue)&&null!==n.capturedValues&&(e.effectTag&=-65,"function"==typeof t.componentDidCatch?e.effectTag|=256:n.capturedValues=null),null;case 3:return _(e),v(e),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(C(e),e.effectTag&=-3),b(e),null!==(t=e.updateQueue)&&null!==t.capturedValues&&(e.effectTag|=256),null;case 5:f(e),i=d();var r=e.type;if(null!==t&&null!=e.stateNode){var c=t.memoizedProps,w=e.stateNode,R=g();w=h(w,r,c,n,i,R),T(t,e,w,r,c,n,i,R),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!n)return null===e.stateNode&&p("166"),null;if(t=g(),C(e))x(e,i,t)&&o(e);else{c=a(r,n,i,t,e);t:for(R=e.child;null!==R;){if(5===R.tag||6===R.tag)l(c,R.stateNode);else if(4!==R.tag&&null!==R.child){R.child.return=R,R=R.child;continue}if(R===e)break;for(;null===R.sibling;){if(null===R.return||R.return===e)break t;R=R.return}R.sibling.return=R.return,R=R.sibling}u(c,r,n,i,t)&&o(e),e.stateNode=c}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)S(t,e,t.memoizedProps,n);else{if("string"!=typeof n)return null===e.stateNode&&p("166"),null;t=d(),i=g(),C(e)?E(e)&&o(e):e.stateNode=s(n,t,i,e)}return null;case 7:(n=e.memoizedProps)||p("165"),e.tag=8,r=[];t:for((c=e.stateNode)&&(c.return=e);null!==c;){if(5===c.tag||6===c.tag||4===c.tag)p("247");else if(9===c.tag)r.push(c.pendingProps.value);else if(null!==c.child){c.child.return=c,c=c.child;continue}for(;null===c.sibling;){if(null===c.return||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}return n=(c=n.handler)(n.props,r),e.child=yn(e,null!==t?t.child:null,n,i),e.child;case 8:return e.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return _(e),b(e),null;case 13:return m(e),null;case 12:return null;case 0:p("167");default:p("156")}}}}(t,R,I,w,L).completeWork,k=(R=function(t,e,i,n,r){var o=t.popHostContainer,a=t.popHostContext,s=e.popContextProvider,l=e.popTopLevelContextObject,u=i.popProvider;return{throwException:function(t,e,i){e.effectTag|=512,e.firstEffect=e.lastEffect=null,e={value:i,source:e,stack:he(e)};do{switch(t.tag){case 3:return ln(t),t.updateQueue.capturedValues=[e],void(t.effectTag|=1024);case 2:if(i=t.stateNode,0==(64&t.effectTag)&&null!==i&&"function"==typeof i.componentDidCatch&&!r(i)){ln(t);var n=(i=t.updateQueue).capturedValues;return null===n?i.capturedValues=[e]:n.push(e),void(t.effectTag|=1024)}}t=t.return}while(null!==t)},unwindWork:function(t){switch(t.tag){case 2:s(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return o(t),l(t),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return a(t),null;case 4:return o(t),null;case 13:return u(t),null;default:return null}},unwindInterruptedWork:function(t){switch(t.tag){case 2:s(t);break;case 3:o(t),l(t);break;case 5:a(t);break;case 4:o(t);break;case 13:u(t)}}}}(R,I,w,0,i)).throwException,M=R.unwindWork,N=R.unwindInterruptedWork,A=(R=function(t,e,i,n,r){function o(t){var i=t.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){e(t,i)}else i.current=null}function a(t){switch(nn(t),t.tag){case 2:o(t);var i=t.stateNode;if("function"==typeof i.componentWillUnmount)try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(i){e(t,i)}break;case 5:o(t);break;case 7:s(t.stateNode);break;case 4:c&&u(t)}}function s(t){for(var e=t;;)if(a(e),null===e.child||c&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function l(t){return 5===t.tag||3===t.tag||4===t.tag}function u(t){for(var e=t,i=!1,n=void 0,r=void 0;;){if(!i){i=e.return;t:for(;;){switch(null===i&&p("160"),i.tag){case 5:n=i.stateNode,r=!1;break t;case 3:case 4:n=i.stateNode.containerInfo,r=!0;break t}i=i.return}i=!0}if(5===e.tag||6===e.tag)s(e),r?C(n,e.stateNode):E(n,e.stateNode);else if(4===e.tag?n=e.stateNode.containerInfo:a(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(i=!1)}e.sibling.return=e.return,e=e.sibling}}var h=t.getPublicInstance,c=t.mutation;t=t.persistence,c||p(t?"235":"236");var d=c.commitMount,f=c.commitUpdate,g=c.resetTextContent,_=c.commitTextUpdate,y=c.appendChild,v=c.appendChildToContainer,m=c.insertBefore,x=c.insertInContainerBefore,E=c.removeChild,C=c.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(t,e){switch(e.tag){case 2:if(2048&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;(t=e.stateNode).props=e.memoizedProps,t.state=e.memoizedState,e=t.getSnapshotBeforeUpdate(i,n),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:break;default:p("163")}},commitResetTextContent:function(t){g(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(l(e)){var i=e;break t}e=e.return}p("160"),i=void 0}var n=e=void 0;switch(i.tag){case 5:e=i.stateNode,n=!1;break;case 3:case 4:e=i.stateNode.containerInfo,n=!0;break;default:p("161")}16&i.effectTag&&(g(e),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||l(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}for(var r=t;;){if(5===r.tag||6===r.tag)i?n?x(e,r.stateNode,i):m(e,r.stateNode,i):n?v(e,r.stateNode):y(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},commitDeletion:function(t){u(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps;t=null!==t?t.memoizedProps:n;var r=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&f(i,o,r,t,n,e)}break;case 6:null===e.stateNode&&p("162"),i=e.memoizedProps,_(e.stateNode,null!==t?t.memoizedProps:i,i);break;case 3:break;default:p("163")}},commitLifeCycles:function(t,e,i){switch(i.tag){case 2:if(t=i.stateNode,4&i.effectTag)if(null===e)t.props=i.memoizedProps,t.state=i.memoizedState,t.componentDidMount();else{var n=e.memoizedProps;e=e.memoizedState,t.props=i.memoizedProps,t.state=i.memoizedState,t.componentDidUpdate(n,e,t.__reactInternalSnapshotBeforeUpdate)}null!==(i=i.updateQueue)&&pn(i,t);break;case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:t=h(i.child.stateNode);break;case 2:t=i.child.stateNode}pn(e,t)}break;case 5:t=i.stateNode,null===e&&4&i.effectTag&&d(t,i.type,i.memoizedProps,i);break;case 6:case 4:break;default:p("163")}},commitErrorLogging:function(t,e){switch(t.tag){case 2:var i=t.type;e=t.stateNode;var n=t.updateQueue;(null===n||null===n.capturedValues)&&p("264");var o=n.capturedValues;for(n.capturedValues=null,"function"!=typeof i.getDerivedStateFromCatch&&r(e),e.props=t.memoizedProps,e.state=t.memoizedState,i=0;i<o.length;i++){var a=(n=o[i]).value,s=n.stack;xn(t,n),e.componentDidCatch(a,{componentStack:null!==s?s:""})}break;case 3:for((null===(i=t.updateQueue)||null===i.capturedValues)&&p("264"),o=i.capturedValues,i.capturedValues=null,i=0;i<o.length;i++)xn(t,n=o[i]),e(n.value);break;default:p("265")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var i=t.stateNode;switch(t.tag){case 5:t=h(i);break;default:t=i}"function"==typeof e?e(t):e.current=t}},commitDetachRef:function(t){null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null)}}}(t,l,0,0,function(t){null===at?at=new Set([t]):at.add(t)})).commitBeforeMutationLifeCycles,D=R.commitResetTextContent,F=R.commitPlacement,G=R.commitDeletion,U=R.commitWork,j=R.commitLifeCycles,B=R.commitErrorLogging,W=R.commitAttachRef,V=R.commitDetachRef,z=t.now,H=t.scheduleDeferredCallback,K=t.cancelDeferredCallback,Y=t.prepareForCommit,X=t.resetAfterCommit,q=z(),Z=q,J=0,Q=0,$=!1,tt=null,et=null,it=0,nt=null,rt=!1,ot=!1,at=null,st=null,lt=null,ut=0,ht=-1,ct=!1,pt=null,dt=0,ft=0,gt=!1,_t=!1,yt=null,vt=null,mt=!1,xt=!1,Et=!1,Ct=null,bt=1e3,Tt=0,St=1;return{recalculateCurrentTime:d,computeExpirationForFiber:u,scheduleWork:h,requestWork:_,flushRoot:function(t,e){ct&&p("253"),pt=t,dt=e,C(t,e,!1),m(),E()},batchedUpdates:function(t,e){var i=mt;mt=!0;try{return t(e)}finally{(mt=i)||ct||m()}},unbatchedUpdates:function(t,e){if(mt&&!xt){xt=!0;try{return t(e)}finally{xt=!1}}return t(e)},flushSync:function(t,e){ct&&p("187");var i=mt;mt=!0;try{return f(t,e)}finally{mt=i,m()}},flushControlled:function(t){var e=mt;mt=!0;try{f(t)}finally{(mt=e)||ct||x(1,!1,null)}},deferredUpdates:function(t){var e=Q;Q=25*(1+((d()+500)/25|0));try{return t()}finally{Q=e}},syncUpdates:f,interactiveUpdates:function(t,e,i){if(Et)return t(e,i);mt||ct||0===ft||(x(ft,!1,null),ft=0);var n=Et,r=mt;mt=Et=!0;try{return t(e,i)}finally{Et=n,(mt=r)||ct||m()}},flushInteractiveUpdates:function(){ct||0===ft||(x(ft,!1,null),ft=0)},computeUniqueAsyncExpiration:function(){var t=25*(1+((d()+500)/25|0));return t<=J&&(t=J+1),J=t},legacyContext:I}}function bn(t){function e(t,e,i,n,r,a){if(n=e.current,i){i=i._reactInternalFiber;var s=l(i);i=u(i)?h(i,s):s}else i=c;return null===e.context?e.context=i:e.pendingContext=i,un(n,{expirationTime:r,partialState:{element:t},callback:void 0===(e=a)?null:e,isReplace:!1,isForced:!1,capturedValue:null,next:null}),o(n,r),r}var i=t.getPublicInstance,n=(t=Cn(t)).recalculateCurrentTime,r=t.computeExpirationForFiber,o=t.scheduleWork,s=t.legacyContext,l=s.findCurrentUnmaskedContext,u=s.isContextProvider,h=s.processChildContext;return{createContainer:function(t,e,i){return t={current:e=new Ki(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:i,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},e.stateNode=t},updateContainer:function(t,i,o,a){var s=i.current;return e(t,i,o,n(),s=r(s),a)},updateContainerAtExpirationTime:function(t,i,r,o,a){return e(t,i,r,n(),o,a)},flushRoot:t.flushRoot,requestWork:t.requestWork,computeUniqueAsyncExpiration:t.computeUniqueAsyncExpiration,batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,syncUpdates:t.syncUpdates,interactiveUpdates:t.interactiveUpdates,flushInteractiveUpdates:t.flushInteractiveUpdates,flushControlled:t.flushControlled,flushSync:t.flushSync,getPublicRootInstance:function(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:return i(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:function(t){var e=t._reactInternalFiber;return void 0===e&&("function"==typeof t.render?p("188"):p("268",Object.keys(t))),null===(t=Qe(e))?null:t.stateNode},findHostInstanceWithNoPortals:function(t){return null===(t=function(t){if(!(t=Je(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:t.stateNode},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);Qi=tn(function(t){return e.onCommitFiberRoot(i,t)}),$i=tn(function(t){return e.onCommitFiberUnmount(i,t)})}catch(t){}return!0}(a({},t,{findHostInstanceByFiber:function(t){return null===(t=Qe(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}}}var Tn=Object.freeze({default:bn}),Sn=Tn&&bn||Tn,wn=Sn.default?Sn.default:Sn;var Rn="object"==typeof performance&&"function"==typeof performance.now,In=void 0;In=Rn?function(){return performance.now()}:function(){return Date.now()};var Ln=void 0,Pn=void 0;if(o.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var On=null,kn=!1,Mn=-1,Nn=!1,An=0,Dn=33,Fn=33,Gn=void 0;Gn=Rn?{didTimeout:!1,timeRemaining:function(){var t=An-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=An-Date.now();return 0<t?t:0}};var Un="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Un){if(kn=!1,t=In(),0>=An-t){if(!(-1!==Mn&&Mn<=t))return void(Nn||(Nn=!0,requestAnimationFrame(jn)));Gn.didTimeout=!0}else Gn.didTimeout=!1;Mn=-1,t=On,On=null,null!==t&&t(Gn)}},!1);var jn=function(t){Nn=!1;var e=t-An+Fn;e<Fn&&Dn<Fn?(8>e&&(e=8),Fn=e<Dn?Dn:e):Dn=e,An=t+Fn,kn||(kn=!0,window.postMessage(Un,"*"))};Ln=function(t,e){return On=t,null!=e&&"number"==typeof e.timeout&&(Mn=In()+e.timeout),Nn||(Nn=!0,requestAnimationFrame(jn)),0},Pn=function(){On=null,kn=!1,Mn=-1}}else Ln=window.requestIdleCallback,Pn=window.cancelIdleCallback;else Ln=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})})},Pn=function(t){clearTimeout(t)};function Bn(t,e){return t=a({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null==t||"string"!=typeof t&&"number"!=typeof t||(e+=t)}),e}(e.children))&&(t.children=e),t}function Wn(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+i,e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Vn(t,e){var i=e.value;t._wrapperState={initialValue:null!=i?i:e.defaultValue,wasMultiple:!!e.multiple}}function zn(t,e){return null!=e.dangerouslySetInnerHTML&&p("91"),a({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hn(t,e){var i=e.value;null==i&&(i=e.defaultValue,null!=(e=e.children)&&(null!=i&&p("92"),Array.isArray(e)&&(1>=e.length||p("93"),e=e[0]),i=""+e),null==i&&(i="")),t._wrapperState={initialValue:""+i}}function Kn(t,e){var i=e.value;null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&(t.defaultValue=i)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Yn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}var Xn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function qn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?qn(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Jn=void 0,Qn=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i)})}:t}(function(t,e){if(t.namespaceURI!==Xn.svg||"innerHTML"in t)t.innerHTML=e;else{for((Jn=Jn||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $n(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var tr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function ir(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=i,o=e[i];r=null==o||"boolean"==typeof o||""===o?"":n||"number"!=typeof o||0===o||tr.hasOwnProperty(r)&&tr[r]?(""+o).trim():o+"px","float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(tr).forEach(function(t){er.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tr[e]=tr[t]})});var nr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(t,e,i){e&&(nr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&p("137",t,i()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&p("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||p("61")),null!=e.style&&"object"!=typeof e.style&&p("62",i()))}function or(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=s.thatReturns("");function sr(t,e){var i=Ni(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var n=0;n<e.length;n++){var r=e[n];i.hasOwnProperty(r)&&i[r]||("topScroll"===r?xi("topScroll","scroll",t):"topFocus"===r||"topBlur"===r?(xi("topFocus","focus",t),xi("topBlur","blur",t),i.topBlur=!0,i.topFocus=!0):"topCancel"===r?(Ht("cancel",!0)&&xi("topCancel","cancel",t),i.topCancel=!0):"topClose"===r?(Ht("close",!0)&&xi("topClose","close",t),i.topClose=!0):Li.hasOwnProperty(r)&&mi(r,Li[r],t),i[r]=!0)}}function lr(t,e,i,n){return i=9===i.nodeType?i:i.ownerDocument,n===Xn.html&&(n=qn(t)),n===Xn.html?"script"===t?((t=i.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"==typeof e.is?i.createElement(t,{is:e.is}):i.createElement(t):t=i.createElementNS(n,t),t}function ur(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function hr(t,e,i,n){var r=or(e,i);switch(e){case"iframe":case"object":mi("topLoad","load",t);var o=i;break;case"video":case"audio":for(o in Pi)Pi.hasOwnProperty(o)&&mi(o,Pi[o],t);o=i;break;case"source":mi("topError","error",t),o=i;break;case"img":case"image":case"link":mi("topError","error",t),mi("topLoad","load",t),o=i;break;case"form":mi("topReset","reset",t),mi("topSubmit","submit",t),o=i;break;case"details":mi("topToggle","toggle",t),o=i;break;case"input":xe(t,i),o=me(t,i),mi("topInvalid","invalid",t),sr(n,"onChange");break;case"option":o=Bn(t,i);break;case"select":Vn(t,i),o=a({},i,{value:void 0}),mi("topInvalid","invalid",t),sr(n,"onChange");break;case"textarea":Hn(t,i),o=zn(t,i),mi("topInvalid","invalid",t),sr(n,"onChange");break;default:o=i}rr(e,o,ar);var l,u=o;for(l in u)if(u.hasOwnProperty(l)){var h=u[l];"style"===l?ir(t,h):"dangerouslySetInnerHTML"===l?null!=(h=h?h.__html:void 0)&&Qn(t,h):"children"===l?"string"==typeof h?("textarea"!==e||""!==h)&&$n(t,h):"number"==typeof h&&$n(t,""+h):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(x.hasOwnProperty(l)?null!=h&&sr(n,l):null!=h&&ve(t,l,h,r))}switch(e){case"input":Yt(t),be(t,i);break;case"textarea":Yt(t),Yn(t);break;case"option":null!=i.value&&t.setAttribute("value",i.value);break;case"select":t.multiple=!!i.multiple,null!=(e=i.value)?Wn(t,!!i.multiple,e,!1):null!=i.defaultValue&&Wn(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=s)}}function cr(t,e,i,n,r){var o=null;switch(e){case"input":i=me(t,i),n=me(t,n),o=[];break;case"option":i=Bn(t,i),n=Bn(t,n),o=[];break;case"select":i=a({},i,{value:void 0}),n=a({},n,{value:void 0}),o=[];break;case"textarea":i=zn(t,i),n=zn(t,n),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(t.onclick=s)}rr(e,n,ar),e=t=void 0;var l=null;for(t in i)if(!n.hasOwnProperty(t)&&i.hasOwnProperty(t)&&null!=i[t])if("style"===t){var u=i[t];for(e in u)u.hasOwnProperty(e)&&(l||(l={}),l[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(x.hasOwnProperty(t)?o||(o=[]):(o=o||[]).push(t,null));for(t in n){var h=n[t];if(u=null!=i?i[t]:void 0,n.hasOwnProperty(t)&&h!==u&&(null!=h||null!=u))if("style"===t)if(u){for(e in u)!u.hasOwnProperty(e)||h&&h.hasOwnProperty(e)||(l||(l={}),l[e]="");for(e in h)h.hasOwnProperty(e)&&u[e]!==h[e]&&(l||(l={}),l[e]=h[e])}else l||(o||(o=[]),o.push(t,l)),l=h;else"dangerouslySetInnerHTML"===t?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(o=o||[]).push(t,""+h)):"children"===t?u===h||"string"!=typeof h&&"number"!=typeof h||(o=o||[]).push(t,""+h):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(x.hasOwnProperty(t)?(null!=h&&sr(r,t),o||u===h||(o=[])):(o=o||[]).push(t,h))}return l&&(o=o||[]).push("style",l),o}function pr(t,e,i,n,r){"input"===i&&"radio"===r.type&&null!=r.name&&Ee(t,r),or(i,n),n=or(i,r);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?ir(t,s):"dangerouslySetInnerHTML"===a?Qn(t,s):"children"===a?$n(t,s):ve(t,a,s,n)}switch(i){case"input":Ce(t,r);break;case"textarea":Kn(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?Wn(t,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?Wn(t,!!r.multiple,r.defaultValue,!0):Wn(t,!!r.multiple,r.multiple?[]:"",!1))}}function dr(t,e,i,n,r){switch(e){case"iframe":case"object":mi("topLoad","load",t);break;case"video":case"audio":for(var o in Pi)Pi.hasOwnProperty(o)&&mi(o,Pi[o],t);break;case"source":mi("topError","error",t);break;case"img":case"image":case"link":mi("topError","error",t),mi("topLoad","load",t);break;case"form":mi("topReset","reset",t),mi("topSubmit","submit",t);break;case"details":mi("topToggle","toggle",t);break;case"input":xe(t,i),mi("topInvalid","invalid",t),sr(r,"onChange");break;case"select":Vn(t,i),mi("topInvalid","invalid",t),sr(r,"onChange");break;case"textarea":Hn(t,i),mi("topInvalid","invalid",t),sr(r,"onChange")}for(var a in rr(e,i,ar),n=null,i)i.hasOwnProperty(a)&&(o=i[a],"children"===a?"string"==typeof o?t.textContent!==o&&(n=["children",o]):"number"==typeof o&&t.textContent!==""+o&&(n=["children",""+o]):x.hasOwnProperty(a)&&null!=o&&sr(r,a));switch(e){case"input":Yt(t),be(t,i);break;case"textarea":Yt(t),Yn(t);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(t.onclick=s)}return n}function fr(t,e){return t.nodeValue!==e}var gr=Object.freeze({createElement:lr,createTextNode:ur,setInitialProperties:hr,diffProperties:cr,updateProperties:pr,diffHydratedProperties:dr,diffHydratedText:fr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,i){switch(e){case"input":if(Ce(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=H(n);r||p("90"),Xt(n),Ce(n,r)}}}break;case"textarea":Kn(t,i);break;case"select":null!=(e=i.value)&&Wn(t,!!i.multiple,e,!1)}}});Lt.injectFiberControlledHostComponent(gr);var _r=null,yr=null;function vr(t){this._expirationTime=br.computeUniqueAsyncExpiration(),this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function mr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function xr(t,e,i){this._internalRoot=br.createContainer(t,e,i)}function Er(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Cr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}vr.prototype.render=function(t){this._defer||p("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,i=this._expirationTime,n=new mr;return br.updateContainerAtExpirationTime(t,e,null,i,n._onCommit),n},vr.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},vr.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||p("251"),this._hasChildren){var i=this._expirationTime;if(e!==this){this._hasChildren&&(i=this._expirationTime=e._expirationTime,this.render(this._children));for(var n=null,r=e;r!==this;)n=r,r=r._next;null===n&&p("251"),n._next=r._next,this._next=e,t.firstBatch=this}this._defer=!1,br.flushRoot(t,i),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},vr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},mr.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},mr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var i=t[e];"function"!=typeof i&&p("191",i),i()}}},xr.prototype.render=function(t,e){var i=this._internalRoot,n=new mr;return null!==(e=void 0===e?null:e)&&n.then(e),br.updateContainer(t,i,null,n._onCommit),n},xr.prototype.unmount=function(t){var e=this._internalRoot,i=new mr;return null!==(t=void 0===t?null:t)&&i.then(t),br.updateContainer(null,e,null,i._onCommit),i},xr.prototype.legacy_renderSubtreeIntoContainer=function(t,e,i){var n=this._internalRoot,r=new mr;return null!==(i=void 0===i?null:i)&&r.then(i),br.updateContainer(e,n,t,r._onCommit),r},xr.prototype.createBatch=function(){var t=new vr(this),e=t._expirationTime,i=this._internalRoot,n=i.firstBatch;if(null===n)i.firstBatch=t,t._next=null;else{for(i=null;null!==n&&n._expirationTime<=e;)i=n,n=n._next;t._next=n,null!==i&&(i._next=t)}return t};var br=wn({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zn(null,"");break;default:t=Zn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}return t},getChildHostContext:function(t,e){return Zn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){_r=yi;var t=l();if(Fi(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var i=window.getSelection&&window.getSelection();if(i&&0!==i.rangeCount){e=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch(t){e=null;break t}var o=0,a=-1,s=-1,u=0,h=0,c=t,p=null;e:for(;;){for(var d;c!==e||0!==n&&3!==c.nodeType||(a=o+n),c!==r||0!==i&&3!==c.nodeType||(s=o+i),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)p=c,c=d;for(;;){if(c===t)break e;if(p===e&&++u===n&&(a=o),p===r&&++h===i&&(s=o),null!==(d=c.nextSibling))break;p=(c=p).parentNode}c=d}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;yr={focusedElem:t,selectionRange:e},vi(!1)},resetAfterCommit:function(){var t=yr,e=l(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&h(document.documentElement,i)){if(Fi(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(window.getSelection){e=window.getSelection();var r=i[rt()].length;t=Math.min(n.start,r),n=void 0===n.end?t:Math.min(n.end,r),!e.extend&&t>n&&(r=n,n=t,t=r),r=Di(i,t);var o=Di(i,n);if(r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)){var a=document.createRange();a.setStart(r.node,r.offset),e.removeAllRanges(),t>n?(e.addRange(a),e.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),e.addRange(a))}}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}yr=null,vi(_r),_r=null},createInstance:function(t,e,i,n,r){return(t=lr(t,e,i,n))[B]=r,t[W]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,i,n){return hr(t,e,i,n),Cr(e,i)},prepareUpdate:function(t,e,i,n,r){return cr(t,e,i,n,r)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"==typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,i,n){return(t=ur(t,e))[B]=n,t},now:In,mutation:{commitMount:function(t,e,i){Cr(e,i)&&t.focus()},commitUpdate:function(t,e,i,n,r){t[W]=r,pr(t,e,i,n,r)},resetTextContent:function(t){$n(t,"")},commitTextUpdate:function(t,e,i){t.nodeValue=i},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,i){t.insertBefore(e,i)},insertInContainerBefore:function(t,e,i){8===t.nodeType?t.parentNode.insertBefore(e,i):t.insertBefore(e,i)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,i,n,r,o){return t[B]=o,t[W]=i,dr(t,e,i,r,n)},hydrateTextInstance:function(t,e,i){return t[B]=i,fr(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ln,cancelDeferredCallback:Pn}),Tr=br;function Sr(t,e,i,n,r){Er(i)||p("200");var o=i._reactRootContainer;if(o){if("function"==typeof r){var a=r;r=function(){var t=br.getPublicRootInstance(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)}else{if(o=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new xr(t,!1,e)}(i,n),"function"==typeof r){var s=r;r=function(){var t=br.getPublicRootInstance(o._internalRoot);s.call(t)}}br.unbatchedUpdates(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)})}return br.getPublicRootInstance(o._internalRoot)}function wr(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Er(e)||p("200"),function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}Ft=Tr.batchedUpdates,Gt=Tr.interactiveUpdates,Ut=Tr.flushInteractiveUpdates;var Rr={createPortal:wr,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:br.findHostInstance(t)},hydrate:function(t,e,i){return Sr(null,t,e,!0,i)},render:function(t,e,i){return Sr(null,t,e,!1,i)},unstable_renderSubtreeIntoContainer:function(t,e,i,n){return(null==t||void 0===t._reactInternalFiber)&&p("38"),Sr(t,e,i,!1,n)},unmountComponentAtNode:function(t){return Er(t)||p("40"),!!t._reactRootContainer&&(br.unbatchedUpdates(function(){Sr(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return wr.apply(void 0,arguments)},unstable_batchedUpdates:br.batchedUpdates,unstable_deferredUpdates:br.deferredUpdates,flushSync:br.flushSync,unstable_flushControlled:br.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:U,EventPluginRegistry:T,EventPropagators:it,ReactControlledComponent:Dt,ReactDOMComponentTree:K,ReactDOMEventListener:bi},unstable_createRoot:function(t,e){return new xr(t,!0,null!=e&&!0===e.hydrate)}};br.injectIntoDevTools({findFiberByHostInstance:V,bundleType:0,version:"16.3.2",rendererPackageName:"react-dom"});var Ir=Object.freeze({default:Rr}),Lr=Ir&&Rr||Ir;t.exports=Lr.default?Lr.default:Lr},function(t,e,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,i){"use strict";t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty;function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!n.call(e,i[a])||!r(t[i[a]],e[i[a]]))return!1;return!0}},function(t,e,i){"use strict";var n=i(30);t.exports=function t(e,i){return!(!e||!i)&&(e===i||!n(e)&&(n(i)?t(e,i.parentNode):"contains"in e?e.contains(i):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(i))))}},function(t,e,i){"use strict";var n=i(31);t.exports=function(t){return n(t)&&3==t.nodeType}},function(t,e,i){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"==typeof e.Node?t instanceof e.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),o=i(42),a=i(41),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.render=function(){var t;new a.Feature({type:"geoMarker",geometry:new a.Point([46,52])});return t=r.createElement("div",{id:"map",className:"map"}),new a.Map({target:document.getElementById("map"),loadTilesWhileAnimating:!0,view:new a.View({zoom:10,minZoom:2,maxZoom:19})}).render(),r.createElement("div",{id:"page-top"},r.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",id:"mainNav"},r.createElement("div",{className:"container"},r.createElement("a",{className:"navbar-brand js-scroll-trigger",href:"#page-top"},"Antykhimera"),r.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu",r.createElement("i",{className:"fas fa-bars"})),r.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.createElement("ul",{className:"navbar-nav ml-auto"},r.createElement("li",{className:"nav-item"},r.createElement("a",{className:"nav-link js-scroll-trigger",href:"#about"},"Prsentation")),r.createElement("li",{className:"nav-item"},r.createElement("a",{className:"nav-link js-scroll-trigger",href:"#projects"},"Activit")),r.createElement("li",{className:"nav-item"},r.createElement("a",{className:"nav-link js-scroll-trigger",href:"#Galerie"},"Galerie")),r.createElement("li",{className:"nav-item"},r.createElement("a",{className:"nav-link js-scroll-trigger",href:"#contact"},"Contact")))))),r.createElement("header",{className:"masthead"},r.createElement("div",{className:"container d-flex h-100 align-items-center"},r.createElement("div",{className:"mx-auto text-center"},r.createElement("h1",{className:"mx-auto my-0 text-uppercase"},"Antykhimera"),r.createElement("h2",{className:"text-white-50 mx-auto mt-2 mb-5"},"Association de Trollball et Jeux de Rle Grandeur Nature"),r.createElement("a",{href:"#about",className:"btn btn-primary js-scroll-trigger"},"Prsentation")))),r.createElement("section",{id:"about",className:"about-section text-center"},r.createElement("div",{className:"container"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-8 mx-auto"},r.createElement("h2",{className:"text-white mb-4"},"Prsentation"),r.createElement("p",{className:"text-white-50"}," LAntykhimera est une association promouvant le jeu de rle Grandeur Nature et le Trollball, cre en novembre 2013, par une bande damis souhaitant partager leurs loisirs. Aujourdhui, elle compte une trentaine de membres et pratique ses activits sur toute la rgion lyonnaise, et mme plus loin !",r.createElement("br",null),r.createElement("br",null),"Nous sommes une petite troupe de passionns qui se runit tous les dimanches et les mercredis soir, sur la belle ville de Lyon, arme dpes en mousse et de lourds boucliers, darcs, de dagues de lancer et autre jambon en mousse pour s'entrain  l'escrime ludique et au trollbal. Nous proposons aussi des activits au grand public lors de convention ou de ftes mdivales-fantastiques, tels que le festival Yggdrasil a Lyon.",r.createElement("br",null),r.createElement("br",null),"Lassociation donne  tous ceux qui le souhaitent, la possibilit de crer, que ce soit des animations, des entranements voir mme des GNs !",r.createElement("br",null),"Et ses portes vous sont ouvertes !",r.createElement("br",null),"LAntykhimera, vaincra !",r.createElement("br",null)))),r.createElement("img",{src:"img/ipad.png",className:"img-fluid",alt:""}))),r.createElement("section",{id:"projects",className:"projects-section bg-light"},r.createElement("div",{className:"container"},r.createElement("div",{className:"row align-items-center no-gutters mb-4 mb-lg-5"},r.createElement("div",{className:"col-xl-8 col-lg-7"},r.createElement("img",{className:"img-fluid mb-3 mb-lg-0",src:"img/bg-masthead.jpg",alt:""})),r.createElement("div",{className:"col-xl-4 col-lg-5"},r.createElement("div",{className:"featured-text text-center text-lg-left"},r.createElement("h4",null,"Escrime ludique"),r.createElement("p",{className:"text-black-50 mb-0"}," C'est une activit sportive utilise notamment en gn, permettant de combattre avec des armes en mousse de manire scuris.")," ",r.createElement("p",{className:"text-black-50 mb-0"}," ",r.createElement("i",null,"Des rglementations strictes sont tout de fois prsente comme l'interdiction de l'estoc et des coups trop fort ou aux parties sensibles."))))),r.createElement("div",{className:"row justify-content-center no-gutters mb-5 mb-lg-0"},r.createElement("div",{className:"col-lg-6"},r.createElement("img",{className:"img-fluid",src:"img/demo-image-01.jpg",alt:""})),r.createElement("div",{className:"col-lg-6"},r.createElement("div",{className:"bg-black text-center h-100 project"},r.createElement("div",{className:"d-flex h-100"},r.createElement("div",{className:"project-text w-100 my-auto text-center text-lg-left"},r.createElement("h4",{className:"text-white"},"TrollBall"),r.createElement("p",{className:"mb-0 text-white-50"},"Sport mlant escrime ludique et rugby. Il y a deux quipes armes et une balle au centre, le but est de mettre la balle de l'autre ct des lignes adverses ou dliminer l'autre quipe."),r.createElement("p",{className:"mb-0 text-white-50"}," Pour varier le plaisir nous mettons en place des manches spciales avec des contraintes varies pour plus de fun! "),r.createElement("hr",{className:"d-none d-lg-block mb-0 ml-0"})))))),r.createElement("div",{className:"row justify-content-center no-gutters"},r.createElement("div",{className:"col-lg-6"},r.createElement("img",{className:"img-fluid",src:"img/demo-image-02.jpg",alt:""})),r.createElement("div",{className:"col-lg-6 order-lg-first"},r.createElement("div",{className:"bg-black text-center h-100 project"},r.createElement("div",{className:"d-flex h-100"},r.createElement("div",{className:"project-text w-100 my-auto text-center text-lg-right"},r.createElement("h4",{className:"text-white"},"GN"),r.createElement("p",{className:"mb-0 text-white-50"},"volution du JdR papier o les joueurs incarnent physiquement un personnage dans un univers fictif. Ils interprtent leur personnage avec diverses interactions et actions physiques, d'aprs des rgles de jeu et l'arbitrage d'organisateurs. ")," ",r.createElement("p",{className:"text-white-50 mb-0"}," Le jeu peut se drouler dans different univers autant medieval-fantastisque que futuriste ou post-apo.")," ",r.createElement("p",{className:"text-white-50 mb-0"},r.createElement("i",null," Un objectif de l'association sur le long terme est d'organiser son propre gn.")),r.createElement("hr",{className:"d-none d-lg-block mb-0 mr-0"})))))),r.createElement("div",{className:"row justify-content-center no-gutters mb-5 mb-lg-0"},r.createElement("div",{className:"col-lg-6"},r.createElement("img",{className:"img-fluid",src:"img/demo-image-01.jpg",alt:""})),r.createElement("div",{className:"col-lg-6"},r.createElement("div",{className:"bg-black text-center h-100 project"},r.createElement("div",{className:"d-flex h-100"},r.createElement("div",{className:"project-text w-100 my-auto text-center text-lg-left"},r.createElement("h4",{className:"text-white"},"Craft"),r.createElement("p",{className:"mb-0 text-white-50"},"Que a soit le travail du cuir, du mtal, du tissu ou du bois, certains Gnistes se sont spcialiss dans la fabrication de certains objets pour des besoins personnels et aussi pour le partager aux autres."),r.createElement("p",{className:"mb-0 text-white-50"}," Rgulirement, nos membres se runissent lors d'atelier o nous travaillons sur des projets d'artisanats pour le groupe comme la fabrication d'lments pour notre campement, d'arme ou costumes."),r.createElement("hr",{className:"d-none d-lg-block mb-0 ml-0"})))))),r.createElement("div",{className:"row justify-content-center no-gutters"},r.createElement("div",{className:"col-lg-6"},r.createElement("img",{className:"img-fluid",src:"img/demo-image-02.jpg",alt:""})),r.createElement("div",{className:"col-lg-6 order-lg-first"},r.createElement("div",{className:"bg-black text-center h-100 project"},r.createElement("div",{className:"d-flex h-100"},r.createElement("div",{className:"project-text w-100 my-auto text-center text-lg-right"},r.createElement("h4",{className:"text-white"},"Evenement"),r.createElement("p",{className:"mb-0 text-white-50"},"Pour faire dcouvrir nos activits, l'association participe  de nombreux vnements tout au long de l'anne dans la rgion lyonnaise."),r.createElement("hr",{className:"d-none d-lg-block mb-0 mr-0"})))))))),r.createElement("section",{id:"Galerie",className:"signup-section"},r.createElement("div",{className:"container"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-10 col-lg-8 mx-auto text-center"},r.createElement("i",{className:"far fa-paper-plane fa-2x mb-2 text-white"}),r.createElement("h2",{className:"text-white mb-5"},"Galerie"))))),r.createElement("section",{className:"contact-section bg-black",id:"contact"},r.createElement("div",{className:"container"},r.createElement("div",{className:"row justify-content-center no-gutters mb-5 mb-lg-0"},r.createElement("div",{className:"col-lg-6"},t),r.createElement("div",{className:"col-lg-6"},r.createElement("div",{className:"bg-black text-center h-100 project"},r.createElement("div",{className:"d-flex h-100"},r.createElement("div",{className:"project-text w-100 my-auto text-center text-lg-left"},r.createElement("h4",{className:"text-white"},"Entrainement"),r.createElement("p",{className:"mb-0 text-white-50"},"Nous nous entrainons  la doua (voir carte-ci-contre) le samedi  partir de 14h30 et le mercredi  19h30 uniquement pendant l'heure d't. "),r.createElement("hr",{className:"d-none d-lg-block mb-0 ml-0"})))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4 mb-3 mb-md-0"},r.createElement("div",{className:"card py-4 h-100"},r.createElement("div",{className:"card-body text-center"},r.createElement("i",{className:"fas fa-map-marked-alt text-primary mb-2"}),r.createElement("h4",{className:"text-uppercase m-0"},"Adresse"),r.createElement("hr",{className:"my-4"}),r.createElement("div",{className:"small text-black-50"},"71b Avenue Paul Santy 69008 Lyon")))),r.createElement("div",{className:"col-md-4 mb-3 mb-md-0"},r.createElement("div",{className:"card py-4 h-100"},r.createElement("div",{className:"card-body text-center"},r.createElement("i",{className:"fas fa-envelope text-primary mb-2"}),r.createElement("h4",{className:"text-uppercase m-0"},"Email"),r.createElement("hr",{className:"my-4"}),r.createElement("div",{className:"small text-black-50"},r.createElement("a",{href:"#"},"antykhimera@hotmail.fr"))))),r.createElement("div",{className:"col-md-4 mb-3 mb-md-0"},r.createElement("div",{className:"card py-4 h-100"},r.createElement("div",{className:"card-body text-center"},r.createElement("i",{className:"fas fa-mobile-alt text-primary mb-2"}),r.createElement("h4",{className:"text-uppercase m-0"},"Telephone"),r.createElement("hr",{className:"my-4"}),r.createElement("div",{className:"small text-black-50"},"07 81 78 71 24"))))),r.createElement("div",{className:"social d-flex justify-content-center"},r.createElement("a",{href:"https://www.facebook.com/antykhimera/",className:"mx-2"},r.createElement("i",{className:"fab fa-facebook-f"}))))),r.createElement("footer",{className:"bg-black small text-center text-white-50"},r.createElement("div",{className:"container"},"Copyright  Your Website 2018")))},e}(r.Component);e.default=o.connect(function(t){return{}},{})(s)},function(t,e,i){"use strict";
/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(34),r=i(35),o=i(36),a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103,l=a?Symbol.for("react.call"):60104,u=a?Symbol.for("react.return"):60105,h=a?Symbol.for("react.portal"):60106,c=a?Symbol.for("react.fragment"):60107,p="function"==typeof Symbol&&Symbol.iterator;function d(t){for(var e=arguments.length-1,i="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);throw(e=Error(i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",e.framesToPop=1,e}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function g(t,e,i){this.props=t,this.context=e,this.refs=r,this.updater=i||f}function _(t,e,i){this.props=t,this.context=e,this.refs=r,this.updater=i||f}function y(){}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&d("85"),this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var v=_.prototype=new y;function m(t,e,i){this.props=t,this.context=e,this.refs=r,this.updater=i||f}v.constructor=_,n(v,g.prototype),v.isPureReactComponent=!0;var x=m.prototype=new y;x.constructor=m,n(x,g.prototype),x.unstable_isAsyncReactComponent=!0,x.render=function(){return this.props.children};var E={current:null},C=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,i){var n,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)C.call(e,n)&&!b.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:E.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var w=/\/+/g,R=[];function I(t,e,i,n){if(R.length){var r=R.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function P(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case s:case l:case u:case h:o=!0}}if(o)return i(n,t,""===e?"."+O(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var c=e+O(r=t[a],a);o+=P(r,c,i,n)}else if(null===t||void 0===t?c=null:c="function"==typeof(c=p&&t[p]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),a=0;!(r=t.next()).done;)o+=P(r=r.value,c=e+O(r,a++),i,n);else"object"===r&&d("31","[object Object]"===(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return o}function O(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function k(t,e){t.func.call(t.context,e,t.count++)}function M(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?N(t,n,i,o.thatReturnsArgument):null!=t&&(S(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(w,"$&/")+"/")+i,t={$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),n.push(t))}function N(t,e,i,n,r){var o="";null!=i&&(o=(""+i).replace(w,"$&/")+"/"),e=I(e,o,n,r),null==t||P(t,"",M,e),L(e)}var A={Children:{map:function(t,e,i){if(null==t)return t;var n=[];return N(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;e=I(null,null,e,i),null==t||P(t,"",k,e),L(e)},count:function(t){return null==t?0:P(t,"",o.thatReturnsNull,null)},toArray:function(t){var e=[];return N(t,e,null,o.thatReturnsArgument),e},only:function(t){return S(t)||d("143"),t}},Component:g,PureComponent:_,unstable_AsyncComponent:m,Fragment:c,createElement:T,cloneElement:function(t,e,i){var r=n({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=E.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)C.call(e,h)&&!b.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:l}},createFactory:function(t){var e=T.bind(null,t);return e.type=t,e},isValidElement:S,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:E,assign:n}},D=Object.freeze({default:A}),F=D&&A||D;t.exports=F.default?F.default:F},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))r.call(i,u)&&(s[u]=i[u]);if(n){a=n(i);for(var h=0;h<a.length;h++)o.call(i,a[h])&&(s[a[h]]=i[a[h]])}}return s}},function(t,e,i){"use strict";t.exports={}},function(t,e,i){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,i){"use strict";var n=i(38);function r(){}t.exports=function(){function t(t,e,i,r,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return i.checkPropTypes=r,i.PropTypes=i,i}},function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,i){t.exports=function(){"use strict";function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(i,n,r,o,a){!function e(i,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=n-r+1,u=Math.log(s),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(s-h)/s)*(l-s/2<0?-1:1),p=Math.max(r,Math.floor(n-l*h/s+c)),d=Math.min(o,Math.floor(n+(s-l)*h/s+c));e(i,n,p,d,a)}var f=i[n],g=r,_=o;for(t(i,r,n),a(i[o],f)>0&&t(i,r,o);g<_;){for(t(i,g,_),g++,_--;a(i[g],f)<0;)g++;for(;a(i[_],f)>0;)_--}0===a(i[r],f)?t(i,r,_):t(i,++_,o),_<=n&&(r=_+1),n<=_&&(o=_-1)}}(i,n,r||0,o||i.length-1,a||e)}}()},function(t,e,i){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}i.r(e);var r=0;function o(t){return t.ol_uid||(t.ol_uid=++r)}var a="5.2.0",s=function(t){function e(e){var i="Assertion failed. See https://openlayers.org/en/"+a.split("-")[0]+"/doc/errors/#"+e+" for details.";t.call(this,i),this.code=e,this.name="AssertionError",this.message=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),l={ADD:"add",REMOVE:"remove"},u="propertychange",h="function"==typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var a=i[r];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}return n};function c(t){for(var e in t)delete t[e]}function p(t){var e;for(e in t)return!1;return!e}function d(t,e,i,n){for(var r,o=0,a=t.length;o<a;++o)if((r=t[o]).listener===e&&r.bindTo===i)return n&&(r.deleteIndex=o),r}function f(t,e){var i=t.ol_lm;return i?i[e]:void 0}function g(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e}function _(t,e){var i=f(t,e);if(i){for(var n=0,r=i.length;n<r;++n)t.removeEventListener(e,i[n].boundListener),c(i[n]);i.length=0;var o=t.ol_lm;o&&(delete o[e],0===Object.keys(o).length&&delete t.ol_lm)}}function y(t,e,i,n,r){var o=g(t),a=o[e];a||(a=o[e]=[]);var s=d(a,i,n,!1);return s?r||(s.callOnce=!1):(s={bindTo:n,callOnce:!!r,listener:i,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var i=t.listener,n=t.bindTo||t.target;return t.callOnce&&x(t),i.call(n,e)};return t.boundListener=e,e}(s)),a.push(s)),s}function v(t,e,i,n){return y(t,e,i,n,!0)}function m(t,e,i,n){var r=f(t,e);if(r){var o=d(r,i,n,!0);o&&x(o)}}function x(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=f(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&_(t.target,t.type)}c(t)}}function E(t){var e=g(t);for(var i in e)_(t,i)}var C=function(){this.disposed_=!1};C.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},C.prototype.disposeInternal=function(){};var b=C;function T(){return!0}function S(){return!1}function w(){}var R=function(t){this.propagationStopped,this.type=t,this.target=null};function I(t){t.stopPropagation()}R.prototype.preventDefault=function(){this.propagationStopped=!0},R.prototype.stopPropagation=function(){this.propagationStopped=!0};var L=R,P=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new L(t):t,i=e.type;e.target=this;var n,r=this.listeners_[i];if(r){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var o=0,a=r.length;o<a;++o)if(!1===r[o].call(this,e)||e.propagationStopped){n=!1;break}if(--this.dispatching_[i],0===this.dispatching_[i]){var s=this.pendingRemovals_[i];for(delete this.pendingRemovals_[i];s--;)this.removeEventListener(i,w);delete this.dispatching_[i]}return n}},e.prototype.disposeInternal=function(){E(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var n=i.indexOf(e);t in this.pendingRemovals_?(i[n]=w,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t])}},e}(b),O={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};var k=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(O.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=y(this,t[r],e);return n}return y(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=v(this,t[r],e);return n}return v(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,n=t.length;i<n;++i)m(this,t[i],e);else m(this,t,e)},e}(P),M=function(t){function e(e,i,n){t.call(this,e),this.key=i,this.oldValue=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),N={};function A(t){return N.hasOwnProperty(t)?N[t]:N[t]="change:"+t}var D=function(t){function e(e){t.call(this),o(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return h({},this.values_)},e.prototype.notify=function(t,e){var i;i=A(t),this.dispatchEvent(new M(i,t,e)),i=u,this.dispatchEvent(new M(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(k),F="length",G=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),U=function(t){function e(e,i){t.call(this);var n=i||{};if(this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(F)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new G(l.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new G(l.REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new G(l.REMOVE,n)),this.dispatchEvent(new G(l.ADD,e))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(F,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new s(58)},e}(D);function j(t,e){if(!t)throw new s(e)}var B={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function W(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function V(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function z(t,e,i){var n,r;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(r=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*r}function H(t,e){return Y(t,e[0],e[1])}function K(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Y(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function X(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=B.UNKNOWN;return a<i?l|=B.LEFT:a>r&&(l|=B.RIGHT),s<n?l|=B.BELOW:s>o&&(l|=B.ABOVE),l===B.UNKNOWN&&(l=B.INTERSECTING),l}function q(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function Z(t){return q(1/0,1/0,-1/0,-1/0,t)}function J(t,e){var i=t[0],n=t[1];return q(i,n,i,n,e)}function Q(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function $(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function tt(t,e){for(var i=0,n=e.length;i<n;++i)$(t,e[i]);return t}function et(t,e,i,n,r){for(;i<n;i+=r)it(t,e[i],e[i+1]);return t}function it(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function nt(t){return[t[0],t[1]]}function rt(t){return[t[2],t[1]]}function ot(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function at(t,e,i,n,r){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(i),l=Math.sin(i),u=o*s,h=o*l,c=a*s,p=a*l,d=t[0],f=t[1],g=d-u+p,_=d-u-p,y=d+u-p,v=d+u+p,m=f-h-c,x=f-h+c,E=f+h+c,C=f+h-c;return q(Math.min(g,_,y,v),Math.min(m,x,E,C),Math.max(g,_,y,v),Math.max(m,x,E,C),r)}function st(t){return t[3]-t[1]}function lt(t,e,i){var n=i||[1/0,1/0,-1/0,-1/0];return pt(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):Z(n),n}function ut(t){return[t[0],t[3]]}function ht(t){return[t[2],t[3]]}function ct(t){return t[2]-t[0]}function pt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function dt(t){return t[2]<t[0]||t[3]<t[1]}function ft(t,e,i){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),function(t,e,i){return q(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],i)}function gt(t,e,i,n,r,o){for(var a=o||[],s=0,l=e;l<i;l+=n){var u=t[l],h=t[l+1];a[s++]=r[0]*u+r[2]*h+r[4],a[s++]=r[1]*u+r[3]*h+r[5]}return o&&a.length!=s&&(a.length=s),a}function _t(t,e,i,n,r,o,a){for(var s=a||[],l=0,u=e;u<i;u+=n){s[l++]=t[u]+r,s[l++]=t[u+1]+o;for(var h=u+2;h<u+n;++h)s[l++]=t[h]}return a&&s.length!=l&&(s.length=l),s}function yt(t,e,i){return Math.min(Math.max(t,e),i)}var vt="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function mt(t,e,i,n,r,o){var a=r-i,s=o-n;if(0!==a||0!==s){var l=((t-i)*a+(e-n)*s)/(a*a+s*s);l>1?(i=r,n=o):l>0&&(i+=a*l,n+=s*l)}return xt(t,e,i,n)}function xt(t,e,i,n){var r=i-t,o=n-e;return r*r+o*o}function Et(t){return 180*t/Math.PI}function Ct(t){return t*Math.PI/180}function bt(t,e){var i=t%e;return i*e<0?i+e:i}function Tt(t,e,i){return t+i*(e-t)}var St={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},wt=6371008.8;
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */function Rt(t,e,i,n){var r=n||wt,o=Ct(t[1]),a=Ct(t[0]),s=e/r,l=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(i));return[Et(a+Math.atan2(Math.sin(i)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(l))),Et(l)]}var It={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Lt={};Lt[It.DEGREES]=2*Math.PI*6370997/360,Lt[It.FEET]=.3048,Lt[It.METERS]=1,Lt[It.USFEET]=1200/3937;var Pt=It,Ot=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};Ot.prototype.canWrapX=function(){return this.canWrapX_},Ot.prototype.getCode=function(){return this.code_},Ot.prototype.getExtent=function(){return this.extent_},Ot.prototype.getUnits=function(){return this.units_},Ot.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Lt[this.units_]},Ot.prototype.getWorldExtent=function(){return this.worldExtent_},Ot.prototype.getAxisOrientation=function(){return this.axisOrientation_},Ot.prototype.isGlobal=function(){return this.global_},Ot.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Ot.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Ot.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Ot.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Ot.prototype.setWorldExtent=function(t){this.worldExtent_=t},Ot.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Ot.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var kt=Ot,Mt=6378137,Nt=Math.PI*Mt,At=[-Nt,-Nt,Nt,Nt],Dt=[-180,-85,180,85],Ft=function(t){function e(e){t.call(this,{code:e,units:Pt.METERS,extent:At,global:!0,worldExtent:Dt,getPointResolution:function(t,e){return t/vt(e[1]/Mt)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kt),Gt=[new Ft("EPSG:3857"),new Ft("EPSG:102100"),new Ft("EPSG:102113"),new Ft("EPSG:900913"),new Ft("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Ft("urn:ogc:def:crs:EPSG::3857"),new Ft("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ut(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var a=Nt,s=0;s<n;s+=r){o[s]=a*t[s]/180;var l=Mt*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function jt(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var a=0;a<n;a+=r)o[a]=180*t[a]/Nt,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Mt))/Math.PI-90;return o}var Bt=[-180,-90,180,90],Wt=6378137*Math.PI/180,Vt=function(t){function e(e,i){t.call(this,{code:e,units:Pt.DEGREES,extent:Bt,axisOrientation:i,global:!0,metersPerUnit:Wt,worldExtent:Bt})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kt),zt=[new Vt("CRS:84"),new Vt("EPSG:4326","neu"),new Vt("urn:ogc:def:crs:EPSG::4326","neu"),new Vt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Vt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vt("urn:ogc:def:crs:OGC:2:84"),new Vt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vt("urn:x-ogc:def:crs:EPSG:4326","neu")],Ht={};var Kt={};function Yt(t,e,i){var n=t.getCode(),r=e.getCode();n in Kt||(Kt[n]={}),Kt[n][r]=i}function Xt(t,e,i){var n;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];n=e}else n=t.slice();return n}function qt(t,e,i){if(void 0!==e&&t!==e){for(var n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Zt(t){!function(t,e){Ht[t]=e}(t.getCode(),t),Yt(t,t,Xt)}function Jt(t){var e=null;if(t instanceof kt)e=t;else if("string"==typeof t){e=function(t){return Ht[t]||null}(t)}return e}function Qt(t){!function(t){t.forEach(Zt)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Yt(e,t,Xt)})})}function $t(t,e){return t?"string"==typeof t?Jt(t):t:Jt(e)}function te(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?i:ee(t,e)===Xt&&i}function ee(t,e){var i=function(t,e){var i;return t in Kt&&e in Kt[t]&&(i=Kt[t][e]),i}(t.getCode(),e.getCode());return i||(i=qt),i}function ie(t,e){return ee(Jt(t),Jt(e))}function ne(t,e,i){return ft(t,ie(e,i))}Qt(Gt),Qt(zt),function(t,e,i,n){t.forEach(function(t){e.forEach(function(e){Yt(t,e,i),Yt(e,t,n)})})}(zt,Gt,Ut,jt);var re=new Array(6);function oe(t){return se(t,1,0,0,1,0,0)}function ae(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],h=e[2],c=e[3],p=e[4],d=e[5];return t[0]=i*l+r*u,t[1]=n*l+o*u,t[2]=i*h+r*c,t[3]=n*h+o*c,t[4]=i*p+r*d+a,t[5]=n*p+o*d+s,t}function se(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t}function le(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ue(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function he(t,e){var i=Math.cos(e),n=Math.sin(e);return ae(t,se(re,i,n,-n,i,0,0))}function ce(t,e,i){return ae(t,se(re,e,0,0,i,0,0))}function pe(t,e,i){return ae(t,se(re,1,0,0,1,e,i))}function de(t,e,i,n,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=n*u,t[1]=r*l,t[2]=-n*l,t[3]=r*u,t[4]=a*n*u-s*n*l+e,t[5]=a*r*l+s*r*u+i,t}function fe(t){var e=function(t){return t[0]*t[3]-t[1]*t[2]}(t);j(0!==e,32);var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-n/e,t[2]=-r/e,t[3]=i/e,t[4]=(r*s-o*a)/e,t[5]=-(i*s-n*a)/e,t}var ge=[1,0,0,1,0,0],_e=function(t){function e(){t.call(this),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){},e.prototype.closestPointXY=function(t,e,i,n){},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){},e.prototype.scale=function(t,e,i){},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){},e.prototype.getType=function(){},e.prototype.applyTransform=function(t){},e.prototype.intersectsExtent=function(t){},e.prototype.translate=function(t,e){},e.prototype.transform=function(t,e){var i=(t=Jt(t)).getUnits()==Pt.TILE_PIXELS?function(i,n,r){var o=t.getExtent(),a=t.getWorldExtent(),s=st(a)/st(o);return de(ge,a[0],a[3],s,-s,0,0,0),gt(i,0,i.length,r,ge,n),ie(t,e)(i,n,r)}:ie(t,e);return this.applyTransform(i),this},e}(D);_e.prototype.containsXY=S;var ye=_e,ve=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,me=/^([a-z]*)$/i;function xe(t){return"string"==typeof t?t:Te(t)}var Ee=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}n=function(t){var e,i,n,r,o;me.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t));if(ve.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),i=parseInt(t.substr(1+1*a,a),16),n=parseInt(t.substr(1+2*a,a),16),r=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,l&&(r=(r<<4)+r)),o=[e,i,n,r/255]}else 0==t.indexOf("rgba(")?be(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),be(o)):j(!1,14);return o}(i),t[i]=n,++e}return n}}();function Ce(t){return Array.isArray(t)?t:Ee(t)}function be(t){return t[0]=yt(t[0]+.5|0,0,255),t[1]=yt(t[1]+.5|0,0,255),t[2]=yt(t[2]+.5|0,0,255),t[3]=yt(t[3],0,1),t}function Te(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}function Se(t){return function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}(t)?t:Te(t)}function we(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function Re(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function Ie(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Le(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Pe="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Oe=-1!==Pe.indexOf("firefox"),ke=-1!==Pe.indexOf("safari")&&-1==Pe.indexOf("chrom"),Me=-1!==Pe.indexOf("webkit")&&-1==Pe.indexOf("edge"),Ne=-1!==Pe.indexOf("macintosh"),Ae=window.devicePixelRatio||1,De=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),Fe="geolocation"in navigator,Ge="ontouchstart"in window,Ue="PointerEvent"in window,je=!!navigator.msPointerEnabled,Be={IDLE:0,LOADING:1,LOADED:2,ERROR:3},We="ol-hidden",Ve="ol-selectable",ze="ol-unselectable",He="ol-control",Ke="ol-collapsed",Ye=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}(),Xe=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(O.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return j(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return j(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){j(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(P),qe=[0,0,0,1],Ze=[],Je=[0,0,0,1],Qe=[0,0,0,0],$e=new Xe,ti={},ei=null,ii={},ni=function(){var t,e,i=60,n=ti,r="32px ",o=["monospace","serif"],a=o.length,s="wmytzilWMYTZIL@#/&?$%10";function l(t){for(var i=ri(),n=100;n<=700;n+=300){for(var l=n+" ",u=!0,h=0;h<a;++h){var c=o[h];if(i.font=l+r+c,e=i.measureText(s).width,t!=c){i.font=l+r+t+","+c;var p=i.measureText(s).width;u=u&&p!=e}}if(u)return!0}return!1}function u(){var e=!0;for(var r in n)n[r]<i&&(l(r)?(n[r]=i,c(ii),ei=null,$e.clear()):(++n[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Ye(e);if(r)for(var o=0,a=r.length;o<a;++o){var s=r[o];s in n||(n[s]=i,l(s)||(n[s]=0,void 0===t&&(t=setInterval(u,32))))}}}();function ri(){return ei||(ei=we(1,1)),ei}var oi=function(){var t,e=ii;return function(i){var n=e[i];return void 0==n&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=i,document.body.appendChild(t),n=e[i]=t.offsetHeight,document.body.removeChild(t)),n}}();function ai(t,e){var i=ri();return t!=i.font&&(i.font=t),i.measureText(e).width}function si(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}var li=[1,0,0,1,0,0];function ui(t,e,i,n,r,o,a,s,l,u,h){var c;1!=i&&(c=t.globalAlpha,t.globalAlpha=c*i),e&&t.setTransform.apply(t,e),t.drawImage(n,r,o,a,s,l,u,a*h,s*h),c&&(t.globalAlpha=c),e&&t.setTransform.apply(t,li)}var hi=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};hi.prototype.getOpacity=function(){return this.opacity_},hi.prototype.getRotateWithView=function(){return this.rotateWithView_},hi.prototype.getRotation=function(){return this.rotation_},hi.prototype.getScale=function(){return this.scale_},hi.prototype.getSnapToPixel=function(){return!1},hi.prototype.getAnchor=function(){},hi.prototype.getImage=function(t){},hi.prototype.getHitDetectionImage=function(t){},hi.prototype.getImageState=function(){},hi.prototype.getImageSize=function(){},hi.prototype.getHitDetectionImageSize=function(){},hi.prototype.getOrigin=function(){},hi.prototype.getSize=function(){},hi.prototype.setOpacity=function(t){this.opacity_=t},hi.prototype.setRotateWithView=function(t){this.rotateWithView_=t},hi.prototype.setRotation=function(t){this.rotation_=t},hi.prototype.setScale=function(t){this.scale_=t},hi.prototype.setSnapToPixel=function(t){},hi.prototype.listenImageChange=function(t,e){},hi.prototype.load=function(){},hi.prototype.unlistenImageChange=function(t,e){};!function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)}}(function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return Be.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,n="",r="",o=0,a=null,s=0,l=0;this.stroke_&&(null===(i=this.stroke_.getColor())&&(i=Je),i=Se(i),void 0===(l=this.stroke_.getWidth())&&(l=1),a=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),De||(a=null,s=0),void 0===(r=this.stroke_.getLineJoin())&&(r="round"),void 0===(n=this.stroke_.getLineCap())&&(n="round"),void 0===(o=this.stroke_.getMiterLimit())&&(o=10));var u=2*(this.radius_+l)+1,h={strokeStyle:i,strokeWidth:l,size:u,lineCap:n,lineDash:a,lineDashOffset:s,lineJoin:r,miterLimit:o};if(void 0===t){var c=we(u,u);this.canvas_=c.canvas,e=u=this.canvas_.width,this.draw_(h,c,0,0),this.createHitDetectionCanvas_(h)}else{u=Math.round(u);var p,d=!this.fill_;d&&(p=this.drawHitDetectionCanvas_.bind(this,h));var f=this.getChecksum(),g=t.add(f,u,u,this.draw_.bind(this,h),p);this.canvas_=g.image,this.origin_=[g.offsetX,g.offsetY],e=g.image.width,d?(this.hitDetectionCanvas_=g.hitImage,this.hitDetectionImageSize_=[g.hitImage.width,g.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,n){var r,o,a;e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),r=0;r<=s;r++)o=2*r*Math.PI/s-Math.PI/2+this.angle_,a=r%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=qe),e.fillStyle=Se(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=we(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,s,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(r*=2),o=0;o<=r;o++)s=2*o*Math.PI/r-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=qe,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var i="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[i,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(hi));var ci=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};ci.prototype.clone=function(){var t=this.getColor();return new ci({color:t&&t.slice?t.slice():t||void 0})},ci.prototype.getColor=function(){return this.color_},ci.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},ci.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=o(this.color_).toString():this.checksum_="f"+(this.color_?xe(this.color_):"-")),this.checksum_};var pi=ci,di=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};di.prototype.clone=function(){var t=this.getColor();return new di({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},di.prototype.getColor=function(){return this.color_},di.prototype.getLineCap=function(){return this.lineCap_},di.prototype.getLineDash=function(){return this.lineDash_},di.prototype.getLineDashOffset=function(){return this.lineDashOffset_},di.prototype.getLineJoin=function(){return this.lineJoin_},di.prototype.getMiterLimit=function(){return this.miterLimit_},di.prototype.getWidth=function(){return this.width_},di.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},di.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},di.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},di.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},di.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},di.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},di.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},di.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=o(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var fi=di,gi=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=_i,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};gi.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new gi({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},gi.prototype.getRenderer=function(){return this.renderer_},gi.prototype.setRenderer=function(t){this.renderer_=t},gi.prototype.getGeometry=function(){return this.geometry_},gi.prototype.getGeometryFunction=function(){return this.geometryFunction_},gi.prototype.getFill=function(){return this.fill_},gi.prototype.setFill=function(t){this.fill_=t},gi.prototype.getImage=function(){return this.image_},gi.prototype.setImage=function(t){this.image_=t},gi.prototype.getStroke=function(){return this.stroke_},gi.prototype.setStroke=function(t){this.stroke_=t},gi.prototype.getText=function(){return this.text_},gi.prototype.setText=function(t){this.text_=t},gi.prototype.getZIndex=function(){return this.zIndex_},gi.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=_i,this.geometry_=t},gi.prototype.setZIndex=function(t){this.zIndex_=t};function _i(t){return t.getGeometry()}var yi=gi;var vi=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,y(this,A(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e)if(e instanceof ye||!e){var i=e;this.setGeometry(i)}else{var n=e;this.setProperties(n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(x(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=y(t,O.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(j(t instanceof yi,41),e=[t]),function(){return e});var e}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){m(this,A(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,y(this,A(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(D),mi={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};function xi(t,e){return t>e?1:t<e?-1:0}function Ei(t,e){return t.indexOf(e)>=0}function Ci(t,e,i){var n,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(i>0){for(n=1;n<r;++n)if(t[n]<e)return n-1}else if(i<0){for(n=1;n<r;++n)if(t[n]<=e)return n}else for(n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return r-1}function bi(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function Ti(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,r=0;r<n;r++)t[t.length]=i[r]}function Si(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function wi(t,e){var i,n=t.length,r=Array(t.length);for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;i<t.length;i++)t[i]=r[i].value}var Ri={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},Ii=function(t){function e(){t.call(this),this.layout=Ri.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return function(t,e,i,n,r){return et(Z(r),t,e,i,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(c(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Li(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){},e.prototype.setLayout=function(t,e,i){var n;if(t)n=Li(t);else{for(var r=0;r<i;++r){if(0===e.length)return this.layout=Ri.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=Ri.XY:3==t?e=Ri.XYZ:4==t&&(e=Ri.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();!function(t,e,i,n,r,o,a){for(var s=a||[],l=Math.cos(r),u=Math.sin(r),h=o[0],c=o[1],p=0,d=e;d<i;d+=n){var f=t[d]-h,g=t[d+1]-c;s[p++]=h+f*l-g*u,s[p++]=c+f*u+g*l;for(var _=d+2;_<d+n;++_)s[p++]=t[_]}a&&s.length!=p&&(s.length=p)}(i,0,i.length,n,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var r=i;r||(r=ot(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,i,n,r,o,a,s){for(var l=s||[],u=a[0],h=a[1],c=0,p=e;p<i;p+=n){var d=t[p]-u,f=t[p+1]-h;l[c++]=u+r*d,l[c++]=h+o*f;for(var g=p+2;g<p+n;++g)l[c++]=t[g]}s&&l.length!=c&&(l.length=c)}(o,0,o.length,a,t,n,r,o),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();_t(i,0,i.length,n,t,e,i),this.changed()}},e}(ye);function Li(t){var e;return t==Ri.XY?e=2:t==Ri.XYZ||t==Ri.XYM?e=3:t==Ri.XYZM&&(e=4),e}Ii.prototype.containsXY=S;var Pi=Ii;function Oi(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function ki(t,e,i,n){for(var r=0,o=0,a=i.length;o<a;++o){var s=i[o];r+=Oi(t,e,s,n),e=s}return r}function Mi(t,e,i,n,r,o,a){var s,l=t[e],u=t[e+1],h=t[i]-l,c=t[i+1]-u;if(0===h&&0===c)s=e;else{var p=((r-l)*h+(o-u)*c)/(h*h+c*c);if(p>1)s=i;else{if(p>0){for(var d=0;d<n;++d)a[d]=Tt(t[e+d],t[i+d],p);return void(a.length=n)}s=e}}for(var f=0;f<n;++f)a[f]=t[s+f];a.length=n}function Ni(t,e,i,n,r){var o=t[e],a=t[e+1];for(e+=n;e<i;e+=n){var s=t[e],l=t[e+1],u=xt(o,a,s,l);u>r&&(r=u),o=s,a=l}return r}function Ai(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];r=Ni(t,e,s,n,r),e=s}return r}function Di(t,e,i,n,r,o,a,s,l,u,h){if(e==i)return u;var c,p;if(0===r){if((p=xt(a,s,t[e],t[e+1]))<u){for(c=0;c<n;++c)l[c]=t[e+c];return l.length=n,p}return u}for(var d=h||[NaN,NaN],f=e+n;f<i;)if(Mi(t,f-n,f,n,a,s,d),(p=xt(a,s,d[0],d[1]))<u){for(u=p,c=0;c<n;++c)l[c]=d[c];l.length=n,f+=n}else f+=n*Math.max((Math.sqrt(p)-Math.sqrt(u))/r|0,1);if(o&&(Mi(t,i-n,e,n,a,s,d),(p=xt(a,s,d[0],d[1]))<u)){for(u=p,c=0;c<n;++c)l[c]=d[c];l.length=n}return u}function Fi(t,e,i,n,r,o,a,s,l,u,h){for(var c=h||[NaN,NaN],p=0,d=i.length;p<d;++p){var f=i[p];u=Di(t,e,f,n,r,o,a,s,l,u,c),e=f}return u}function Gi(t,e,i,n){for(var r=0,o=i.length;r<o;++r)for(var a=i[r],s=0;s<n;++s)t[e++]=a[s];return e}function Ui(t,e,i,n,r){for(var o=r||[],a=0,s=0,l=i.length;s<l;++s){var u=Gi(t,e,i[s],n);o[a++]=u,e=u}return o.length=a,o}function ji(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=e;s<i;s+=n)o[a++]=t.slice(s,s+n);return o.length=a,o}function Bi(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=0,l=i.length;s<l;++s){var u=i[s];o[a++]=ji(t,e,u,n,o[a]),e=u}return o.length=a,o}function Wi(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=0,l=i.length;s<l;++s){var u=i[s];o[a++]=Bi(t,e,u,n,o[a]),e=u[u.length-1]}return o.length=a,o}function Vi(t,e,i,n,r,o,a){var s=(i-e)/n;if(s<3){for(;e<i;e+=n)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,i-n],h=0;u.length>0;){for(var c=u.pop(),p=u.pop(),d=0,f=t[p],g=t[p+1],_=t[c],y=t[c+1],v=p+n;v<c;v+=n){var m=mt(t[v],t[v+1],f,g,_,y);m>d&&(h=v,d=m)}d>r&&(l[(h-e)/n]=1,p+n<h&&u.push(p,h),h+n<c&&u.push(h,c))}for(var x=0;x<s;++x)l[x]&&(o[a++]=t[e+x*n],o[a++]=t[e+x*n+1]);return a}function zi(t,e){return e*Math.round(t/e)}function Hi(t,e,i,n,r,o,a){if(e==i)return a;var s,l,u=zi(t[e],r),h=zi(t[e+1],r);e+=n,o[a++]=u,o[a++]=h;do{if(s=zi(t[e],r),l=zi(t[e+1],r),(e+=n)==i)return o[a++]=s,o[a++]=l,a}while(s==u&&l==h);for(;e<i;){var c=zi(t[e],r),p=zi(t[e+1],r);if(e+=n,c!=s||p!=l){var d=s-u,f=l-h,g=c-u,_=p-h;d*_==f*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(f<0&&_<f||f==_||f>0&&_>f)?(s=c,l=p):(o[a++]=s,o[a++]=l,u=s,h=l,s=c,l=p)}}return o[a++]=s,o[a++]=l,a}function Ki(t,e,i,n,r,o,a,s){for(var l=0,u=i.length;l<u;++l){var h=i[l];a=Hi(t,e,h,n,r,o,a),s.push(a),e=h}return a}var Yi=function(t){function e(e,i){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<z(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ni(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Oi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return ji(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Vi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,Ri.XY)},e.prototype.getType=function(){return St.LINEAR_RING},e.prototype.intersectsExtent=function(t){},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gi(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Pi),Xi=function(t){function e(e,i){t.call(this),this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=xt(t,e,r[0],r[1]);if(o<n){for(var a=this.stride,s=0;s<a;++s)i[s]=r[s];return i.length=a,o}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return J(this.flatCoordinates,t)},e.prototype.getType=function(){return St.POINT},e.prototype.intersectsExtent=function(t){return Y(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)t[e++]=i[r];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Pi);function qi(t,e,i,n,r){return!function(t,e,i){var n;return(n=e.call(i,nt(t)))?n:(n=e.call(i,rt(t)))?n:(n=e.call(i,ht(t)))?n:(n=e.call(i,ut(t)))||!1}(r,function(r){return!Zi(t,e,i,n,r[0],r[1])})}function Zi(t,e,i,n,r,o){for(var a=0,s=t[i-n],l=t[i-n+1];e<i;e+=n){var u=t[e],h=t[e+1];l<=o?h>o&&(u-s)*(o-l)-(r-s)*(h-l)>0&&a++:h<=o&&(u-s)*(o-l)-(r-s)*(h-l)<0&&a--,s=u,l=h}return 0!==a}function Ji(t,e,i,n,r,o){if(0===i.length)return!1;if(!Zi(t,e,i[0],n,r,o))return!1;for(var a=1,s=i.length;a<s;++a)if(Zi(t,i[a-1],i[a],n,r,o))return!1;return!0}function Qi(t,e,i,n,r,o,a){for(var s,l,u,h,c,p,d,f=r[o+1],g=[],_=0,y=i.length;_<y;++_){var v=i[_];for(h=t[v-n],p=t[v-n+1],s=e;s<v;s+=n)c=t[s],d=t[s+1],(f<=p&&d<=f||p<=f&&f<=d)&&(u=(f-p)/(d-p)*(c-h)+h,g.push(u)),h=c,p=d}var m=NaN,x=-1/0;for(g.sort(xi),h=g[0],s=1,l=g.length;s<l;++s){c=g[s];var E=Math.abs(c-h);E>x&&Ji(t,e,i,n,u=(h+c)/2,f)&&(m=u,x=E),h=c}return isNaN(m)&&(m=r[o]),a?(a.push(m,f,x),a):[m,f,x]}function $i(t,e,i,n,r,o){for(var a,s=[t[e],t[e+1]],l=[];e+n<i;e+=n){if(l[0]=t[e+n],l[1]=t[e+n+1],a=r.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}function tn(t,e,i,n,r){var o=et([1/0,1/0,-1/0,-1/0],t,e,i,n);return!!pt(r,o)&&(!!K(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||$i(t,e,i,n,function(t,e){return function(t,e,i){var n=!1,r=X(t,e),o=X(t,i);if(r===B.INTERSECTING||o===B.INTERSECTING)n=!0;else{var a,s,l=t[0],u=t[1],h=t[2],c=t[3],p=e[0],d=e[1],f=i[0],g=i[1],_=(g-d)/(f-p);o&B.ABOVE&&!(r&B.ABOVE)&&(n=(a=f-(g-c)/_)>=l&&a<=h),n||!(o&B.RIGHT)||r&B.RIGHT||(n=(s=g-(f-h)*_)>=u&&s<=c),n||!(o&B.BELOW)||r&B.BELOW||(n=(a=f-(g-u)/_)>=l&&a<=h),n||!(o&B.LEFT)||r&B.LEFT||(n=(s=g-(f-l)*_)>=u&&s<=c)}return n}(r,t,e)}))))}function en(t,e,i,n,r){if(!function(t,e,i,n,r){return!!(tn(t,e,i,n,r)||Zi(t,e,i,n,r[0],r[1])||Zi(t,e,i,n,r[0],r[3])||Zi(t,e,i,n,r[2],r[1])||Zi(t,e,i,n,r[2],r[3]))}(t,e,i[0],n,r))return!1;if(1===i.length)return!0;for(var o=1,a=i.length;o<a;++o)if(qi(t,i[o-1],i[o],n,r))return!1;return!0}function nn(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}function rn(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return r>0}function on(t,e,i,n,r){for(var o=void 0!==r&&r,a=0,s=i.length;a<s;++a){var l=i[a],u=rn(t,e,l,n);if(0===a){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;e=l}return!0}function an(t,e,i,n,r){for(var o=void 0!==r&&r,a=0,s=i.length;a<s;++a){var l=i[a],u=rn(t,e,l,n);(0===a?o&&u||!o&&!u:o&&!u||!o&&u)&&nn(t,e,l,n),e=l}return e}var sn=function(t){function e(e,i,n){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==i&&n?(this.setFlatCoordinates(i,e),this.ends_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Ti(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<z(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ai(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Ji(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return ki(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?an(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Bi(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ot(this.getExtent());this.flatInteriorPoint_=Qi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Xi(this.getFlatInteriorPoint(),Ri.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Yi(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,a=i.length;o<a;++o){var s=i[o],l=new Yi(e.slice(r,s),t);n.push(l),r=s}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;on(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=an(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Ki(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,Ri.XY,n)},e.prototype.getType=function(){return St.POLYGON},e.prototype.intersectsExtent=function(t){return en(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Ui(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(Pi),ln=sn;function un(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=[e,i,e,r,n,r,n,i,e,i];return new sn(o,Ri.XY,[o.length])}var hn=function(t){function e(e){t.call(this);var i=e||{};this.position_=null,this.transform_=qt,this.watchId_=void 0,y(this,A(mi.PROJECTION),this.handleProjectionChanged_,this),y(this,A(mi.TRACKING),this.handleTrackingChanged_,this),void 0!==i.projection&&this.setProjection(i.projection),void 0!==i.trackingOptions&&this.setTrackingOptions(i.trackingOptions),this.setTracking(void 0!==i.tracking&&i.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=ee(Jt("EPSG:4326"),t),this.position_&&this.set(mi.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(Fe){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(mi.ACCURACY,e.accuracy),this.set(mi.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(mi.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(mi.HEADING,null===e.heading?void 0:Ct(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(mi.POSITION,i),this.set(mi.SPEED,null===e.speed?void 0:e.speed);var n=function(t,e,i,n){for(var r=i||32,o=[],a=0;a<r;++a)Ti(o,Rt(t,e,2*Math.PI*a/r,n));return o.push(o[0],o[1]),new sn(o,Ri.XY,[o.length])}(this.position_,e.accuracy);n.applyTransform(this.transform_),this.set(mi.ACCURACY_GEOMETRY,n),this.changed()},e.prototype.positionError_=function(t){t.type=O.ERROR,this.setTracking(!1),this.dispatchEvent(t)},e.prototype.getAccuracy=function(){return this.get(mi.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(mi.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(mi.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(mi.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(mi.HEADING)},e.prototype.getPosition=function(){return this.get(mi.POSITION)},e.prototype.getProjection=function(){return this.get(mi.PROJECTION)},e.prototype.getSpeed=function(){return this.get(mi.SPEED)},e.prototype.getTracking=function(){return this.get(mi.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(mi.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(mi.PROJECTION,Jt(t))},e.prototype.setTracking=function(t){this.set(mi.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(mi.TRACKING_OPTIONS,t)},e}(D);function cn(t,e,i){var n=void 0!==i?t.toFixed(i):""+t,r=n.indexOf(".");return(r=-1===r?n.length:r)>e?n:new Array(1+e-r).join("0")+n}function pn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function dn(t,e,i){var n=bt(e+180,360)-180,r=Math.abs(3600*n),o=i||0,a=Math.pow(10,o),s=Math.floor(r/3600),l=Math.floor((r-3600*s)/60),u=r-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+" "+cn(l,2)+" "+cn(u,2,o)+""+(0==n?"":" "+t.charAt(n<0?1:0))}function fn(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,o=t[1]*i+t[0]*n;return t[0]=r,t[1]=o,t}function gn(t,e){return t[0]*=e,t[1]*=e,t}function _n(t,e,i,n,r,o){var a=NaN,s=NaN,l=(i-e)/n;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-r)*t[e]+r*t[e+n],s=(1-r)*t[e+1]+r*t[e+n+1];else if(0!==l){for(var u=t[e],h=t[e+1],c=0,p=[0],d=e+n;d<i;d+=n){var f=t[d],g=t[d+1];c+=Math.sqrt((f-u)*(f-u)+(g-h)*(g-h)),p.push(c),u=f,h=g}var _=r*c,y=function(t,e,i){for(var n,r,o=i||xi,a=0,s=t.length,l=!1;a<s;)(r=+o(t[n=a+(s-a>>1)],e))<0?a=n+1:(s=n,l=!r);return l?a:~a}(p,_);if(y<0){var v=(_-p[-y-2])/(p[-y-1]-p[-y-2]),m=e+(-y-2)*n;a=Tt(t[m],t[m+n],v),s=Tt(t[m+1],t[m+n+1],v)}else a=t[e+y*n],s=t[e+y*n+1]}return o?(o[0]=a,o[1]=s,o):[a,s]}function yn(t,e,i,n,r,o){if(i==e)return null;var a;if(r<t[e+n-1])return o?((a=t.slice(e,e+n))[n-1]=r,a):null;if(t[i-1]<r)return o?((a=t.slice(i-n,i))[n-1]=r,a):null;if(r==t[e+n-1])return t.slice(e,e+n);for(var s=e/n,l=i/n;s<l;){var u=s+l>>1;r<t[(u+1)*n-1]?l=u:s=u+1}var h=t[s*n-1];if(r==h)return t.slice((s-1)*n,(s-1)*n+n);var c=(r-h)/(t[(s+1)*n-1]-h);a=[];for(var p=0;p<n-1;++p)a.push(Tt(t[(s-1)*n+p],t[s*n+p],c));return a.push(r),a}function vn(t,e,i,n){for(var r=t[e],o=t[e+1],a=0,s=e+n;s<i;s+=n){var l=t[s],u=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return a}var mn=function(t){function e(e,i){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Ti(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<z(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ni(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.forEachSegment=function(t){return $i(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Ri.XYM&&this.layout!=Ri.XYZM)return null;var i=void 0!==e&&e;return yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return ji(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return _n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return vn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Vi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,Ri.XY)},e.prototype.getType=function(){return St.LINE_STRING},e.prototype.intersectsExtent=function(t){return tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gi(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Pi);function xn(t,e,i){for(var n,r,o,a,s,l,u=[],h=t(0),c=t(1),p=e(h),d=e(c),f=[c,h],g=[d,p],_=[1,0],y={},v=1e5;--v>0&&_.length>0;)o=_.pop(),h=f.pop(),p=g.pop(),(l=o.toString())in y||(u.push(p[0],p[1]),y[l]=!0),a=_.pop(),c=f.pop(),d=g.pop(),mt((r=e(n=t(s=(o+a)/2)))[0],r[1],p[0],p[1],d[0],d[1])<i?(u.push(d[0],d[1]),y[l=a.toString()]=!0):(_.push(a,s,s,o),g.push(d,r,r,p),f.push(c,n,n,h));return u}var En="postcompose",Cn="precompose",bn="render",Tn="rendercomplete",Sn="point",wn="line",Rn=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new pi({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:Sn,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};Rn.prototype.clone=function(){return new Rn({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},Rn.prototype.getOverflow=function(){return this.overflow_},Rn.prototype.getFont=function(){return this.font_},Rn.prototype.getMaxAngle=function(){return this.maxAngle_},Rn.prototype.getPlacement=function(){return this.placement_},Rn.prototype.getOffsetX=function(){return this.offsetX_},Rn.prototype.getOffsetY=function(){return this.offsetY_},Rn.prototype.getFill=function(){return this.fill_},Rn.prototype.getRotateWithView=function(){return this.rotateWithView_},Rn.prototype.getRotation=function(){return this.rotation_},Rn.prototype.getScale=function(){return this.scale_},Rn.prototype.getStroke=function(){return this.stroke_},Rn.prototype.getText=function(){return this.text_},Rn.prototype.getTextAlign=function(){return this.textAlign_},Rn.prototype.getTextBaseline=function(){return this.textBaseline_},Rn.prototype.getBackgroundFill=function(){return this.backgroundFill_},Rn.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},Rn.prototype.getPadding=function(){return this.padding_},Rn.prototype.setOverflow=function(t){this.overflow_=t},Rn.prototype.setFont=function(t){this.font_=t},Rn.prototype.setMaxAngle=function(t){this.maxAngle_=t},Rn.prototype.setOffsetX=function(t){this.offsetX_=t},Rn.prototype.setOffsetY=function(t){this.offsetY_=t},Rn.prototype.setPlacement=function(t){this.placement_=t},Rn.prototype.setFill=function(t){this.fill_=t},Rn.prototype.setRotation=function(t){this.rotation_=t},Rn.prototype.setScale=function(t){this.scale_=t},Rn.prototype.setStroke=function(t){this.stroke_=t},Rn.prototype.setText=function(t){this.text_=t},Rn.prototype.setTextAlign=function(t){this.textAlign_=t},Rn.prototype.setTextBaseline=function(t){this.textBaseline_=t},Rn.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},Rn.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},Rn.prototype.setPadding=function(t){this.padding_=t};var In=Rn,Ln=new fi({color:"rgba(0,0,0,0.2)"}),Pn=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],On=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:Ln,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=void 0==e.lonLabelFormatter?dn.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=void 0==e.latLabelFormatter?dn.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=void 0==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=void 0==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new In({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new pi({color:"rgba(0,0,0,1)"}),stroke:new fi({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new In({font:"12px Calibri,sans-serif",textAlign:"end",fill:new pi({color:"rgba(0,0,0,1)"}),stroke:new fi({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.setMap(void 0!==e.map?e.map:null)};On.prototype.addMeridian_=function(t,e,i,n,r,o){var a=this.getMeridian_(t,e,i,n,o);if(pt(a.getExtent(),r)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,r,o);this.meridiansLabels_[o]={geom:s,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=a}return o},On.prototype.getMeridianPoint_=function(t,e,i){var n,r=t.getFlatCoordinates(),o=Math.max(e[1],r[1]),a=Math.min(e[3],r[r.length-1]),s=yt(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),l=[r[0],s];return i in this.meridiansLabels_?(n=this.meridiansLabels_[i].geom).setCoordinates(l):n=new Xi(l),n},On.prototype.addParallel_=function(t,e,i,n,r,o){var a=this.getParallel_(t,e,i,n,o);if(pt(a.getExtent(),r)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,r,o);this.parallelsLabels_[o]={geom:s,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=a}return o},On.prototype.getParallelPoint_=function(t,e,i){var n,r=t.getFlatCoordinates(),o=Math.max(e[0],r[0]),a=Math.min(e[2],r[r.length-2]),s=[yt(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),r[1]];return i in this.parallelsLabels_?(n=this.parallelsLabels_[i].geom).setCoordinates(s):n=new Xi(s),n},On.prototype.createGraticule_=function(t,e,i,n){var r=this.getInterval_(i);if(-1==r)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(e),h=u[0],c=u[1],p=this.maxLines_,d=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],f=(d=ne(d,this.projection_,"EPSG:4326"))[3],g=d[2],_=d[1],y=d[0];for(l=yt(h=Math.floor(h/r)*r,this.minLon_,this.maxLon_),a=this.addMeridian_(l,_,f,n,t,0),o=0;l!=this.minLon_&&o++<p;)l=Math.max(l-r,this.minLon_),a=this.addMeridian_(l,_,f,n,t,a);for(l=yt(h,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<p;)l=Math.min(l+r,this.maxLon_),a=this.addMeridian_(l,_,f,n,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),s=yt(c=Math.floor(c/r)*r,this.minLat_,this.maxLat_),a=this.addParallel_(s,y,g,n,t,0),o=0;s!=this.minLat_&&o++<p;)s=Math.max(s-r,this.minLat_),a=this.addParallel_(s,y,g,n,t,a);for(s=yt(c,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<p;)s=Math.min(s+r,this.maxLat_),a=this.addParallel_(s,y,g,n,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},On.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],n=-1,r=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,l=Pn.length;s<l;++s){var u=Pn[s]/2;if(o[0]=e-u,o[1]=i-u,a[0]=e+u,a[1]=i+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=r)break;n=Pn[s]}return n},On.prototype.getMap=function(){return this.map_},On.prototype.getMeridian_=function(t,e,i,n,r){var o=function(t,e,i,n,r){return xn(function(n){return[t,e+(i-e)*n]},ie(Jt("EPSG:4326"),n),r)}(t,e,i,this.projection_,n),a=this.meridians_[r];return a?(a.setFlatCoordinates(Ri.XY,o),a.changed()):a=this.meridians_[r]=new mn(o,Ri.XY),a},On.prototype.getMeridians=function(){return this.meridians_},On.prototype.getParallel_=function(t,e,i,n,r){var o=function(t,e,i,n,r){return xn(function(n){return[e+(i-e)*n,t]},ie(Jt("EPSG:4326"),n),r)}(t,e,i,this.projection_,n),a=this.parallels_[r];return a?(a.setFlatCoordinates(Ri.XY,o),a.changed()):a=new mn(o,Ri.XY),a},On.prototype.getParallels=function(){return this.parallels_},On.prototype.handlePostCompose_=function(t){var e,i,n,r,o=t.vectorContext,a=t.frameState,s=a.extent,l=a.viewState,u=l.center,h=l.projection,c=l.resolution,p=a.pixelRatio,d=c*c/(4*p*p);for((!this.projection_||!te(this.projection_,h))&&this.updateProjectionInfo_(h),this.createGraticule_(s,u,c,d),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,i=this.meridians_.length;e<i;++e)n=this.meridians_[e],o.drawGeometry(n);for(e=0,i=this.parallels_.length;e<i;++e)n=this.parallels_[e],o.drawGeometry(n);if(this.meridiansLabels_)for(e=0,i=this.meridiansLabels_.length;e<i;++e)r=this.meridiansLabels_[e],this.lonLabelStyle_.setText(r.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(r.geom);if(this.parallelsLabels_)for(e=0,i=this.parallelsLabels_.length;e<i;++e)r=this.parallelsLabels_[e],this.latLabelStyle_.setText(r.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(r.geom)},On.prototype.updateProjectionInfo_=function(t){var e=Jt("EPSG:4326"),i=t.getWorldExtent(),n=ne(i,e,t);this.maxLat_=i[3],this.maxLon_=i[2],this.minLat_=i[1],this.minLon_=i[0],this.maxLatP_=n[3],this.maxLonP_=n[2],this.minLatP_=n[1],this.minLonP_=n[0],this.fromLonLatTransform_=ie(e,t),this.toLonLatTransform_=ie(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_(ot(t.getExtent())),this.projection_=t},On.prototype.setMap=function(t){this.map_&&(x(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=y(t,En,this.handlePostCompose_,this),t.render()),this.map_=t};var kn=On,Mn=function(t){function e(e,i,n,r){t.call(this),this.extent=e,this.pixelRatio_=n,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(O.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){},e}(P),Nn=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,Be.IDLE),this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=Be.IDLE,this.imageLoadFunction_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=Be.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=st(this.extent)/this.image_.height),this.state=Be.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=Be.IDLE&&this.state!=Be.ERROR||(this.state=Be.LOADING,this.changed(),this.imageListenerKeys_=[v(this.image_,O.ERROR,this.handleImageError_,this),v(this.image_,O.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(x),this.imageListenerKeys_=null},e}(Mn),An=function(t){function e(e,i,n,r,o){var a=void 0!==o?Be.IDLE:Be.LOADED;t.call(this,e,i,n,a),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Be.ERROR):this.state=Be.LOADED,this.changed()},e.prototype.load=function(){this.state==Be.IDLE&&(this.state=Be.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Mn),Dn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function Fn(t){return Math.pow(t,3)}function Gn(t){return 1-Fn(1-t)}function Un(t){return 3*t*t-2*t*t*t}function jn(t){return t}var Bn=function(t){function e(e,i,n){t.call(this);var r=n||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(O.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Dn.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Dn.LOADED){t.interimTile=null;break}t.getState()==Dn.LOADING?e=t:t.getState()==Dn.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return n>=this.transition_?1:Fn(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(P);function Wn(){var t=we(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var Vn=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,a),this.crossOrigin_=r,this.src_=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==Dn.LOADING&&(this.unlistenImage_(),this.image_=Wn()),this.interimTile&&this.interimTile.dispose(),this.state=Dn.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Dn.ERROR,this.unlistenImage_(),this.image_=Wn(),this.changed()},e.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=Dn.LOADED:this.state=Dn.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Dn.ERROR&&(this.state=Dn.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Dn.IDLE&&(this.state=Dn.LOADING,this.changed(),this.imageListenerKeys_=[v(this.image_,O.ERROR,this.handleImageError_,this),v(this.image_,O.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(x),this.imageListenerKeys_=null},e}(Bn),zn=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};zn.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},zn.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},zn.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var r=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/n,this.initialVelocity_>this.minVelocity_},zn.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},zn.prototype.getAngle=function(){return this.angle_};var Hn=zn,Kn=function(t){function e(e,i,n){t.call(this,e),this.map=i,this.frameState=void 0!==n?n:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),Yn=function(t){function e(e,i,n,r,o){t.call(this,e,i,o),this.originalEvent=n,this.pixel=i.getEventPixel(n),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Kn),Xn={SINGLECLICK:"singleclick",CLICK:O.CLICK,DBLCLICK:O.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},qn=function(t){function e(e,i,n,r,o){t.call(this,e,i,n.originalEvent,r,o),this.pointerEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Yn),Zn={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Jn=function(t,e){this.dispatcher=t,this.mapping_=e};Jn.prototype.getEvents=function(){return Object.keys(this.mapping_)},Jn.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var Qn=Jn,$n=1,tr="mouse";function er(t){if(!this.isEventSimulatedFromTouch_(t)){$n.toString()in this.pointerMap&&this.cancel(t);var e=ar(t,this.dispatcher);this.pointerMap[$n.toString()]=t,this.dispatcher.down(e,t)}}function ir(t){if(!this.isEventSimulatedFromTouch_(t)){var e=ar(t,this.dispatcher);this.dispatcher.move(e,t)}}function nr(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[$n.toString()];if(e&&e.button===t.button){var i=ar(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function rr(t){if(!this.isEventSimulatedFromTouch_(t)){var e=ar(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function or(t){if(!this.isEventSimulatedFromTouch_(t)){var e=ar(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function ar(t,e){var i=e.cloneEvent(t,t),n=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),n()},i.pointerId=$n,i.isPrimary=!0,i.pointerType=tr,i}var sr=function(t){function e(e){var i={mousedown:er,mousemove:ir,mouseup:nr,mouseover:rr,mouseout:or};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,n=t.clientY,r=0,o=e.length,a=void 0;r<o&&(a=e[r]);r++){var s=Math.abs(i-a[0]),l=Math.abs(n-a[1]);if(s<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=ar(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[$n.toString()]},e}(Qn),lr=["","unavailable","touch","pen","mouse"];function ur(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function hr(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function cr(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function pr(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function dr(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function fr(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function gr(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function _r(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var yr=function(t){function e(e){var i={MSPointerDown:ur,MSPointerMove:hr,MSPointerUp:cr,MSPointerOut:pr,MSPointerOver:dr,MSPointerCancel:fr,MSGotPointerCapture:_r,MSLostPointerCapture:gr};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=lr[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(Qn);function vr(t){this.dispatcher.fireNativeEvent(t)}function mr(t){this.dispatcher.fireNativeEvent(t)}function xr(t){this.dispatcher.fireNativeEvent(t)}function Er(t){this.dispatcher.fireNativeEvent(t)}function Cr(t){this.dispatcher.fireNativeEvent(t)}function br(t){this.dispatcher.fireNativeEvent(t)}function Tr(t){this.dispatcher.fireNativeEvent(t)}function Sr(t){this.dispatcher.fireNativeEvent(t)}var wr=function(t){function e(e){var i={pointerdown:vr,pointermove:mr,pointerup:xr,pointerout:Er,pointerover:Cr,pointercancel:br,gotpointercapture:Sr,lostpointercapture:Tr};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Qn),Rr=!1,Ir=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getButtons_=function(t){var e;if(t.buttons||Rr)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},e.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},e}(L);!function(){try{var t=new MouseEvent("click",{buttons:1});Rr=1===t.buttons}catch(t){}}();var Lr=Ir;function Pr(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function Or(t){this.processTouches_(t,this.moveOverOut_)}function kr(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Mr(t){this.processTouches_(t,this.cancelOut_)}var Nr=function(t){function e(e,i){var n={touchstart:Pr,touchmove:Or,touchend:kr,touchcancel:Mr};t.call(this,e,n),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&$n.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.webkitRadiusX||e.radiusX||0,i.height=e.webkitRadiusY||e.radiusY||0,i.pressure=e.webkitForce||e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),n=i.length;function r(){t.preventDefault()}for(var o=0;o<n;++o){var a=this.touchToPointer_(t,i[o]);a.preventDefault=r,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,n=0;n<i;n++){if(t[n].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),n=i.length;if(n>=e.length){for(var r=[],o=0;o<n;++o){var a=i[o],s=this.pointerMap[a];a==$n||this.findTouch_(e,a-2)||r.push(s.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,n=this.pointerMap[i.pointerId];if(n){var r=n.out,o=n.outTarget;this.dispatcher.move(i,t),r&&o!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=o,r.target=o,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=o,i.relatedTarget=null,this.cancelOut_(t,i))),n.out=i,n.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var n=[i.clientX,i.clientY];e.push(n),setTimeout(function(){!function(t,e){var i=t.indexOf(e),n=i>-1;n&&t.splice(i,1)}(e,n)},this.dedupTimeout_)}},e}(Qn),Ar=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],Dr=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(Ue)this.registerSource("native",new wr(this));else if(je)this.registerSource("ms",new yr(this));else{var t=new sr(this);this.registerSource("mouse",t),Ge&&this.registerSource("touch",new Nr(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,n=i.getEvents();n&&(n.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){y(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){m(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},n=0,r=Ar.length;n<r;n++){var o=Ar[n][0];i[o]=t[o]||e[o]||Ar[n][1]}return i},e.prototype.down=function(t,e){this.fireEvent(Zn.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(Zn.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(Zn.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(Zn.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(Zn.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(Zn.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(Zn.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(Zn.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new Lr(t,i,e)},e.prototype.fireEvent=function(t,e,i){var n=this.makeEvent(t,e,i);this.dispatchEvent(n)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,sr.prepareEvent(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(P),Fr=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*Ae:Ae,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new Dr(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=y(this.pointerEventHandler_,Zn.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=y(this.pointerEventHandler_,Zn.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new qn(Xn.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new qn(Xn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new qn(Xn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Xn.POINTERUP||e.type==Xn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Xn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new qn(Xn.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(x),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new qn(Xn.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Dr(document),this.dragListenerKeys_.push(y(this.documentPointerEventHandler_,Xn.POINTERMOVE,this.handlePointerMove_,this),y(this.documentPointerEventHandler_,Xn.POINTERUP,this.handlePointerUp_,this),y(this.pointerEventHandler_,Xn.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new qn(Xn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new qn(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(x(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(x(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(x),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(P),Gr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},Ur={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},jr=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};jr.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,c(this.queuedElements_)},jr.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},jr.prototype.enqueue=function(t){j(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},jr.prototype.getCount=function(){return this.elements_.length},jr.prototype.getLeftChildIndex_=function(t){return 2*t+1},jr.prototype.getRightChildIndex_=function(t){return 2*t+2},jr.prototype.getParentIndex_=function(t){return t-1>>1},jr.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},jr.prototype.isEmpty=function(){return 0===this.elements_.length},jr.prototype.isKeyQueued=function(t){return t in this.queuedElements_},jr.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},jr.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],o=i[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<n&&i[l]<i[s]?l:s;e[t]=e[u],i[t]=i[u],t=u}e[t]=r,i[t]=o,this.siftDown_(a,t)},jr.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],o=n[e];e>t;){var a=this.getParentIndex_(e);if(!(n[a]>o))break;i[e]=i[a],n[e]=n[a],e=a}i[e]=r,n[e]=o},jr.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(i=n(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=i,r[a++]=t);r.length=a,o.length=a,this.heapify_()};var Br=jr,Wr=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);i&&y(e[0],O.CHANGE,this.handleTileChange,this);return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===Dn.LOADED||i===Dn.ERROR||i===Dn.EMPTY||i===Dn.ABORT){m(e,O.CHANGE,this.handleTileChange,this);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,n,r,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),(i=n.getState())===Dn.ABORT?a=!0:i!==Dn.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load());0===o&&a&&this.tileChangeCallback_()},e}(Br),Vr=256;function zr(t){return t}function Hr(t,e){return void 0!==t?0:void 0}function Kr(t,e){return void 0!==t?t+e:void 0}var Yr={ANIMATING:0,INTERACTING:1},Xr="center",qr="resolution",Zr="rotation",Jr=0;function Qr(t,e){setTimeout(function(){t(e)},0)}function $r(t){return!(t.sourceCenter&&t.targetCenter&&!function(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var to=function(t){function e(e){t.call(this);var i=h({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=$t(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[Xr]=void 0!==t.center?t.center:null;var i=function(t){var e,i,n,r=void 0!==t.minZoom?t.minZoom:Jr,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;i=s[r],n=void 0!==s[o]?s[o]:s[s.length-1],e=function(t){return function(e,i,n){if(void 0!==e){var r=Ci(t,e,n);r=yt(r+i,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,r-o)}return t[o]}}}(s)}else{var l=$t(t.projection,"EPSG:3857"),u=l.getExtent(),h=u?Math.max(ct(u),st(u)):360*Lt[Pt.DEGREES]/l.getMetersPerUnit(),c=h/Vr/Math.pow(2,Jr),p=c/Math.pow(2,28-Jr);void 0!==(i=t.maxResolution)?r=0:i=c/Math.pow(a,r),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(a,o):c/Math.pow(a,o):p),o=r+Math.floor(Math.log(i/n)/Math.log(a)),n=i/Math.pow(a,o-r),e=function(t,e,i){return function(n,r,o){if(void 0!==n){var a=-o/2+.5,s=Math.floor(Math.log(e/n)/Math.log(t)+a),l=Math.max(s+r,0);return void 0!==i&&(l=Math.min(l,i)),e/Math.pow(t,l)}}}(a,i,o-r)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var n=function(t){return void 0!==t.extent?function(t){return function(e){return e?[yt(e[0],t[0],t[2]),yt(e[1],t[1],t[3])]:void 0}}(t.extent):zr}(t),r=i.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function(t){var e=t||Ct(5);return function(t,i){return void 0!==t?Math.abs(t+i)<=e?0:t+i:void 0}}():!1===e?Kr:"number"==typeof e?function(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}(e):Kr}return Hr}(t);this.constraints_={center:n,resolution:r,rotation:o},void 0!==t.resolution?e[qr]=t.resolution:void 0!==t.zoom&&(e[qr]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[qr]=yt(Number(this.getResolution()||e[qr]),this.minResolution_,this.maxResolution_))),e[Zr]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=h({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),h({},e,t)},e.prototype.animate=function(t){var e,i=arguments,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Qr(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),s=this.getResolution(),l=this.getRotation(),u=[],h=0;h<n;++h){var c=i[h],p={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Un};if(c.center&&(p.sourceCenter=a,p.targetCenter=c.center,a=p.targetCenter),void 0!==c.zoom?(p.sourceResolution=s,p.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),s=p.targetResolution):c.resolution&&(p.sourceResolution=s,p.targetResolution=c.resolution,s=p.targetResolution),void 0!==c.rotation){p.sourceRotation=l;var d=bt(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=l+d,l=p.targetRotation}p.callback=e,$r(p)?p.complete=!0:o+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(Yr.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Yr.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Yr.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Yr.ANIMATING,-this.hints_[Yr.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&Qr(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,a=n.length;o<a;++o){var s=n[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):r=!1;var h=s.easing(u);if(s.sourceCenter){var c=s.sourceCenter[0],p=s.sourceCenter[1],d=c+h*(s.targetCenter[0]-c),f=p+h*(s.targetCenter[1]-p);this.set(Xr,[d,f])}if(s.sourceResolution&&s.targetResolution){var g=1===h?s.targetResolution:s.sourceResolution+h*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(Xr,this.calculateCenterZoom(g,s.anchor)),this.set(qr,g)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===h?bt(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+h*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(Xr,this.calculateCenterRotate(_,s.anchor)),this.set(Zr,_)}if(e=!0,!s.complete)break}}if(r){this.animations_[i]=null,this.setHint(Yr.ANIMATING,-1);var y=n[0].callback;y&&Qr(y,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenter();return void 0!==n&&(fn(i=[n[0]-e[0],n[1]-e[1]],t-this.getRotation()),pn(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenter(),r=this.getResolution();void 0!==n&&void 0!==r&&(i=[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]);return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+o(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var n=e||0,r=i||0;return this.constraints_.resolution(t,n,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(Xr)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();j(i,1);var n=this.getResolution();j(void 0!==n,2);var r=this.getRotation();return j(void 0!==r,3),at(i,n,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(qr)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),n=ct(t)/i[0],r=st(t)/i[1];return Math.max(n,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Zr)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),n=this.getResolution(),r=n/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:n,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var r=Ci(this.resolutions_,t,1);n=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,n=e||{},r=n.size;r||(r=this.getSizeFromViewport_()),t instanceof Pi?t.getType()===St.CIRCLE?(i=un(t=t.getExtent())).rotate(this.getRotation(),ot(t)):i=t:(j(Array.isArray(t),24),j(!dt(t),25),i=un(t));var o,a=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0===n.constrainResolution||n.constrainResolution,l=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var u=i.getFlatCoordinates(),h=this.getRotation(),c=Math.cos(-h),p=Math.sin(-h),d=1/0,f=1/0,g=-1/0,_=-1/0,y=i.getStride(),v=0,m=u.length;v<m;v+=y){var x=u[v]*c-u[v+1]*p,E=u[v]*p+u[v+1]*c;d=Math.min(d,x),f=Math.min(f,E),g=Math.max(g,x),_=Math.max(_,E)}var C=this.getResolutionForExtent([d,f,g,_],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(C=isNaN(C)?o:Math.max(C,o),s){var b=this.constrainResolution(C,0,0);!l&&b<C&&(b=this.constrainResolution(b,-1,0)),C=b}p=-p;var T=(d+g)/2,S=(f+_)/2,R=[(T+=(a[1]-a[3])/2*C)*c-(S+=(a[0]-a[2])/2*C)*p,S*c+T*p],I=n.callback?n.callback:w;void 0!==n.duration?this.animate({resolution:C,center:R,duration:n.duration,easing:n.easing},I):(this.setResolution(C),this.setCenter(R),Qr(I,!0))},e.prototype.centerOn=function(t,e,i){var n=this.getRotation(),r=Math.cos(-n),o=Math.sin(-n),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-i[0])*l)*r-(s+=(i[1]-e[1]/2)*l)*(o=-o),h=s*r+a*o;this.setCenter([u,h])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(Xr,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(qr,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(Zr,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(D),eo={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},io=function(t){function e(e){t.call(this);var i=h({},e);i[eo.OPACITY]=void 0!==e.opacity?e.opacity:1,i[eo.VISIBLE]=void 0===e.visible||e.visible,i[eo.Z_INDEX]=e.zIndex,i[eo.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[eo.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_={layer:this,managed:!0},this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){return this.state_.opacity=yt(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex()||0,this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},e.prototype.getLayersArray=function(t){},e.prototype.getLayerStatesArray=function(t){},e.prototype.getExtent=function(){return this.get(eo.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(eo.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(eo.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(eo.OPACITY)},e.prototype.getSourceState=function(){},e.prototype.getVisible=function(){return this.get(eo.VISIBLE)},e.prototype.getZIndex=function(){return this.get(eo.Z_INDEX)},e.prototype.setExtent=function(t){this.set(eo.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(eo.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(eo.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(eo.OPACITY,t)},e.prototype.setVisible=function(t){this.set(eo.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(eo.Z_INDEX,t)},e}(D),no="undefined",ro="ready",oo={LAYERS:"layers"},ao=function(t){function e(e){var i=e||{},n=h({},i);delete n.layers;var r=i.layers;t.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},y(this,A(oo.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new U(r.slice(),{unique:!0}):(j(r instanceof U,43),r=r):r=new U(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(x),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(y(t,l.ADD,this.handleLayersAdd_,this),y(t,l.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(x);c(this.listenerKeys_);for(var i=t.getArray(),n=0,r=i.length;n<r;n++){var a=i[n];this.listenerKeys_[o(a).toString()]=[y(a,u,this.handleLayerChange_,this),y(a,O.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element,i=o(e).toString();this.listenerKeys_[i]=[y(e,u,this.handleLayerChange_,this),y(e,O.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=o(t.element).toString();this.listenerKeys_[e].forEach(x),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(oo.LAYERS)},e.prototype.setLayers=function(t){this.set(oo.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var n=this.getLayerState(),r=i,o=e.length;r<o;r++){var a=e[r];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),void 0!==n.extent&&(void 0!==a.extent?a.extent=lt(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return ro},e}(io);var so=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,r,o={},a=t.layers instanceof ao?t.layers:new ao({layers:t.layers});o[Ur.LAYERGROUP]=a,o[Ur.TARGET]=t.target,o[Ur.VIEW]=void 0!==t.view?t.view:new to,void 0!==t.controls&&(Array.isArray(t.controls)?i=new U(t.controls.slice()):(j(t.controls instanceof U,47),i=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new U(t.interactions.slice()):(j(t.interactions instanceof U,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?r=new U(t.overlays.slice()):(j(t.overlays instanceof U,49),r=t.overlays):r=new U;return{controls:i,interactions:n,keyboardEventTarget:e,overlays:r,values:o}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Ae,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(Ge?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[O.CLICK,O.DBLCLICK,O.MOUSEDOWN,O.TOUCHSTART,O.MSPOINTERDOWN,Xn.POINTERDOWN,O.MOUSEWHEEL,O.WHEEL],r=0,o=n.length;r<o;++r)y(this.overlayContainerStopEvent_,n[r],I);for(var a in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new Fr(this,e.moveTolerance),Xn)y(this.mapBrowserEventHandler_,Xn[a],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,y(this.viewport_,O.CONTEXTMENU,this.handleBrowserEvent,this),y(this.viewport_,O.WHEEL,this.handleBrowserEvent,this),y(this.viewport_,O.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new U,this.interactions=i.interactions||new U,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Wr(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},y(this,A(Ur.LAYERGROUP),this.handleLayerGroupChanged_,this),y(this,A(Ur.VIEW),this.handleViewChanged_,this),y(this,A(Ur.SIZE),this.handleSizeChanged_,this),y(this,A(Ur.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),y(this.controls,l.ADD,function(t){t.element.setMap(this)},this),y(this.controls,l.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),y(this.interactions,l.ADD,function(t){t.element.setMap(this)},this),y(this.interactions,l.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),y(this.overlays_,l.ADD,function(t){this.addOverlayInternal_(t.element)},this),y(this.overlays_,l.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),m(this.viewport_,O.CONTEXTMENU,this.handleBrowserEvent,this),m(this.viewport_,O.WHEEL,this.handleBrowserEvent,this),m(this.viewport_,O.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(O.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixel(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:T;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var n=i||{},r=void 0!==n.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||T;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:T,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i=t.changedTouches?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Ur.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?ue(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ur.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?ue(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ur.SIZE)},e.prototype.getView=function(){return this.get(Ur.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=i[0]-r.focus[0],a=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(o*o+a*a)/n},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new Yn(i,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var n=e[i];if(n.getActive())if(!n.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var r=t.viewHints;r[Yr.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,n=2),r[Yr.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,n=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(Gr.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var i=0,n=e.length;i<n;++i){var r=e[i];if(r instanceof ao)return t(r.getLayers().getArray());var o=e[i].getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(Tn,t);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)x(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[y(n,O.KEYDOWN,this.handleBrowserEvent,this),y(n,O.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(O.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Ie(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(O.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(x(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(x(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",o(t)),this.viewPropertyListenerKey_=y(t,u,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=y(t,O.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(x),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[y(t,u,this.render,this),y(t,O.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),n=this.getView(),r=[1/0,1/0,-1/0,-1/0],a=this.frameState_,s=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&n&&n.isDef()){for(var l=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),h={},c=0,p=u.length;c<p;++c)h[o(u[c].layer)]=u[c];e=n.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:h,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:l,wantedTiles:{}}}if(s&&(s.extent=at(e.center,e.resolution,e.rotation,s.size,r)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a)(!this.previousExtent_||!dt(this.previousExtent_)&&!Q(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Kn(Gr.MOVESTART,this,a)),this.previousExtent_=Z(this.previousExtent_));this.previousExtent_&&!s.viewHints[Yr.ANIMATING]&&!s.viewHints[Yr.INTERACTING]&&!Q(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Kn(Gr.MOVEEND,this,s)),V(s.extent,this.previousExtent_))}this.dispatchEvent(new Kn(Gr.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Ur.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ur.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ur.TARGET,t)},e.prototype.setView=function(t){this.set(Ur.VIEW,t)},e.prototype.skipFeature=function(t){var e=o(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){var e=o(t).toString();delete this.skippedFeatureUids_[e],this.render()},e}(D);var lo=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:w,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Ie(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ie(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)x(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w&&this.listenerKeys.push(y(t,Gr.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(D);function uo(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}!function(t){function e(e){var i=h({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),y(this,A(eo.SOURCE),this.handleSourcePropertyChange_,this);var n=e.source?e.source:null;this.setSource(n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(eo.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():no},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(x(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=y(t,O.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(x(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(x(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=y(t,Cn,function(t){var e=this.getLayerState();e.managed=!1,void 0===this.getZIndex()&&(e.zIndex=1/0),t.frameState.layerStatesArray.push(e),t.frameState.layerStates[o(this)]=e},this),this.mapRenderKey_=y(this,O.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(eo.SOURCE,t)}}(io);function ho(t){this.updateElement_(t.frameState)}var co=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||ho,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",o=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var a=void 0!==i.label?i.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var s=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=r,l.appendChild(s),y(l,O.CLICK,this.handleClick_,this);var u=n+" "+ze+" "+He+(this.collapsed_&&this.collapsible_?" "+Ke:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.ulElement_),h.appendChild(l),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getSourceAttributions_=function(t){for(var e={},i=[],n=t.layerStatesArray,r=t.viewState.resolution,o=0,a=n.length;o<a;++o){var s=n[o];if(uo(s,r)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var h=u(t);if(h)if(Array.isArray(h))for(var c=0,p=h.length;c<p;++c)h[c]in e||(i.push(h[c]),e[h[c]]=!0);else h in e||(i.push(h),e[h]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Si(e,this.renderedAttributions_)){Le(this.ulElement_);for(var n=0,r=e.length;n<r;++n){var o=document.createElement("li");o.innerHTML=e[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Ke),this.collapsed_?Re(this.collapseLabel_,this.label_):Re(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(lo);function po(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(We);r||0!==i?r&&0!==i&&this.element.classList.remove(We):this.element.classList.add(We)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}}var fo=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||po,target:i.target});var n=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=i.tipLabel?i.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),y(a,O.CLICK,this.handleClick_,this);var s=n+" "+ze+" "+He,l=this.element;l.className=s,l.appendChild(a),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(We)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Gn}):t.setRotation(0))},e}(lo),go=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var n=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,o=void 0!==i.zoomInLabel?i.zoomInLabel:"+",a=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",s=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",l=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=n+"-in",u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof o?document.createTextNode(o):o),y(u,O.CLICK,this.handleClick_.bind(this,r));var h=document.createElement("button");h.className=n+"-out",h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof a?document.createTextNode(a):a),y(h,O.CLICK,this.handleClick_.bind(this,-r));var c=n+" "+ze+" "+He,p=this.element;p.className=c,p.appendChild(u),p.appendChild(h),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:Gn})):e.setResolution(n)}}},e}(lo);function _o(t){var e=t||{},i=new U;return(void 0===e.zoom||e.zoom)&&i.push(new go(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new fo(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new co(e.attributionOptions)),i}var yo="active";function vo(t,e,i,n){mo(t,e=t.constrainRotation(e,0),i,n)}function mo(t,e,i,n){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:Gn}):t.rotate(e,i)}}function xo(t,e,i,n){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=yt(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(i&&void 0!==o&&o!==r){var s=t.getCenter(),l=t.calculateCenterZoom(o,i);l=t.constrainCenter(l),i=[(o*s[0]-r*l[0])/(o-r),(o*s[1]-r*l[1])/(o-r)]}Eo(t,o,i,n)}function Eo(t,e,i,n){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&n)t.animate({resolution:e,anchor:i,duration:n,easing:Gn});else{if(i){var a=t.calculateCenterZoom(e,i);t.setCenter(a)}t.setResolution(e)}}}var Co=function(t){function e(e){t.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(yo)},e.prototype.getMap=function(){return this.map_},e.prototype.setActive=function(t){this.set(yo,t)},e.prototype.setMap=function(t){this.map_=t},e}(D);function bo(t){var e=!1,i=t.originalEvent;if(t.type==Xn.DBLCLICK){var n=t.map,r=t.coordinate,o=i.shiftKey?-this.delta_:this.delta_;xo(n.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}var To=function(t){function e(e){t.call(this,{handleEvent:bo});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Co),So=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},wo=function(t){return t.target.getTargetElement()===document.activeElement},Ro=T,Io=function(t){var e=t.originalEvent;return 0==e.button&&!(Me&&Ne&&e.ctrlKey)},Lo=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Po=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Oo=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},ko=function(t){return j(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},Mo=w,No=S,Ao=S,Do=w;function Fo(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}function Go(t){if(!(t instanceof qn))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Xn.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==Xn.POINTERUP){var i=this.handleUpEvent_(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Xn.POINTERDOWN){var n=this.handleDownEvent_(t);n&&t.preventDefault(),this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==Xn.POINTERMOVE&&this.handleMoveEvent_(t);return!e}var Uo=function(t){function e(e){var i=e||{};t.call(this,{handleEvent:i.handleEvent||Go}),this.handleDownEvent_=i.handleDownEvent?i.handleDownEvent:Ao,this.handleDragEvent_=i.handleDragEvent?i.handleDragEvent:Mo,this.handleMoveEvent_=i.handleMoveEvent?i.handleMoveEvent:Do,this.handleUpEvent_=i.handleUpEvent?i.handleUpEvent:No,this.handlingDownUpSequence=!1,this.stopDown=i.stopDown?i.stopDown:jo,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Xn.POINTERDOWN||e===Xn.POINTERDRAG||e===Xn.POINTERUP}(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==Xn.POINTERUP?delete this.trackedPointers_[i]:t.type==Xn.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=function(t){var e=[];for(var i in t)e.push(t[i]);return e}(this.trackedPointers_)}},e}(Co);function jo(t){return t}function Bo(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(Yr.INTERACTING,1));var e=this.targetPointers,i=Fo(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var n=this.lastCentroid[0]-i[0],r=i[1]-this.lastCentroid[1],o=t.map.getView(),a=[n,r];gn(a,o.getResolution()),fn(a,o.getRotation()),pn(a,o.getCenter()),a=o.constrainCenter(a),o.setCenter(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length}function Wo(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-n*Math.cos(r),a[1]-n*Math.sin(r)]);i.animate({center:i.constrainCenter(s),duration:500,easing:Gn})}return this.panning_&&(this.panning_=!1,i.setHint(Yr.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}function Vo(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}var zo=function(t){function e(e){t.call(this,{handleDownEvent:Vo,handleDragEvent:Bo,handleUpEvent:Wo,stopDown:S});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:Lo,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Uo);function Ho(t){if(ko(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Hr){var n=e.getSize(),r=t.pixel,o=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;mo(i,i.getRotation()-a)}this.lastAngle_=o}}}function Ko(t){if(!ko(t))return!0;var e=t.map.getView();return e.setHint(Yr.INTERACTING,-1),vo(e,e.getRotation(),void 0,this.duration_),!1}function Yo(t){return!!ko(t)&&(!(!Io(t)||!this.condition_(t))&&(t.map.getView().setHint(Yr.INTERACTING,1),this.lastAngle_=void 0,!0))}var Xo=function(t){function e(e){var i=e||{};t.call(this,{handleDownEvent:Yo,handleDragEvent:Ho,handleUpEvent:Ko,stopDown:S}),this.condition_=i.condition?i.condition:So,this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Uo),qo=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new ln([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(b),Zo={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},Jo=function(t){function e(e,i,n){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L);function Qo(t,e,i){var n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_}function $o(t){ko(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Jo(Zo.BOXDRAG,t.coordinate,t)))}function ta(t){return!ko(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Jo(Zo.BOXEND,t.coordinate,t))),!1)}function ea(t){return!!ko(t)&&(!(!Io(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Jo(Zo.BOXSTART,t.coordinate,t)),!0))}function ia(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(i),o=function(t,e){return tt(Z(e),t)}([t.getPixelFromCoordinate(nt(n)),t.getPixelFromCoordinate(ht(n))]);!function(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n}(r,1/e.getResolutionForExtent(o,i)),n=r}var a=e.constrainResolution(e.getResolutionForExtent(n,i)),s=ot(n);s=e.constrainCenter(s),e.animate({resolution:a,center:s,duration:this.duration_,easing:Gn})}var na=function(t){function e(e){var i=e||{},n=i.condition?i.condition:Po;t.call(this,{condition:n,className:i.className||"ol-dragzoom",onBoxEnd:ia}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{handleDownEvent:ea,handleDragEvent:$o,handleUpEvent:ta});var i=e||{};this.box_=new qo(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:w,this.startPixel_=null,this.condition_=i.condition?i.condition:Ro,this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:Qo}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGeometry=function(){return this.box_.getGeometry()},e}(Uo)),ra={LEFT:37,UP:38,RIGHT:39,DOWN:40};function oa(t){var e=!1;if(t.type==O.KEYDOWN){var i=t.originalEvent.keyCode;if(this.condition_(t)&&(i==ra.DOWN||i==ra.LEFT||i==ra.RIGHT||i==ra.UP)){var n=t.map.getView(),r=n.getResolution()*this.pixelDelta_,o=0,a=0;i==ra.DOWN?a=-r:i==ra.LEFT?o=-r:i==ra.RIGHT?o=r:a=r;var s=[o,a];fn(s,n.getRotation()),function(t,e,i){var n=t.getCenter();if(n){var r=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:jn,center:r}):t.setCenter(r)}}(n,s,this.duration_),t.preventDefault(),e=!0}}return!e}var aa=function(t){function e(e){t.call(this,{handleEvent:oa});var i=e||{};this.defaultCondition_=function(t){return Lo(t)&&Oo(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Co);function sa(t){var e=!1;if(t.type==O.KEYDOWN||t.type==O.KEYPRESS){var i=t.originalEvent.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_;xo(n.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var la=function(t){function e(e){t.call(this,{handleEvent:sa});var i=e||{};this.condition_=i.condition?i.condition:Oo,this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Co),ua={TRACKPAD:"trackpad",WHEEL:"wheel"};function ha(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==O.WHEEL&&e!==O.MOUSEWHEEL)return!0;t.preventDefault();var i,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==O.WHEEL?(i=r.deltaY,Oe&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=Ae),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==O.MOUSEWHEEL&&(i=-r.wheelDeltaY,ke&&(i/=3)),0===i)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?ua.TRACKPAD:ua.WHEEL),this.mode_===ua.TRACKPAD){var a=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(Yr.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),l=a.getMinResolution(),u=a.getMaxResolution(),h=0;if(s<l?(s=Math.max(s,l/this.trackpadZoomBuffer_),h=1):s>u&&(s=Math.min(s,u*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var c=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(c))}return a.setResolution(s),0===h&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,i>0?-1:1),easing:Gn,anchor:this.lastAnchor_,duration:this.duration_}),h>0?a.animate({resolution:l,easing:Gn,anchor:this.lastAnchor_,duration:500}):h<0&&a.animate({resolution:u,easing:Gn,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=i;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),p),!1}var ca=function(t){function e(e){t.call(this,{handleEvent:ha});var i=e||{};this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:Ro,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(Yr.INTERACTING,-1)},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();xo(e,-yt(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Co);function pa(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Hr){var l=a.getViewport().getBoundingClientRect(),u=Fo(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_){var h=s.getRotation();a.render(),mo(s,h+e,this.anchor_)}}}function da(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(Yr.INTERACTING,-1),this.rotating_)vo(e,e.getRotation(),this.anchor_,this.duration_);return!1}return!0}function fa(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(Yr.INTERACTING,1),!0}return!1}var ga=function(t){function e(e){t.call(this,{handleDownEvent:fa,handleDragEvent:pa,handleUpEvent:da,stopDown:S});var i=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Uo);function _a(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,o=i.clientY-n.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView(),u=l.getResolution(),h=l.getMaxResolution(),c=l.getMinResolution(),p=u*e;p>h?(e=h/u,p=h):p<c&&(e=c/u,p=c),1!=e&&(this.lastScaleDelta_=e);var d=s.getViewport().getBoundingClientRect(),f=Fo(this.targetPointers);f[0]-=d.left,f[1]-=d.top,this.anchor_=s.getCoordinateFromPixel(f),s.render(),Eo(l,p,this.anchor_)}function ya(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(Yr.INTERACTING,-1);var i=e.getResolution();if(this.constrainResolution_||i<e.getMinResolution()||i>e.getMaxResolution()){var n=this.lastScaleDelta_-1;!function(t,e,i,n,r){Eo(t,e=t.constrainResolution(e,0,r),i,n)}(e,i,this.anchor_,this.duration_,n)}return!1}return!0}function va(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(Yr.INTERACTING,1),!0}return!1}var ma=function(t){function e(e){t.call(this,{handleDownEvent:va,handleDragEvent:_a,handleUpEvent:ya,stopDown:S});var i=e||{};this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Uo);function xa(t){var e=t||{},i=new U,n=new Hn(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new Xo),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new To({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new zo({condition:e.onFocusOnly?wo:void 0,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new ga),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new ma({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new aa),i.push(new la({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new ca({condition:e.onFocusOnly?wo:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new na({duration:e.zoomDuration})),i}var Ea={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},Ca="image",ba=function(t){function e(e,i,n,r,o){t.call(this,e),this.vectorContext=i,this.frameState=n,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(L),Ta=function(){};Ta.prototype.drawCustom=function(t,e,i){},Ta.prototype.drawGeometry=function(t){},Ta.prototype.setStyle=function(t){},Ta.prototype.drawCircle=function(t,e){},Ta.prototype.drawFeature=function(t,e){},Ta.prototype.drawGeometryCollection=function(t,e){},Ta.prototype.drawLineString=function(t,e){},Ta.prototype.drawMultiLineString=function(t,e){},Ta.prototype.drawMultiPoint=function(t,e){},Ta.prototype.drawMultiPolygon=function(t,e){},Ta.prototype.drawPoint=function(t,e){},Ta.prototype.drawPolygon=function(t,e){},Ta.prototype.drawText=function(t,e){},Ta.prototype.setFillStrokeStyle=function(t,e){},Ta.prototype.setImageStyle=function(t,e){},Ta.prototype.setTextStyle=function(t,e){};var Sa=Ta,wa=function(t){function e(e,i,n,r,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=n,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=gt(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,h=r.length;u<h;u+=2){var c=r[u]-this.imageAnchorX_,p=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var d=c+this.imageAnchorX_,f=p+this.imageAnchorY_;de(a,d,f,this.imageScale_,this.imageScale_,l,-d,-f),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=gt(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=n){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=de(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,a=gt(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(pt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,i){var n=t.getFlatCoordinates();if(n){var r=t.getStride();return gt(n,0,n.length,r,e,i)}return null}(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case St.POINT:this.drawPoint(t);break;case St.LINE_STRING:this.drawLineString(t);break;case St.POLYGON:this.drawPolygon(t);break;case St.MULTI_POINT:this.drawMultiPoint(t);break;case St.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case St.MULTI_POLYGON:this.drawMultiPolygon(t);break;case St.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case St.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&pt(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(pt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(pt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,o=t.getEnds(),a=t.getStride();i.beginPath();for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(n,r,o[s],a,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(pt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(pt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];n=this.drawRings_(i,n,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),De&&(Si(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,De&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:"center";i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=n&&(i.textAlign=e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Se(i||qe)}}else this.fillState_=null;if(e){var n=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||Ze,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==u?u:10,strokeStyle:Se(n||Je)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Se(i||qe)}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),o=n.getLineCap(),a=n.getLineDash(),s=n.getLineDashOffset(),l=n.getLineJoin(),u=n.getWidth(),h=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:a||Ze,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==u?u:1,miterLimit:void 0!==h?h:10,strokeStyle:Se(r||Je)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),_=t.getScale(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:"10px sans-serif",textAlign:void 0!==v?v:"center",textBaseline:void 0!==m?m:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},e}(Sa),Ra=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function Ia(t,e,i){return e+":"+t+":"+(i?xe(i):"null")}Ra.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Ra.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Ra.prototype.get=function(t,e,i){var n=Ia(t,e,i);return n in this.cache_?this.cache_[n]:null},Ra.prototype.set=function(t,e,i,n){var r=Ia(t,e,i);this.cache_[r]=n,++this.cacheSize_},Ra.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var La=new Ra,Pa=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.getLayerRendererConstructors=function(){return this.layerRendererConstructors_},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;de(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),fe(le(n,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,a,s){var l,u=e.viewState,h=u.resolution;function c(t,i){var a=o(t).toString(),s=e.layerStates[o(i)].managed;if(!(a in e.skippedFeatureUids)||s)return n.call(r,t,s?i:null)}var p=u.projection,d=t;if(p.canWrapX()){var f=p.getExtent(),g=ct(f),_=t[0];if(_<f[0]||_>f[2])d=[_+g*Math.ceil((f[0]-_)/g),t[1]]}var y,v=e.layerStatesArray;for(y=v.length-1;y>=0;--y){var m=v[y],x=m.layer;if(uo(m,h)&&a.call(s,x)){var E=this.getLayerRenderer(x);if(x.getSource()&&(l=E.forEachFeatureAtCoordinate(x.getSource().getWrapX()?d:t,e,i,c,r)),l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,a){},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,T,this,n,r)},e.prototype.getLayerRenderer=function(t){var e=o(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,n=0,r=this.layerRendererConstructors_.length;n<r;++n){var a=this.layerRendererConstructors_[n];if(a.handles(t)){i=a.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=y(i,O.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],x(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Oa)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(b);function Oa(t,e){La.expire()}function ka(t,e){return t.zIndex-e.zIndex}Pa.prototype.renderFrame=w,Pa.prototype.dispatchRenderEvent=w;var Ma=Pa,Na=[],Aa=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=we(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ze,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),n=this.context_;if(i.hasListener(t)){var r=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new wa(n,o,r,s,a),u=new ba(t,l,e,n,null);i.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,n=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,a=-e.rotation,s=-e.center[0],l=-e.center[1];return de(this.transform_,i,n,r,o,a,s,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,n=Math.round(t.size[0]*i),r=Math.round(t.size[1]*i);this.canvas_.width!=n||this.canvas_.height!=r?(this.canvas_.width=n,this.canvas_.height=r):e.clearRect(0,0,n,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(Cn,t);var a=t.layerStatesArray;wi(a,ka),o&&(e.save(),si(e,o,n/2,r/2));var s,l,u,h,c,p=t.viewState.resolution;for(s=0,l=a.length;s<l;++s)u=(c=a[s]).layer,h=this.getLayerRenderer(u),uo(c,p)&&c.sourceState==ro&&h.prepareFrame(t,c)&&h.composeFrame(t,c,e);o&&e.restore(),this.dispatchRenderEvent(En,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,a){var s,l,u=e.viewState.resolution,h=e.layerStatesArray,c=h.length,p=ue(e.pixelToCoordinateTransform,t.slice());for(l=c-1;l>=0;--l){var d=h[l],f=d.layer;if(uo(d,u)&&o.call(a,f))if(s=this.getLayerRenderer(f).forEachLayerAtCoordinate(p,e,i,n,r))return s}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,n=e.length;i<n;++i){var r=e[i];Ei(Na,r)||Na.push(r)}},e}(Ma),Da=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){return t.forEachLoadedTile(e,n,r,function(t){i[n]||(i[n]={}),i[n][t.tileCoord.toString()]=t})}},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Be.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=Be.LOADED&&e!=Be.ERROR&&y(t,O.CHANGE,this.handleImageChange_,this),e==Be.IDLE&&(t.load(),e=t.getState()),e==Be.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ro&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var n=o(t).toString();n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,n){var r=o(e).toString(),a=i.toString();r in t?a in t[r]?t[r][a].extend(n):t[r][a]=n:(t[r]={},t[r][a]=n)},e.prototype.manageTilePyramid=function(t,e,i,n,r,a,s,l,u,h){var c=o(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var p,d,f,g,_,y,v=t.wantedTiles[c],m=t.tileQueue;for(y=i.getMinZoom();y<=s;++y)for(d=i.getTileRangeForExtentAndZ(a,y,d),f=i.getResolution(y),g=d.minX;g<=d.maxX;++g)for(_=d.minY;_<=d.maxY;++_)s-y<=l?((p=e.getTile(y,g,_,n,r)).getState()==Dn.IDLE&&(v[p.getKey()]=!0,m.isKeyQueued(p.getKey())||m.enqueue([p,c,i.getTileCoordCenter(p.tileCoord),f])),void 0!==u&&u.call(h,p)):e.useTile(y,g,_,r)},e}(k);Da.prototype.forEachFeatureAtCoordinate=w,Da.prototype.hasFeatureAtCoordinate=S;var Fa=Da,Ga=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var n=e.pixelRatio,r=e.size[0]*n,o=e.size[1]*n,a=e.viewState.rotation,s=ut(i),l=ht(i),u=rt(i),h=nt(i);ue(e.coordinateToPixelTransform,s),ue(e.coordinateToPixelTransform,l),ue(e.coordinateToPixelTransform,u),ue(e.coordinateToPixelTransform,h),t.save(),si(t,-a,r/2,o/2),t.beginPath(),t.moveTo(s[0]*n,s[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(u[0]*n,u[1]*n),t.lineTo(h[0]*n,h[1]*n),t.clip(),si(t,a,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var o=i.size[0]*i.pixelRatio,a=i.size[1]*i.pixelRatio,s=i.viewState.rotation;si(e,-s,o/2,a/2);var l=void 0!==n?n:this.getTransform(i,0),u=new wa(e,i.pixelRatio,i.extent,l,i.viewState.rotation),h=new ba(t,u,i,e,null);r.dispatchEvent(h),si(e,s,o/2,a/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,r){return this.forEachFeatureAtCoordinate(t,e,i,T,this)?n.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_(En,t,e,n)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(Cn,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(bn,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,n=t.pixelRatio,r=n*t.size[0]/2,o=n*t.size[1]/2,a=n/i.resolution,s=-a,l=-i.rotation,u=-i.center[0]+e,h=-i.center[1];return de(this.transform_,r,o,a,s,l,u,h)},e.prototype.composeFrame=function(t,e,i){},e.prototype.prepareFrame=function(t,e){},e}(Fa),Ua=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=[1,0,0,1,0,0],this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent,o=void 0!==r&&!K(r,t.extent)&&pt(r,t.extent);o&&this.clip(i,t,r);var a=this.getImageTransform(),s=i.globalAlpha;i.globalAlpha=e.opacity;var l=a[4],u=a[5],h=n.width*a[0],c=n.height*a[3];i.drawImage(n,0,0,+n.width,+n.height,Math.round(l),Math.round(u),Math.round(h),Math.round(c)),i.globalAlpha=s,o&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){},e.prototype.getImageTransform=function(){},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,i,u,function(t){return n.call(r,t,o)})},e.prototype.forEachLayerAtCoordinate=function(e,i,n,r,o){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==w)return t.prototype.forEachLayerAtCoordinate.call(this,arguments);var a=ue(this.coordinateToCanvasPixelTransform,e.slice());gn(a,i.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=we(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?r.call(o,this.getLayer(),s):void 0}},e}(Ga),ja=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=[1,0,0,1,0,0],this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===Ea.VECTOR)for(var n=0,r=Na.length;n<r;++n){var o=Na[n];if(o!==e&&o.handles(i)){this.vectorRenderer_=new o(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,n=t.pixelRatio,r=t.size,o=t.viewState,a=o.center,s=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=this.vectorRenderer_,p=t.extent;if(c||void 0===e.extent||(p=lt(p,e.extent)),!u[Yr.ANIMATING]&&!u[Yr.INTERACTING]&&!dt(p)){var d=o.projection,f=this.skippedFeatures_;if(c){var g=c.context,_=h({},t,{size:[ct(p)/s,st(p)/s],viewState:h({},t.viewState,{rotation:0})}),y=Object.keys(_.skippedFeatureUids).sort();i=new An(p,s,n,g.canvas,function(t){!c.prepareFrame(_,e)||!c.replayGroupChanged&&Si(f,y)||(g.canvas.width=_.size[0]*n,g.canvas.height=_.size[1]*n,c.compose(g,_,e),f=y,t())})}else i=l.getImage(p,s,n,d);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=f)}if(this.image_){var v=(i=this.image_).getExtent(),m=i.getResolution(),x=i.getPixelRatio(),E=n*m/(s*x),C=de(this.imageTransform_,n*r[0]/2,n*r[1]/2,E,E,0,x*(v[0]-a[0])/m,x*(a[1]-v[3])/m);de(this.coordinateToCanvasPixelTransform,n*r[0]/2-C[4],n*r[1]/2-C[5],n/s,-n/s,0,-a[0],-a[1]),this.renderedResolution=m*n/x}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,n,r,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,n,r,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,n,r,o)},e}(Ua);ja.handles=function(t){return t.getType()===Ea.IMAGE||t.getType()===Ea.VECTOR&&t.getRenderMode()===Ca},ja.create=function(t,e){return new ja(e)};var Ba=ja,Wa=function(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n};Wa.prototype.contains=function(t){return this.containsXY(t[1],t[2])},Wa.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},Wa.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},Wa.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},Wa.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},Wa.prototype.getHeight=function(){return this.maxY-this.minY+1},Wa.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},Wa.prototype.getWidth=function(){return this.maxX-this.minX+1},Wa.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var Va=Wa,za=function(t){function e(e,i){t.call(this,e),this.context=i?null:we(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new Va(0,0,0,0),this.imageTransform_=[1,0,0,1,0,0],this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=t.getState(),i=this.getLayer().getUseInterimTilesOnError();return e==Dn.LOADED||e==Dn.EMPTY||e==Dn.ERROR&&!i},e.prototype.getTile=function(t,e,i,n,r){var o=this.getLayer(),a=o.getSource().getTile(t,e,i,n,r);return a.getState()==Dn.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(Dn.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,n=t.size,r=t.viewState,a=r.projection,s=r.resolution,l=r.center,u=this.getLayer(),h=u.getSource(),c=h.getRevision(),p=h.getTileGridForProjection(a),d=p.getZForResolution(s,this.zDirection),f=p.getResolution(d),g=Math.round(s/f)||1,_=t.extent;if(void 0!==e.extent&&(_=lt(_,e.extent)),dt(_))return!1;var y=p.getTileRangeForExtentAndZ(_,d),v=p.getTileRangeExtent(d,y),m=h.getTilePixelRatio(i),x={};x[d]={};var E,C,b,T=this.createLoadedTileFinder(h,a,x),S=t.viewHints,w=S[Yr.ANIMATING]||S[Yr.INTERACTING],R=this.tmpExtent,I=this.tmpTileRange_;for(this.newTiles_=!1,C=y.minX;C<=y.maxX;++C)for(b=y.minY;b<=y.maxY;++b)if(!(Date.now()-t.time>16&&w)){if(E=this.getTile(d,C,b,i,a),this.isDrawableTile_(E)){var L=o(this);if(E.getState()==Dn.LOADED){x[d][E.tileCoord.toString()]=E;var P=E.inTransition(L);this.newTiles_||!P&&-1!==this.renderedTiles.indexOf(E)||(this.newTiles_=!0)}if(1===E.getAlpha(L,t.time))continue}var O=p.getTileCoordChildTileRange(E.tileCoord,I,R),k=!1;O&&(k=T(d+1,O)),k||p.forEachTileCoordParentTileRange(E.tileCoord,T,null,I,R)}var M=f*i/m*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&w)&&(this.newTiles_||!this.renderedExtent_||!K(this.renderedExtent_,_)||this.renderedRevision!=c||g!=this.oversampling_||!w&&M!=this.renderedResolution)){var N=this.context;if(N){var A=h.getTilePixelSize(d,i,a),D=Math.round(y.getWidth()*A[0]/g),F=Math.round(y.getHeight()*A[1]/g),G=N.canvas;G.width!=D||G.height!=F?(this.oversampling_=g,G.width=D,G.height=F):(this.renderedExtent_&&!Q(v,this.renderedExtent_)&&N.clearRect(0,0,D,F),g=this.oversampling_)}this.renderedTiles.length=0;var U,j,B,W,V,z,H,Y,X,q,Z=Object.keys(x).map(Number);for(Z.sort(function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0}),W=0,V=Z.length;W<V;++W)for(var J in B=Z[W],j=h.getTilePixelSize(B,i,a),U=p.getResolution(B)/f,H=m*h.getGutterForProjection(a),Y=x[B])E=Y[J],C=((z=p.getTileCoordExtent(E.getTileCoord(),R))[0]-v[0])/f*m/g,b=(v[3]-z[3])/f*m/g,X=j[0]*U/g,q=j[1]*U/g,this.drawTileImage(E,t,e,C,b,X,q,H,d===B),this.renderedTiles.push(E);this.renderedRevision=c,this.renderedResolution=f*i/m*g,this.renderedExtent_=v}var $=this.renderedResolution/s,tt=de(this.imageTransform_,i*n[0]/2,i*n[1]/2,$,$,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*i,(l[1]-this.renderedExtent_[3])/this.renderedResolution*i);return de(this.coordinateToCanvasPixelTransform,i*n[0]/2-tt[4],i*n[1]/2-tt[5],i/s,-i/s,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,h,d,y),this.manageTilePyramid(t,h,p,i,a,_,d,u.getPreload()),this.scheduleExpireCache(t,h),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,n,r,a,s,l,u){var h=t.getImage(this.getLayer());if(h){var c=o(this),p=u?t.getAlpha(c,e.time):1;1!==p||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(n,r,a,s);var d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,r,a,s),d&&this.context.restore(),1!==p?e.animate=!0:u&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e}(Ua);za.handles=function(t){return t.getType()===Ea.TILE},za.create=function(t,e){return new za(e)},za.prototype.getLayer;var Ha=za,Ka=i(1),Ya=i.n(Ka),Xa=function(){};Xa.prototype.getReplay=function(t,e){},Xa.prototype.isEmpty=function(){};var qa=Xa,Za={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function Ja(t,e,i,n,r,o,a,s){for(var l,u,h,c=[],p=t[e]>t[i-n],d=r.length,f=t[e],g=t[e+1],_=t[e+=n],y=t[e+1],v=0,m=Math.sqrt(Math.pow(_-f,2)+Math.pow(y-g,2)),x="",E=0,C=0;C<d;++C){u=p?d-C-1:C;var b=r.charAt(u),T=o(x=p?b+x:x+b)-E;E+=T;for(var S=a+T/2;e<i-n&&v+m<S;)f=_,g=y,_=t[e+=n],y=t[e+1],v+=m,m=Math.sqrt(Math.pow(_-f,2)+Math.pow(y-g,2));var w=S-v,R=Math.atan2(y-g,_-f);if(p&&(R+=R>0?-Math.PI:Math.PI),void 0!==h){var I=R-h;if(I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>s)return null}var L=w/m,P=Tt(f,_,L),O=Tt(g,y,L);h==R?(p&&(l[0]=P,l[1]=O,l[2]=T/2),l[4]=x):(E=T,l=[P,O,T/2,R,x=b],p?c.unshift(l):c.push(l),h=R),a+=T}return c}var Qa={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$a=[Qa.FILL],ts=[Qa.STROKE],es=[Qa.BEGIN_PATH],is=[Qa.CLOSE_PATH],ns=Qa,rs=[Za.POLYGON,Za.CIRCLE,Za.LINE_STRING,Za.IMAGE,Za.TEXT,Za.DEFAULT],os={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},as=[1/0,1/0,-1/0,-1/0],ss=[1,0,0,1,0,0],ls=function(t){function e(e,i,n,r,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=i,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,n,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,i,n,r,o,a,s,l,u,h,c,p,d,f,g,_,y){var v=_||y;e-=r*=p,i-=o*=p;var m,x,E,C,b=f+u>n.width?n.width-u:f,T=s+h>n.height?n.height-h:s,S=g[3]+b*p+g[1],w=g[0]+T*p+g[2],R=e-g[3],I=i-g[0];(v||0!==c)&&(m=[R,I],x=[R+S,I],E=[R+S,I+w],C=[R,I+w]);var L=null;if(0!==c){var P=e+r,O=i+o;L=de(ss,P,O,1,1,c,-P,-O),Z(as),$(as,ue(ss,m)),$(as,ue(ss,x)),$(as,ue(ss,E)),$(as,ue(ss,C))}else q(R,I,R+S,I+w,as);var k=t.canvas,M=y?y[2]*p/2:0,N=as[0]-M<=k.width&&as[2]+M>=0&&as[1]-M<=k.height&&as[3]+M>=0;if(d&&(e=Math.round(e),i=Math.round(i)),a){if(!N&&1==a[4])return;!function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(a,as);var A=N?[t,L?L.slice(0):null,l,n,u,h,b,T,e,i,p]:null;A&&v&&A.push(_,y,m,x,E,C),a.push(A)}else N&&(v&&this.replayTextBackground_(t,m,x,E,C,_,y),ui(t,L,l,n,u,h,b,T,e,i,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,i,n,r,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=n);var l,u,h,c=[t[e],t[e+1]],p=[NaN,NaN],d=!0;for(l=e+n;l<i;l+=n)p[0]=t[l],p[1]=t[l+1],(h=X(s,p))!==u?(d&&(this.coordinates[a++]=c[0],this.coordinates[a++]=c[1]),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],d=!1):h===B.INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],d=!1):d=!0,c[0]=p[0],c[1]=p[1],u=h;return(r&&d||l===e+n)&&(this.coordinates[a++]=c[0],this.coordinates[a++]=c[1]),a},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o],l=this.appendFlatCoordinates(t,e,s,n,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,o,a,s,l=t.getType(),u=t.getStride(),h=this.coordinates.length;if(l==St.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),a=[];var c=t.getEndss();s=0;for(var p=0,d=c.length;p<d;++p){var f=[];s=this.drawCustomCoordinates_(n,s,c[p],u,f),a.push(f)}this.instructions.push([ns.CUSTOM,h,a,t,i,Wi])}else l==St.POLYGON||l==St.MULTI_LINE_STRING?(o=[],n=l==St.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,t.getEnds(),u,o),this.instructions.push([ns.CUSTOM,h,o,t,i,Bi])):l==St.LINE_STRING||l==St.MULTI_POINT?(n=t.getFlatCoordinates(),r=this.appendFlatCoordinates(n,0,n.length,u,!1,!1),this.instructions.push([ns.CUSTOM,h,r,t,i,ji])):l==St.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([ns.CUSTOM,h,r,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[ns.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ns.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.fill_=function(t){if(this.alignFill_){var e=ue(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,li)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],De&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var r=5,o=t.length;r<o;++r){var a=t[r];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),ui.apply(void 0,a))}}t.length=5,Z(t)}}},e.prototype.replay_=function(t,e,i,n,r,a,s){var l;this.pixelCoordinates_&&Si(e,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=gt(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),le(this.renderedTransform_,e));for(var u,h,c,d,f,g,_,y,v,m,x,E,C=!p(i),b=0,T=n.length,S=0,w=0,R=0,I=null,L=null,P=this.coordinateCache_,O=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},M=this.instructions!=n||this.overlaps?0:200;b<T;){var N=n[b];switch(N[0]){case ns.BEGIN_GEOMETRY:m=N[1],C&&i[o(m).toString()]||!m.getGeometry()?b=N[2]:void 0===s||pt(s,m.getGeometry().getExtent())?++b:b=N[2]+1;break;case ns.BEGIN_PATH:w>M&&(this.fill_(t),w=0),R>M&&(t.stroke(),R=0),w||R||(t.beginPath(),d=f=NaN),++b;break;case ns.CIRCLE:var A=l[S=N[1]],D=l[S+1],F=l[S+2]-A,G=l[S+3]-D,U=Math.sqrt(F*F+G*G);t.moveTo(A+U,D),t.arc(A,D,U,0,2*Math.PI,!0),++b;break;case ns.CLOSE_PATH:t.closePath(),++b;break;case ns.CUSTOM:S=N[1],u=N[2];var j=N[3],B=N[4],W=6==N.length?N[5]:void 0;k.geometry=j,k.feature=m,b in P||(P[b]=[]);var V=P[b];W?W(l,S,u,2,V):(V[0]=l[S],V[1]=l[S+1],V.length=2),B(V,k),++b;break;case ns.DRAW_IMAGE:S=N[1],u=N[2],v=N[3],h=N[4],c=N[5],y=a?null:N[6];var z=N[7],H=N[8],K=N[9],Y=N[10],X=N[11],q=N[12],Z=N[13],J=N[14],Q=void 0,$=void 0,tt=void 0;for(N.length>16?(Q=N[15],$=N[16],tt=N[17]):(Q=Qe,$=tt=!1),X&&(q+=O);S<u;S+=2)this.replayImage_(t,l[S],l[S+1],v,h,c,y,z,H,K,Y,q,Z,r,J,Q,$?I:null,tt?L:null);this.renderDeclutter_(y,m),++b;break;case ns.DRAW_CHARS:var et=N[1],it=N[2],nt=N[3];y=a?null:N[4];var rt=N[5],ot=N[6],at=N[7],st=N[8],lt=N[9],ut=N[10],ht=N[11],ct=N[12],dt=N[13],ft=N[14],_t=vn(l,et,it,2),yt=st(ct);if(rt||yt<=_t){var vt=this.textStates[dt].textAlign,mt=Ja(l,et,it,2,ct,st,(_t-yt)*os[vt],at);if(mt){var xt=void 0,Et=void 0,Ct=void 0,bt=void 0,Tt=void 0;if(ut)for(xt=0,Et=mt.length;xt<Et;++xt)Ct=(Tt=mt[xt])[4],bt=this.getImage(Ct,dt,"",ut),h=Tt[2]+ht,c=nt*bt.height+2*(.5-nt)*ht-lt,this.replayImage_(t,Tt[0],Tt[1],bt,h,c,y,bt.height,1,0,0,Tt[3],ft,!1,bt.width,Qe,null,null);if(ot)for(xt=0,Et=mt.length;xt<Et;++xt)Ct=(Tt=mt[xt])[4],bt=this.getImage(Ct,dt,ot,""),h=Tt[2],c=nt*bt.height-lt,this.replayImage_(t,Tt[0],Tt[1],bt,h,c,y,bt.height,1,0,0,Tt[3],ft,!1,bt.width,Qe,null,null)}}this.renderDeclutter_(y,m),++b;break;case ns.END_GEOMETRY:if(void 0!==a){var St=a(m=N[1]);if(St)return St}++b;break;case ns.FILL:M?w++:this.fill_(t),++b;break;case ns.MOVE_TO_LINE_TO:for(S=N[1],u=N[2],x=l[S],_=(E=l[S+1])+.5|0,(g=x+.5|0)===d&&_===f||(t.moveTo(x,E),d=g,f=_),S+=2;S<u;S+=2)g=(x=l[S])+.5|0,_=(E=l[S+1])+.5|0,S!=u-2&&g===d&&_===f||(t.lineTo(x,E),d=g,f=_);++b;break;case ns.SET_FILL_STYLE:I=N,this.alignFill_=N[2],w&&(this.fill_(t),w=0,R&&(t.stroke(),R=0)),t.fillStyle=N[1],++b;break;case ns.SET_STROKE_STYLE:L=N,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,N),++b;break;case ns.STROKE:M?R++:t.stroke(),++b;break;default:++b}}w&&this.fill_(t),R&&t.stroke()},e.prototype.replay=function(t,e,i,n,r){this.viewRotation_=i,this.replay_(t,e,n,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,n,r,o){return this.viewRotation_=i,this.replay_(t,e,n,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)(n=(i=e[t])[0])==ns.END_GEOMETRY?o=t:n==ns.BEGIN_GEOMETRY&&(i[2]=t,bi(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Se(n||qe)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Se(r||Je);var o=e.getLineCap();i.lineCap=void 0!==o?o:"round";var a=e.getLineDash();i.lineDash=a?a.slice():Ze;var s=e.getLineDashOffset();i.lineDashOffset=s||0;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:"round";var u=e.getWidth();i.lineWidth=void 0!==u?u:1;var h=e.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,n=[ns.SET_FILL_STYLE,i];return"string"!=typeof i&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[ns.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Si(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[ns.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=V(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;W(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Sa);ls.prototype.finish=w;var us=ls,hs=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([ns.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ns.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([ns.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ns.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(us),cs=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,i,n,!1,!1),a=[ns.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ns.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],es);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(ts),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ns.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],es);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinates_(a,l,o[u],s);this.hitDetectionInstructions.push(ts),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ts),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ts),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(es)},e}(us),ps=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,a=void 0!=r.strokeStyle,s=i.length;this.instructions.push(es),this.hitDetectionInstructions.push(es);for(var l=0;l<s;++l){var u=i[l],h=this.coordinates.length,c=this.appendFlatCoordinates(t,e,u,n,!0,!a),p=[ns.MOVE_TO_LINE_TO,h,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(is),this.hitDetectionInstructions.push(is)),e=u}return o&&(this.instructions.push($a),this.hitDetectionInstructions.push($a)),a&&(this.instructions.push(ts),this.hitDetectionInstructions.push(ts)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ns.SET_FILL_STYLE,xe(qe)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ns.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var l=[ns.CIRCLE,s];this.instructions.push(es,l),this.hitDetectionInstructions.push(es,l),this.hitDetectionInstructions.push($a),void 0!==i.fillStyle&&this.instructions.push($a),void 0!==i.strokeStyle&&(this.instructions.push(ts),this.hitDetectionInstructions.push(ts)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ns.SET_FILL_STYLE,xe(qe)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ns.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([ns.SET_FILL_STYLE,xe(qe)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([ns.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,u=0,h=o.length;u<h;++u)l=this.drawFlatCoordinatess_(a,l,o[u],s);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,n=e.length;i<n;++i)e[i]=zi(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(us);function ds(t,e,i,n,r){var o,a,s,l,u,h,c,p,d,f=i,g=i,_=0,y=0,v=i;for(o=i;o<n;o+=r){var m=e[o],x=e[o+1];void 0!==l&&(p=m-l,d=x-u,s=Math.sqrt(p*p+d*d),void 0!==h&&(y+=a,Math.acos((h*p+c*d)/(a*s))>t&&(y>_&&(_=y,f=v,g=o),y=0,v=o-r)),a=s,h=p,c=d),l=m,u=x}return(y+=s)>_?[v,o]:[f,g]}var fs={Circle:ps,Default:us,Image:hs,LineString:cs,Polygon:ps,Text:function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},$e.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,a,s=this.coordinates.length,l=t.getType(),u=null,h=2,c=2;if(r.placement===wn){if(!pt(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(u=t.getFlatCoordinates(),c=t.getStride(),l==St.LINE_STRING)p=[u.length];else if(l==St.MULTI_LINE_STRING)p=t.getEnds();else if(l==St.POLYGON)p=t.getEnds().slice(0,1);else if(l==St.MULTI_POLYGON){var d=t.getEndss();for(p=[],o=0,a=d.length;o<a;++o)p.push(d[o][0])}this.beginGeometry(t,e);for(var f,g=r.textAlign,_=0,y=0,v=p.length;y<v;++y){if(void 0==g){var m=ds(r.maxAngle,u,_,p[y],c);_=m[0],f=m[1]}else f=p[y];for(o=_;o<f;o+=c)this.coordinates.push(u[o],u[o+1]);h=this.coordinates.length,_=p[y],this.drawChars_(s,h,this.declutterGroup_),s=h}this.endGeometry(t,e)}else{var x=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),E=x.width/this.pixelRatio;switch(l){case St.POINT:case St.MULTI_POINT:h=(u=t.getFlatCoordinates()).length;break;case St.LINE_STRING:u=t.getFlatMidpoint();break;case St.CIRCLE:u=t.getCenter();break;case St.MULTI_LINE_STRING:h=(u=t.getFlatMidpoints()).length;break;case St.POLYGON:if(u=t.getFlatInteriorPoint(),!r.overflow&&u[2]/this.resolution<E)return;c=3;break;case St.MULTI_POLYGON:var C=t.getFlatInteriorPoints();for(u=[],o=0,a=C.length;o<a;o+=3)(r.overflow||C[o+2]/this.resolution>=E)&&u.push(C[o],C[o+1]);if(0==(h=u.length))return}h=this.appendFlatCoordinates(u,0,h,c,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(x,s,h),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,n){var r,o=n+e+t+i+this.pixelRatio;if(!$e.containsKey(o)){var a=n?this.strokeStates[n]||this.textStrokeState_:null,s=i?this.fillStates[i]||this.textFillState_:null,l=this.textStates[e]||this.textState_,u=this.pixelRatio,h=l.scale*u,c=os[l.textAlign||"center"],p=n&&a.lineWidth?a.lineWidth:0,d=t.split("\n"),f=d.length,g=[],_=function(t,e,i){for(var n=e.length,r=0,o=0;o<n;++o){var a=ai(t,e[o]);r=Math.max(r,a),i.push(a)}return r}(l.font,d,g),y=oi(l.font),v=y*f,m=_+p,x=we(Math.ceil(m*h),Math.ceil((v+p)*h));r=x.canvas,$e.set(o,r),1!=h&&x.scale(h,h),x.font=l.font,n&&(x.strokeStyle=a.strokeStyle,x.lineWidth=p,x.lineCap=a.lineCap,x.lineJoin=a.lineJoin,x.miterLimit=a.miterLimit,De&&a.lineDash.length&&(x.setLineDash(a.lineDash),x.lineDashOffset=a.lineDashOffset)),i&&(x.fillStyle=s.fillStyle),x.textBaseline="middle",x.textAlign="center";var E,C=.5-c,b=c*r.width/h+C*p;if(n)for(E=0;E<f;++E)x.strokeText(d[E],b+C*g[E],.5*(p+y)+E*y);if(i)for(E=0;E<f;++E)x.fillText(d[E],b+C*g[E],.5*(p+y)+E*y)}return $e.get(o)},e.prototype.drawTextImage_=function(t,e,i){var n=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,a=os[n.textAlign||"center"],s=os[n.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,h=s*t.height/o+2*(.5-s)*l;this.instructions.push([ns.DRAW_IMAGE,e,i,t,(u-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,n.padding==Qe?Qe:n.padding.map(function(t){return t*o}),!!n.backgroundFill,!!n.backgroundStroke]),this.hitDetectionInstructions.push([ns.DRAW_IMAGE,e,i,t,(u-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var n=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;n&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,h=os[r.textBaseline],c=this.textOffsetY_*u,p=this.text_,d=r.font,f=r.scale,g=n?n.lineWidth*f/2:0,_=this.widths_[d];_||(this.widths_[d]=_={}),this.instructions.push([ns.DRAW_CHARS,t,e,h,i,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=ai(d,t)),e*f*u},c,a,g*u,p,s,1]),this.hitDetectionInstructions.push([ns.DRAW_CHARS,t,e,h,i,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=ai(d,t)),e*f},c,a,g,p,s,1/u])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){this.declutterGroup_=e;var a=t.getFill();a?((n=this.textFillState_)||(n=this.textFillState_={}),n.fillStyle=Se(a.getColor()||qe)):n=this.textFillState_=null;var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var l=s.getLineDash(),u=s.getLineDashOffset(),h=s.getWidth(),c=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=l?l.slice():Ze,r.lineDashOffset=void 0===u?0:u,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===h?1:h,r.miterLimit=void 0===c?10:c,r.strokeStyle=Se(s.getColor()||Je)}else r=this.textStrokeState_=null;i=this.textState_;var p=t.getFont()||"10px sans-serif";ni(p);var d=t.getScale();i.overflow=t.getOverflow(),i.font=p,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||"middle",i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Qe,i.scale=void 0===d?1:d;var f=t.getOffsetX(),g=t.getOffsetY(),_=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:o(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+o(n.fillStyle):""}else this.text_=""},e}(us)},gs=function(t){function e(e,i,n,r,o,a,s){t.call(this),this.declutterTree_=a,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=s,this.replaysByZIndex_={},this.hitDetectionContext_=we(1,1),this.hitDetectionTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=[1/0,1/0,-1/0,-1/0]).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,a){var s,l=2*(n=Math.round(n))+1,u=de(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):h.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&($(s=[1/0,1/0,-1/0,-1/0],t),W(s,e*(this.renderBuffer_+n),s));var c,p,d=function(t){if(void 0!==_s[t])return _s[t];for(var e=2*t+1,i=new Array(e),n=0;n<e;n++)i[n]=new Array(e);var r=t,o=0,a=0;for(;r>=o;)ys(i,t+r,t+o),ys(i,t+o,t+r),ys(i,t-o,t+r),ys(i,t-r,t+o),ys(i,t-r,t-o),ys(i,t-o,t-r),ys(i,t+o,t-r),ys(i,t+r,t-o),2*((a+=1+2*++o)-r)+1>0&&(a+=1-2*(r-=1));return _s[t]=i,i}(n);function f(t){for(var e=h.getImageData(0,0,l,l).data,i=0;i<l;i++)for(var n=0;n<l;n++)if(d[i][n]&&e[4*(n*l+i)+3]>0){var r=void 0;return(!c||p!=Za.IMAGE&&p!=Za.TEXT||-1!==c.indexOf(t))&&(r=o(t)),r||void h.clearRect(0,0,l,l)}}this.declutterTree_&&(c=this.declutterTree_.all().map(function(t){return t.value}));var g,_,y,v,m,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(xi),g=x.length-1;g>=0;--g){var E=x[g].toString();for(y=this.replaysByZIndex_[E],_=rs.length-1;_>=0;--_)if(void 0!==(v=y[p=rs[_]]))if(!a||p!=Za.IMAGE&&p!=Za.TEXT){if(m=v.replayHitDetection(h,u,i,r,f,s))return m}else{var C=a[E];C?C.push(v,u.slice(0)):a[E]=[v,u.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],n=e[1],r=e[2],o=e[3],a=[i,n,i,o,r,o,r,n];return gt(a,0,8,2,t,a),a},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,fs[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),n[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return p(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,n,r,o,a){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(xi),t.save(),this.clip(t,e);var l,u,h,c,p,d,f=o||rs;for(l=0,u=s.length;l<u;++l){var g=s[l].toString();for(p=this.replaysByZIndex_[g],h=0,c=f.length;h<c;++h){var _=f[h];if(d=p[_],void 0!==d)if(!a||_!=Za.IMAGE&&_!=Za.TEXT)d.replay(t,e,i,n,r);else{var y=a[g];y?y.push(d,e.slice(0)):a[g]=[d,e.slice(0)]}}}t.restore()},e}(qa),_s={0:[[!0]]};function ys(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}var vs=gs,ms=.5,xs={Point:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=Be.LOADED)return;var o=t.getReplay(i.getZIndex(),Za.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,n)}var a=i.getText();if(a){var s=t.getReplay(i.getZIndex(),Za.TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,n)}},LineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),Za.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,n)}var a=i.getText();if(a){var s=t.getReplay(i.getZIndex(),Za.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,n)}},Polygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var a=t.getReplay(i.getZIndex(),Za.POLYGON);a.setFillStrokeStyle(r,o),a.drawPolygon(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),Za.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},MultiPoint:function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=Be.LOADED)return;var o=t.getReplay(i.getZIndex(),Za.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,n)}var a=i.getText();if(a){var s=t.getReplay(i.getZIndex(),Za.TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,n)}},MultiLineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),Za.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,n)}var a=i.getText();if(a){var s=t.getReplay(i.getZIndex(),Za.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,n)}},MultiPolygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(o||r){var a=t.getReplay(i.getZIndex(),Za.POLYGON);a.setFillStrokeStyle(r,o),a.drawMultiPolygon(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),Za.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},GeometryCollection:function(t,e,i,n){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r){var s=xs[a[r].getType()];s(t,a[r],i,n)}},Circle:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var a=t.getReplay(i.getZIndex(),Za.CIRCLE);a.setFillStrokeStyle(r,o),a.drawCircle(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),Za.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}}};function Es(t,e){return o(t)-o(e)}function Cs(t,e){var i=bs(t,e);return i*i}function bs(t,e){return ms*t/e}function Ts(t,e,i,n,r,o){var a=!1,s=i.getImage();if(s){var l=s.getImageState();l==Be.LOADED||l==Be.ERROR?s.unlistenImageChange(r,o):(l==Be.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(r,o),a=!0)}return function(t,e,i,n){var r=i.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(n);if(i.getRenderer())!function t(e,i,n,r){if(i.getType()==St.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),a=0,s=o.length;a<s;++a)t(e,o[a],n,r);return}var l=e.getReplay(n.getZIndex(),Za.DEFAULT);l.drawCustom(i,r,n.getRenderer())}(t,o,i,e);else{var a=xs[o.getType()];a(t,o,i,e)}}(t,e,i,n),a}var Ss=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?Ya()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=we(),y($e,O.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){m($e,O.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var n=e.extent,r=e.pixelRatio,o=i.managed?e.skippedFeatureUids:{},a=e.viewState,s=a.projection,l=a.rotation,u=s.getExtent(),h=this.getLayer().getSource(),c=this.getTransform(e,0),p=i.extent,d=void 0!==p;d&&this.clip(t,e,p);var f=this.replayGroup_;if(f&&!f.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,_=this.getLayer(),y=0,v=0,m=1!==i.opacity,x=_.hasListener(bn);if(m||x){var E=t.canvas.width,C=t.canvas.height;if(l){var b=Math.round(Math.sqrt(E*E+C*C));y=(b-E)/2,v=(b-C)/2,E=C=b}this.context.canvas.width=E,this.context.canvas.height=C,g=this.context}else g=t;var T=g.globalAlpha;m||(g.globalAlpha=i.opacity),g!=t&&g.translate(y,v);var S=e.viewHints,w=!(S[Yr.ANIMATING]||S[Yr.INTERACTING]),R=e.size[0]*r,I=e.size[1]*r;if(si(g,-l,R/2,I/2),f.replay(g,c,l,o,w),h.getWrapX()&&s.canWrapX()&&!K(u,n)){for(var L,P=n[0],O=ct(u),k=0;P<u[0];)L=O*--k,c=this.getTransform(e,L),f.replay(g,c,l,o,w),P+=O;for(k=0,P=n[2];P>u[2];)L=O*++k,c=this.getTransform(e,L),f.replay(g,c,l,o,w),P-=O}if(si(g,l,R/2,I/2),x&&this.dispatchRenderEvent(g,e,c),g!=t){if(m){var M=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(g.canvas,-y,-v),t.globalAlpha=M}else t.drawImage(g.canvas,-y,-v);g.translate(-y,-v)}m||(g.globalAlpha=T)}d&&t.restore()},e.prototype.composeFrame=function(t,e,i){var n=this.getTransform(t,0);this.preCompose(i,t,n),this.compose(i,t,e),this.postCompose(i,t,e,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,i,{},function(t){var e=o(t).toString();if(!(e in u))return u[e]=!0,n.call(r,t,l)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getSource(),r=t.viewHints[Yr.ANIMATING],o=t.viewHints[Yr.INTERACTING],a=i.getUpdateWhileAnimating(),s=i.getUpdateWhileInteracting();if(!this.dirty_&&!a&&r||!s&&o)return!0;var l=t.extent,u=t.viewState,h=u.projection,c=u.resolution,p=t.pixelRatio,d=i.getRevision(),f=i.getRenderBuffer(),g=i.getRenderOrder();void 0===g&&(g=Es);var _=W(l,f*c),y=u.projection.getExtent();if(n.getWrapX()&&u.projection.canWrapX()&&!K(y,t.extent)){var v=ct(y),m=Math.max(ct(_)/2,v);_[0]=y[0]-m,_[2]=y[2]+m}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&K(this.renderedExtent_,_))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var x=new vs(bs(c,p),_,c,p,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(_,c,h);var E=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,c)),e){var r=this.renderFeature(t,c,p,e,x);this.dirty_=this.dirty_||r}}.bind(this);if(g){var C=[];n.forEachFeatureInExtent(_,function(t){C.push(t)},this),C.sort(g);for(var b=0,T=C.length;b<T;++b)E(C[b])}else n.forEachFeatureInExtent(_,E,this);return x.finish(),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=_,this.replayGroup_=x,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=Ts(r,t,n[a],Cs(e,i),this.handleStyleImageChange_,this)||o;else o=Ts(r,t,n,Cs(e,i),this.handleStyleImageChange_,this);return o},e}(Ga);Ss.handles=function(t){return t.getType()===Ea.VECTOR},Ss.create=function(t,e){return new Ss(e)};var ws=Ss,Rs={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Is={image:[Za.POLYGON,Za.CIRCLE,Za.LINE_STRING,Za.IMAGE,Za.TEXT],hybrid:[Za.POLYGON,Za.LINE_STRING]},Ls={image:[Za.DEFAULT],hybrid:[Za.IMAGE,Za.TEXT,Za.DEFAULT],vector:rs},Ps=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?Ya()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=[1,0,0,1,0,0],this.zDirection=e.getRenderMode()==Rs.VECTOR?1:0,y($e,O.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){m($e,O.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,n,r,o){var a=t.prototype.getTile.call(this,e,i,n,r,o);return a.getState()===Dn.LOADED&&(this.createReplayGroup_(a,r,o),this.context&&this.renderTileImage_(a,r,o)),a},e.prototype.prepareFrame=function(e,i){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var o=n.getRenderMode();this.context||o==Rs.VECTOR||(this.context=we()),this.context&&o==Rs.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var n=this,r=this.getLayer(),o=r.getRevision(),a=r.getRenderOrder()||null,s=t.getReplayState(r);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var l=r.getSource(),u=l.getTileGrid(),h=l.getTileGridForProjection(i).getResolution(t.tileCoord[0]),c=t.extent,p={},d=function(o,d){var f=t.getTile(t.tileKeys[o]);if(f.getState()==Dn.LOADED){var g=f.tileCoord,_=u.getTileCoordExtent(g),y=lt(c,_),v=Q(_,y)?null:W(y,r.getRenderBuffer()*h,n.tmpExtent),m=f.getProjection(),x=!1;te(i,m)||(x=!0,f.setProjection(i)),s.dirty=!1;var E=new vs(0,y,h,e,l.getOverlaps(),n.declutterTree_,r.getRenderBuffer()),C=Cs(h,e),b=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,h)),e){var n=this.renderFeature(t,C,e,E);this.dirty_=this.dirty_||n,s.dirty=s.dirty||n}},T=f.getFeatures();a&&a!==s.renderedRenderOrder&&T.sort(a);for(var S=0,w=T.length;S<w;++S){var R=T[S];x&&(m.getUnits()==Pt.TILE_PIXELS&&(m.setWorldExtent(_),m.setExtent(f.getExtent())),R.getGeometry().transform(m,i)),v&&!pt(v,R.getGeometry().getExtent())||b.call(n,R)}for(var I in E.finish(),E.getReplays())p[I]=!0;f.setReplayGroup(r,t.tileCoord.toString(),E)}},f=0,g=t.tileKeys.length;f<g;++f)d(f);s.renderedRevision=o,s.renderedRenderOrder=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var a=e.viewState.resolution,s=e.viewState.rotation;i=void 0==i?0:i;var l,u,h,c,p,d=this.getLayer(),f={},g=this.renderedTiles;for(h=0,c=g.length;h<c;++h){var _=g[h];if(H(l=W(_.extent,i*a,l),t))for(var y=0,v=_.tileKeys.length;y<v;++y){var m=_.getTile(_.tileKeys[y]);m.getState()==Dn.LOADED&&(p=m.getReplayGroup(d,_.tileCoord.toString()),u=u||p.forEachFeatureAtCoordinate(t,a,s,i,{},function(t){var e=o(t).toString();if(!(e in f))return f[e]=!0,n.call(r,t,d)},null))}}return u},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),n=t.tileCoord,r=i.getResolution(n[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=i.getTileCoordExtent(n,this.tmpExtent),u=o.center,h=ut(l),c=e.size,p=Math.round(a*c[0]/2),d=Math.round(a*c[1]/2);return de(this.tmpTransform_,p,d,r/s,r/s,o.rotation,(h[0]-u[0])/r,(u[1]-h[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,n){var r=this.getLayer(),o=r.getRenderMode();if(o!=Rs.IMAGE){var a,s,l=r.getDeclutter()?{}:null,u=r.getSource(),h=Ls[o],c=i.pixelRatio,p=i.viewState.rotation,d=i.size;p&&si(e,-p,a=Math.round(c*d[0]/2),s=Math.round(c*d[1]/2)),l&&this.declutterTree_.clear();for(var f=i.viewHints,g=!(f[Yr.ANIMATING]||f[Yr.INTERACTING]),_=this.renderedTiles,y=u.getTileGridForProjection(i.viewState.projection),v=[],m=[],x=_.length-1;x>=0;--x){var E=_[x];if(E.getState()!=Dn.ABORT)for(var C=E.tileCoord,b=y.getTileCoordExtent(C,this.tmpExtent)[0]-E.extent[0],T=void 0,S=0,w=E.tileKeys.length;S<w;++S){var R=E.getTile(E.tileKeys[S]);if(R.getState()==Dn.LOADED){var I=R.getReplayGroup(r,C.toString());if(I&&I.hasReplays(h)){T||(T=this.getTransform(i,b));var L=R.tileCoord[0],P=I.getClipCoords(T);e.save(),e.globalAlpha=n.opacity;for(var O=0,k=v.length;O<k;++O){var M=v[O];L<m[O]&&(e.beginPath(),e.moveTo(P[0],P[1]),e.lineTo(P[2],P[3]),e.lineTo(P[4],P[5]),e.lineTo(P[6],P[7]),e.moveTo(M[6],M[7]),e.lineTo(M[4],M[5]),e.lineTo(M[2],M[3]),e.lineTo(M[0],M[1]),e.clip())}I.replay(e,T,p,{},g,h,l),e.restore(),v.push(P),m.push(L)}}}}l&&function(t,e,i,n){for(var r=Object.keys(t).map(Number).sort(xi),o={},a=0,s=r.length;a<s;++a)for(var l=t[r[a].toString()],u=0,h=l.length;u<h;){var c=l[u++],p=l[u++];c.replay(e,p,i,o,n)}}(l,e,p,g),p&&si(e,p,a,s)}t.prototype.postCompose.call(this,e,i,n)},e.prototype.renderFeature=function(t,e,i,n){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var o=0,a=i.length;o<a;++o)r=Ts(n,t,i[o],e,this.handleStyleImageChange_,this)||r;else r=Ts(n,t,i,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer(),r=t.getReplayState(n),o=n.getRevision(),a=Is[n.getRenderMode()];if(a&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var s=t.wrappedTileCoord,l=s[0],u=n.getSource(),h=u.getTileGridForProjection(i),c=h.getResolution(l),p=t.getContext(n),d=u.getTilePixelSize(l,e,i);p.canvas.width=d[0],p.canvas.height=d[1];for(var f=h.getTileCoordExtent(s,this.tmpExtent),g=0,_=t.tileKeys.length;g<_;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()==Dn.LOADED){var v=e/c,m=oe(this.tmpTransform_);ce(m,v,-v),pe(m,-f[0],-f[3]),y.getReplayGroup(n,t.tileCoord.toString()).replay(p,m,0,{},!0,a)}}}},e}(Ha);Ps.handles=function(t){return t.getType()===Ea.VECTOR_TILE},Ps.create=function(t,e){return new Ps(e)};var Os=Ps,ks=function(t){function e(e){(e=h({},e)).controls||(e.controls=_o()),e.interactions||(e.interactions=xa()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Aa(this);return t.registerLayerRenderers([Ba,Ha,ws,Os]),t},e}(so),Ms={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Ns={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},As=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Ve,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,y(this,A(Ns.ELEMENT),this.handleElementChanged,this),y(this,A(Ns.MAP),this.handleMapChanged,this),y(this,A(Ns.OFFSET),this.handleOffsetChanged,this),y(this,A(Ns.POSITION),this.handlePositionChanged,this),y(this,A(Ns.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:Ms.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(Ns.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Ns.MAP)},e.prototype.getOffset=function(){return this.get(Ns.OFFSET)},e.prototype.getPosition=function(){return this.get(Ns.POSITION)},e.prototype.getPositioning=function(){return this.get(Ns.POSITIONING)},e.prototype.handleElementChanged=function(){Le(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Ie(this.element),x(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=y(t,Gr.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Ns.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Ns.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Ns.MAP,t)},e.prototype.setOffset=function(t){this.set(Ns.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Ns.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)}(i),function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)}(i)]),r=this.autoPanMargin;if(!K(e,n)){var o=n[0]-e[0],a=e[2]-n[2],s=n[1]-e[1],l=e[3]-n[3],u=[0,0];if(o<0?u[0]=o-r:a<0&&(u[0]=Math.abs(a)+r),s<0?u[1]=s-r:l<0&&(u[1]=Math.abs(l)+r),0!==u[0]||0!==u[1]){var h=t.getView().getCenter(),c=t.getPixelFromCoordinate(h),p=[c[0]+u[0],c[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(Ns.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=n[0],a=n[1];if(r==Ms.BOTTOM_RIGHT||r==Ms.CENTER_RIGHT||r==Ms.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var s=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=i.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),r!=Ms.BOTTOM_CENTER&&r!=Ms.CENTER_CENTER&&r!=Ms.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(t[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=i.left=l)}if(r==Ms.BOTTOM_LEFT||r==Ms.BOTTOM_CENTER||r==Ms.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var u=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=i.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),r!=Ms.CENTER_LEFT&&r!=Ms.CENTER_CENTER&&r!=Ms.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var h=Math.round(t[1]+a)+"px";this.rendered.top_!=h&&(this.rendered.top_=i.top=h)}},e.prototype.getOptions=function(){return this.options},e}(D);var Ds=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(function(t){return function(t,e,i){return t+"/"+e+"/"+i}(t[0],t[1],t[2])}(e.tileCoord)),e.dispose())},this)}},e}(Xe);var Fs=function(t){function e(i,n,r,o,a,s,l,u,h,c,p,d,f,g,_){if(t.call(this,i,n,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=c,this.tileKeys=[],this.extent=null,this.sourceRevision_=r,this.wrappedTileCoord=s,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],s){var v=this.extent=h.getTileCoordExtent(s),m=h.getResolution(_),x=u.getZForResolution(m),E=_!=i[0],C=0;if(u.forEachTileCoord(v,x,function(t){var e=lt(v,u.getTileCoordExtent(t)),i=u.getExtent();if(i&&(e=lt(e,i,e)),ct(e)/m>=.5&&st(e)/m>=.5){++C;var n=t.toString(),r=c[n];if(!r&&!E){var s=l(t,p,d);r=c[n]=new f(t,void 0==s?Dn.EMPTY:Dn.IDLE,void 0==s?"":s,o,a),this.sourceTileListenerKeys_.push(y(r,O.CHANGE,g))}!r||E&&r.getState()!=Dn.LOADED||(r.consumers++,this.tileKeys.push(n))}}.bind(this)),E&&C==this.tileKeys.length&&this.finishLoading_(),_<=i[0]&&this.state!=Dn.LOADED)for(;_>h.getMinZoom();){var b=new e(i,n,r,o,a,s,l,u,h,c,p,d,f,w,--_);if(b.state==Dn.LOADED){this.interimTile=b;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=Dn.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,i=this.tileKeys.length;e<i;++e){var n=this.tileKeys[e],r=this.getTile(n);r.consumers--,0==r.consumers&&(delete this.sourceTiles_[n],r.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(x),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(x),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=o(t).toString();return e in this.context_||(this.context_[e]=we()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=o(t).toString();return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==Dn.IDLE&&this.setState(Dn.LOADING),this.state==Dn.LOADING&&this.tileKeys.forEach(function(i){var n=this.getTile(i);if(n.state==Dn.IDLE&&(n.setLoader(this.loader_),n.load()),n.state==Dn.LOADING){var r=y(n,O.CHANGE,function(i){var r=n.getState();if(r==Dn.LOADED||r==Dn.ERROR){var a=o(n);r==Dn.ERROR?e[a]=!0:(--t,delete e[a]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(r),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,i=t-1;i>=0;--i){var n=this.getTile(this.tileKeys[i]).getState();n!=Dn.LOADED&&--t,n==Dn.EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(x),this.loadListenerKeys_.length=0,this.setState(Dn.LOADED)):this.setState(e==this.tileKeys.length?Dn.EMPTY:Dn.ERROR)},e}(Bn);var Gs=[0,0,4096,4096],Us=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,a),this.consumers=0,this.extent_=null,this.format_=r,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=Dn.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||Gs},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[o(t)+","+e]},e.prototype.load=function(){this.state==Dn.IDLE&&(this.setState(Dn.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,i){this.setProjection(e),this.setFeatures(t),this.setExtent(i)},e.prototype.onError=function(){this.setState(Dn.ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(Dn.LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,i){this.replayGroups_[o(t)+","+e]=i},e.prototype.setLoader=function(t){this.loader_=t},e}(Bn),js=9729,Bs=10242,Ws=10243,Vs=3553,zs=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Hs(t,e){for(var i=zs.length,n=0;n<i;++n)try{var r=t.getContext(zs[n],e);if(r)return r}catch(t){}return null}var Ks,Ys;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var Xs=Hs(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});Xs&&(!0,Ks=Xs.getParameter(Xs.MAX_TEXTURE_SIZE),Ys=Xs.getSupportedExtensions())}catch(t){}var qs=function(t){this.source_=t};qs.prototype.getType=function(){},qs.prototype.getSource=function(){return this.source_},qs.prototype.isAnimated=S;var Zs=qs,Js=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return 35632},e}(Zs),Qs=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return 35633},e}(Zs),$s=new Js("precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n"),tl=new Qs("varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n"),el=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,"u_projectionMatrix"),this.u_offsetScaleMatrix=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.u_offsetRotateMatrix=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.u_lineWidth=t.getUniformLocation(e,"u_lineWidth"),this.u_pixelRatio=t.getUniformLocation(e,"u_pixelRatio"),this.u_opacity=t.getUniformLocation(e,"u_opacity"),this.u_fillColor=t.getUniformLocation(e,"u_fillColor"),this.u_strokeColor=t.getUniformLocation(e,"u_strokeColor"),this.u_size=t.getUniformLocation(e,"u_size"),this.a_position=t.getAttribLocation(e,"a_position"),this.a_instruction=t.getAttribLocation(e,"a_instruction"),this.a_radius=t.getAttribLocation(e,"a_radius")};function il(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var nl=function(t){function e(e,i){t.call(this),this.tolerance=e,this.maxExtent=i,this.origin=ot(i),this.projectionMatrix_=[1,0,0,1,0,0],this.offsetRotateMatrix_=[1,0,0,1,0,0],this.offsetScaleMatrix_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){},e.prototype.finish=function(t){},e.prototype.setUpProgram=function(t,e,i,n){},e.prototype.shutDownProgram=function(t,e){},e.prototype.drawReplay=function(t,e,i,n){},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){},e.prototype.drawHitDetectionReplay=function(t,e,i,n,r,o){return r?this.drawHitDetectionReplayOneByOne(t,e,i,n,o):this.drawHitDetectionReplayAll(t,e,i,n)},e.prototype.drawHitDetectionReplayAll=function(t,e,i,n){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,i,!0);var r=n(null);return r||void 0},e.prototype.replay=function(t,e,i,n,r,o,a,s,l,u,h){var c,p,d,f,g,_,y,v,m=t.getGL();this.lineStringReplay&&(c=m.isEnabled(m.STENCIL_TEST),p=m.getParameter(m.STENCIL_FUNC),d=m.getParameter(m.STENCIL_VALUE_MASK),f=m.getParameter(m.STENCIL_REF),g=m.getParameter(m.STENCIL_WRITEMASK),_=m.getParameter(m.STENCIL_FAIL),y=m.getParameter(m.STENCIL_PASS_DEPTH_PASS),v=m.getParameter(m.STENCIL_PASS_DEPTH_FAIL),m.enable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilMask(255),m.stencilFunc(m.ALWAYS,1,255),m.stencilOp(m.KEEP,m.KEEP,m.REPLACE),this.lineStringReplay.replay(t,e,i,n,r,o,a,s,l,u,h),m.stencilMask(0),m.stencilFunc(m.NOTEQUAL,1,255)),t.bindBuffer(34962,this.verticesBuffer),t.bindBuffer(34963,this.indicesBuffer);var x=this.setUpProgram(m,t,r,o),E=oe(this.projectionMatrix_);ce(E,2/(i*r[0]),2/(i*r[1])),he(E,-n),pe(E,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var C=oe(this.offsetScaleMatrix_);ce(C,2/r[0],2/r[1]);var b,T=oe(this.offsetRotateMatrix_);return 0!==n&&he(T,-n),m.uniformMatrix4fv(x.u_projectionMatrix,!1,il(this.tmpMat4_,E)),m.uniformMatrix4fv(x.u_offsetScaleMatrix,!1,il(this.tmpMat4_,C)),m.uniformMatrix4fv(x.u_offsetRotateMatrix,!1,il(this.tmpMat4_,T)),m.uniform1f(x.u_opacity,a),void 0===l?this.drawReplay(m,t,s,!1):b=this.drawHitDetectionReplay(m,t,s,l,u,h),this.shutDownProgram(m,x),this.lineStringReplay&&(c||m.disable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilFunc(p,f,d),m.stencilMask(g),m.stencilOp(_,v,y)),b},e.prototype.drawElements=function(t,e,i,n){var r=e.hasOESElementIndexUint?5125:5123,o=n-i,a=i*(e.hasOESElementIndexUint?4:2);t.drawElements(4,o,r,a)},e}(Sa),rl=[0,0,0,1],ol=[],al=[0,0,0,1],sl=Number.EPSILON||2.220446049250313e-16,ll=function(t,e,i,n,r,o){var a=(i-t)*(o-e)-(r-t)*(n-e);return a<=sl&&a>=-sl?void 0:a>0},ul=35044,hl=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:ul};hl.prototype.getArray=function(){return this.arr_},hl.prototype.getUsage=function(){return this.usage_};var cl=hl,pl=function(t){function e(e,i){t.call(this,e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){var r,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(r=e,o=i;r<o;r+=n)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},e.prototype.drawCircle=function(t,e){var i=t.getRadius(),n=t.getStride();if(i){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=i;var r=t.getFlatCoordinates();r=_t(r,0,2,n,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,n)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},e.prototype.finish=function(t){this.verticesBuffer=new cl(this.vertices),this.indicesBuffer=new cl(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.setUpProgram=function(t,e,i,n){var r,o=e.getProgram($s,tl);return this.defaultLocations_?r=this.defaultLocations_:(r=new el(t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,5126,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,5126,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,5126,!1,16,12),t.uniform2fv(r.u_size,i),t.uniform1f(r.u_pixelRatio,n),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},e.prototype.drawReplay=function(t,e,i,n){var r,o,a,s;if(p(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,i)},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){var a,s,l,u,h,c,p;for(p=this.startIndices.length-2,l=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(u=this.styles_[a],this.setFillStyle_(t,u[0]),this.setStrokeStyle_(t,u[1],u[2]),h=this.styleIndices_[a];p>=0&&this.startIndices[p]>=h;){if(s=this.startIndices[p],void 0===i[o(c=this.startIndicesFeature[p]).toString()]&&c.getGeometry()&&(void 0===r||pt(r,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var d=n(c);if(d)return d}p--,l=s}},e.prototype.drawReplaySkipping_=function(t,e,i){var n,r,a,s,l,u,h;for(u=this.startIndices.length-2,a=r=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),l=this.styleIndices_[n];u>=0&&this.startIndices[u]>=l;)h=this.startIndices[u],i[o(this.startIndicesFeature[u]).toString()]&&(r!==a&&this.drawElements(t,e,r,a),a=h),u--,r=h;r!==a&&this.drawElements(t,e,r,a),r=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},e.prototype.setStrokeStyle_=function(t,e,i){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i)},e.prototype.setFillStrokeStyle=function(t,e){var i,n;if(e){var r=e.getLineDash();this.state_.lineDash=r||ol;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||0,i=(i=e.getColor())instanceof CanvasGradient||i instanceof CanvasPattern?al:Ce(i).map(function(t,e){return 3!=e?t/255:t})||al,n=void 0!==(n=e.getWidth())?n:1}else i=[0,0,0,0],n=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?rl:Ce(a).map(function(t,e){return 3!=e?t/255:t})||rl,this.state_.strokeColor&&Si(this.state_.strokeColor,i)&&this.state_.fillColor&&Si(this.state_.fillColor,a)&&this.state_.lineWidth===n||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=i,this.state_.lineWidth=n,this.styles_.push([a,i,n]))},e}(nl),dl=new Js("precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"),fl=new Qs("varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n"),gl=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,"u_projectionMatrix"),this.u_offsetScaleMatrix=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.u_offsetRotateMatrix=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.u_opacity=t.getUniformLocation(e,"u_opacity"),this.u_image=t.getUniformLocation(e,"u_image"),this.a_position=t.getAttribLocation(e,"a_position"),this.a_texCoord=t.getAttribLocation(e,"a_texCoord"),this.a_offsets=t.getAttribLocation(e,"a_offsets"),this.a_opacity=t.getAttribLocation(e,"a_opacity"),this.a_rotateWithView=t.getAttribLocation(e,"a_rotateWithView")},_l={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};function yl(t,e,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(Vs,Bs,e),void 0!==i&&t.texParameteri(Vs,Ws,i),n}function vl(t,e,i,n,r){var o=yl(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function ml(t,e,i,n){var r=yl(t,i,n);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),r}var xl=function(t){function e(e,i){t.call(this),this.canvas_=e,this.gl_=i,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Ei(Ys,"OES_element_index_uint"),this.hasOESElementIndexUint&&i.getExtension("OES_element_index_uint"),y(this.canvas_,_l.LOST,this.handleWebGLContextLost,this),y(this.canvas_,_l.RESTORED,this.handleWebGLContextRestored,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindBuffer=function(t,e){var i=this.getGL(),n=e.getArray(),r=String(o(e));if(r in this.bufferCache_){var a=this.bufferCache_[r];i.bindBuffer(t,a.buffer)}else{var s,l=i.createBuffer();i.bindBuffer(t,l),34962==t?s=new Float32Array(n):34963==t&&(s=this.hasOESElementIndexUint?new Uint32Array(n):new Uint16Array(n)),i.bufferData(t,s,e.getUsage()),this.bufferCache_[r]={buf:e,buffer:l}}},e.prototype.deleteBuffer=function(t){var e=this.getGL(),i=String(o(t)),n=this.bufferCache_[i];e.isContextLost()||e.deleteBuffer(n.buffer),delete this.bufferCache_[i]},e.prototype.disposeInternal=function(){E(this.canvas_);var t=this.getGL();if(!t.isContextLost()){for(var e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(var i in this.programCache_)t.deleteProgram(this.programCache_[i]);for(var n in this.shaderCache_)t.deleteShader(this.shaderCache_[n]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},e.prototype.getShader=function(t){var e=String(o(t));if(e in this.shaderCache_)return this.shaderCache_[e];var i=this.getGL(),n=i.createShader(t.getType());return i.shaderSource(n,t.getSource()),i.compileShader(n),this.shaderCache_[e]=n,n},e.prototype.getProgram=function(t,e){var i=o(t)+"/"+o(e);if(i in this.programCache_)return this.programCache_[i];var n=this.getGL(),r=n.createProgram();return n.attachShader(r,this.getShader(t)),n.attachShader(r,this.getShader(e)),n.linkProgram(r),this.programCache_[i]=r,r},e.prototype.handleWebGLContextLost=function(){c(this.bufferCache_),c(this.shaderCache_),c(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var i=vl(t,1,1),n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=i,this.hitDetectionRenderbuffer_=n},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},e}(b),El=function(t){function e(e,i){t.call(this,e,i),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,n=this.getTextures(!0),r=t.getGL();return function(){var o,a;if(!r.isContextLost())for(o=0,a=n.length;o<a;++o)r.deleteTexture(n[o]);t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.drawCoordinates=function(t,e,i,n){var r,o,a,s,l,u,h=this.anchorX,c=this.anchorY,p=this.height,d=this.imageHeight,f=this.imageWidth,g=this.opacity,_=this.originX,y=this.originY,v=this.rotateWithView?1:0,m=-this.rotation,x=this.scale,E=this.width,C=Math.cos(m),b=Math.sin(m),T=this.indices.length,S=this.vertices.length;for(r=e;r<i;r+=n)l=t[r]-this.origin[0],u=t[r+1]-this.origin[1],o=S/8,a=-x*h,s=-x*(p-c),this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=a*C-s*b,this.vertices[S++]=a*b+s*C,this.vertices[S++]=_/f,this.vertices[S++]=(y+p)/d,this.vertices[S++]=g,this.vertices[S++]=v,a=x*(E-h),s=-x*(p-c),this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=a*C-s*b,this.vertices[S++]=a*b+s*C,this.vertices[S++]=(_+E)/f,this.vertices[S++]=(y+p)/d,this.vertices[S++]=g,this.vertices[S++]=v,a=x*(E-h),s=x*c,this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=a*C-s*b,this.vertices[S++]=a*b+s*C,this.vertices[S++]=(_+E)/f,this.vertices[S++]=y/d,this.vertices[S++]=g,this.vertices[S++]=v,a=-x*h,s=x*c,this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=a*C-s*b,this.vertices[S++]=a*b+s*C,this.vertices[S++]=_/f,this.vertices[S++]=y/d,this.vertices[S++]=g,this.vertices[S++]=v,this.indices[T++]=o,this.indices[T++]=o+1,this.indices[T++]=o+2,this.indices[T++]=o,this.indices[T++]=o+2,this.indices[T++]=o+3;return S},e.prototype.createTextures=function(t,e,i,n){var r,a,s,l,u=e.length;for(l=0;l<u;++l)(s=o(a=e[l]).toString())in i?r=i[s]:(r=ml(n,a,33071,33071),i[s]=r),t[l]=r},e.prototype.setUpProgram=function(t,e,i,n){var r,o=e.getProgram(dl,fl);return this.defaultLocations?r=this.defaultLocations:(r=new gl(t,o),this.defaultLocations=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,5126,!1,32,0),t.enableVertexAttribArray(r.a_offsets),t.vertexAttribPointer(r.a_offsets,2,5126,!1,32,8),t.enableVertexAttribArray(r.a_texCoord),t.vertexAttribPointer(r.a_texCoord,2,5126,!1,32,16),t.enableVertexAttribArray(r.a_opacity),t.vertexAttribPointer(r.a_opacity,1,5126,!1,32,24),t.enableVertexAttribArray(r.a_rotateWithView),t.vertexAttribPointer(r.a_rotateWithView,1,5126,!1,32,28),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},e.prototype.drawReplay=function(t,e,i,n){var r,o,a,s=n?this.getHitDetectionTextures():this.getTextures(),l=n?this.hitDetectionGroupIndices:this.groupIndices;if(p(i))for(r=0,o=s.length,a=0;r<o;++r){t.bindTexture(Vs,s[r]);var u=l[r];this.drawElements(t,e,a,u),a=u}else this.drawReplaySkipping(t,e,i,s,l)},e.prototype.drawReplaySkipping=function(t,e,i,n,r){var a,s,l=0;for(a=0,s=n.length;a<s;++a){t.bindTexture(Vs,n[a]);for(var u=a>0?r[a-1]:0,h=r[a],c=u,p=u;l<this.startIndices.length&&this.startIndices[l]<=h;){void 0!==i[o(this.startIndicesFeature[l]).toString()]?(c!==p&&this.drawElements(t,e,c,p),p=c=l===this.startIndices.length-1?h:this.startIndices[l+1]):p=l===this.startIndices.length-1?h:this.startIndices[l+1],l++}c!==p&&this.drawElements(t,e,c,p)}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){var a,s,l,u,h,c=this.startIndices.length-1,p=this.getHitDetectionTextures();for(a=p.length-1;a>=0;--a)for(t.bindTexture(Vs,p[a]),s=a>0?this.hitDetectionGroupIndices[a-1]:0,u=this.hitDetectionGroupIndices[a];c>=0&&this.startIndices[c]>=s;){if(l=this.startIndices[c],void 0===i[o(h=this.startIndicesFeature[c]).toString()]&&h.getGeometry()&&(void 0===r||pt(r,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var d=n(h);if(d)return d}u=l,c--}},e.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},e.prototype.getTextures=function(t){},e.prototype.getHitDetectionTextures=function(){},e}(nl),Cl=function(t){function e(e,i){t.call(this,e,i),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),n=t.getStride();this.drawCoordinates(i,0,i.length,n)},e.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),n=t.getStride();this.drawCoordinates(i,0,i.length,n)},e.prototype.finish=function(e){var i=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new cl(this.vertices);var n=this.indices;this.indicesBuffer=new cl(n);var r={};this.createTextures(this.textures_,this.images_,r,i),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,i),this.images_=null,this.hitDetectionImages_=null,t.prototype.finish.call(this,e)},e.prototype.setImageStyle=function(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getImageSize(),r=t.getHitDetectionImage(1),a=t.getOpacity(),s=t.getOrigin(),l=t.getRotateWithView(),u=t.getRotation(),h=t.getSize(),c=t.getScale();0===this.images_.length?this.images_.push(i):o(this.images_[this.images_.length-1])!=o(i)&&(this.groupIndices.push(this.indices.length),this.images_.push(i)),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(r):o(this.hitDetectionImages_[this.hitDetectionImages_.length-1])!=o(r)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(r)),this.anchorX=e[0],this.anchorY=e[1],this.height=h[1],this.imageHeight=n[1],this.imageWidth=n[0],this.opacity=a,this.originX=s[0],this.originY=s[1],this.rotation=u,this.rotateWithView=l,this.scale=c,this.width=h[0]},e.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},e.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},e}(El);function bl(t,e,i,n){var r=i-n;return t[e]===t[r]&&t[e+1]===t[r+1]&&(i-e)/n>3&&!!Oi(t,e,i,n)}var Tl=new Js("precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"),Sl=new Qs("varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n"),wl=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,"u_projectionMatrix"),this.u_offsetScaleMatrix=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.u_offsetRotateMatrix=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.u_lineWidth=t.getUniformLocation(e,"u_lineWidth"),this.u_miterLimit=t.getUniformLocation(e,"u_miterLimit"),this.u_opacity=t.getUniformLocation(e,"u_opacity"),this.u_color=t.getUniformLocation(e,"u_color"),this.u_size=t.getUniformLocation(e,"u_size"),this.u_pixelRatio=t.getUniformLocation(e,"u_pixelRatio"),this.a_lastPos=t.getAttribLocation(e,"a_lastPos"),this.a_position=t.getAttribLocation(e,"a_position"),this.a_nextPos=t.getAttribLocation(e,"a_nextPos"),this.a_direction=t.getAttribLocation(e,"a_direction")},Rl=3,Il=5,Ll=7,Pl=11,Ol=13,kl=17,Ml=19,Nl=23,Al=function(t){function e(e,i){t.call(this,e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){var r,o,a,s,l,u,h,c,p=this.vertices.length,d=this.indices.length,f="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,g="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,_=bl(t,e,i,n),y=d,v=1;for(r=e,o=i;r<o;r+=n){if(l=p/7,u=h,h=c||[t[r],t[r+1]],r===e){if(c=[t[r+n],t[r+n+1]],i-e==2*n&&Si(h,c))break;if(!_){g&&(p=this.addVertices_([0,0],h,c,v*Ll*g,p),p=this.addVertices_([0,0],h,c,-v*Ll*g,p),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2),p=this.addVertices_([0,0],h,c,v*Rl*(g||1),p),y=(p=this.addVertices_([0,0],h,c,-v*Rl*(g||1),p))/7-1;continue}u=[t[i-2*n],t[i-2*n+1]],a=c}else{if(r===i-n){if(_){c=a;break}u=u||[0,0],p=this.addVertices_(u,h,[0,0],v*Il*(g||1),p),p=this.addVertices_(u,h,[0,0],-v*Il*(g||1),p),this.indices[d++]=l,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=y,this.indices[d++]=l+1,this.indices[d++]=l,g&&(p=this.addVertices_(u,h,[0,0],v*Pl*g,p),p=this.addVertices_(u,h,[0,0],-v*Pl*g,p),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2);break}c=[t[r+n],t[r+n+1]]}s=ll(u[0],u[1],h[0],h[1],c[0],c[1])?-1:1,p=this.addVertices_(u,h,c,s*Ol*(f||1),p),p=this.addVertices_(u,h,c,s*kl*(f||1),p),p=this.addVertices_(u,h,c,-s*Ml*(f||1),p),r>e&&(this.indices[d++]=l,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=v*s>0?y:y-1),this.indices[d++]=l,this.indices[d++]=l+2,this.indices[d++]=l+1,y=l+2,v=s,f&&(p=this.addVertices_(u,h,c,s*Nl*f,p),this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l)}_&&(l=l||p/7,s=rn([u[0],u[1],h[0],h[1],c[0],c[1]],0,6,2)?1:-1,p=this.addVertices_(u,h,c,s*Ol*(f||1),p),p=this.addVertices_(u,h,c,-s*Ml*(f||1),p),this.indices[d++]=l,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=l+1,this.indices[d++]=l,this.indices[d++]=v*s>0?y:y-1)},e.prototype.addVertices_=function(t,e,i,n,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=i[0],this.vertices[r++]=i[1],this.vertices[r++]=n,r},e.prototype.isValid_=function(t,e,i,n){var r=i-e;return!(r<2*n)&&(r!==2*n||!Si([t[e],t[e+1]],[t[e+n],t[e+n+1]]))},e.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),n=t.getStride();this.isValid_(i,0,i.length,n)&&(i=_t(i,0,i.length,n,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,n))},e.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,n=t.getEnds();n.unshift(0);var r,o,a=t.getFlatCoordinates(),s=t.getStride();if(n.length>1)for(r=1,o=n.length;r<o;++r)if(this.isValid_(a,n[r-1],n[r],s)){var l=_t(a,n[r-1],n[r],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},e.prototype.drawPolygonCoordinates=function(t,e,i){var n,r;if(bl(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length)for(n=0,r=e.length;n<r;++n)bl(e[n],0,e[n].length,i)||(e[n].push(e[n][0]),e[n].push(e[n][1])),this.drawCoordinates_(e[n],0,e[n].length,i)},e.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},e.prototype.getCurrentIndex=function(){return this.indices.length},e.prototype.finish=function(t){this.verticesBuffer=new cl(this.vertices),this.indicesBuffer=new cl(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.setUpProgram=function(t,e,i,n){var r,o=e.getProgram(Tl,Sl);return this.defaultLocations_?r=this.defaultLocations_:(r=new wl(t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,5126,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,5126,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,5126,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,5126,!1,28,24),t.uniform2fv(r.u_size,i),t.uniform1f(r.u_pixelRatio,n),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},e.prototype.drawReplay=function(t,e,i,n){var r,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),p(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,i);n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},e.prototype.drawReplaySkipping_=function(t,e,i){var n,r,a,s,l,u,h;for(u=this.startIndices.length-2,a=r=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setStrokeStyle_(t,s[0],s[1],s[2]),l=this.styleIndices_[n];u>=0&&this.startIndices[u]>=l;)h=this.startIndices[u],i[o(this.startIndicesFeature[u]).toString()]&&(r!==a&&(this.drawElements(t,e,r,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),u--,r=h;r!==a&&(this.drawElements(t,e,r,a),t.clear(t.DEPTH_BUFFER_BIT)),r=a=l}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){var a,s,l,u,h,c,p;for(p=this.startIndices.length-2,l=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(u=this.styles_[a],this.setStrokeStyle_(t,u[0],u[1],u[2]),h=this.styleIndices_[a];p>=0&&this.startIndices[p]>=h;){if(s=this.startIndices[p],void 0===i[o(c=this.startIndicesFeature[p]).toString()]&&c.getGeometry()&&(void 0===r||pt(r,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var d=n(c);if(d)return d}p--,l=s}},e.prototype.setStrokeStyle_=function(t,e,i,n){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,n)},e.prototype.setFillStrokeStyle=function(t,e){var i=e.getLineCap();this.state_.lineCap=void 0!==i?i:"round";var n=e.getLineDash();this.state_.lineDash=n||ol;var r=e.getLineDashOffset();this.state_.lineDashOffset=r||0;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:"round";var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?al:Ce(a).map(function(t,e){return 3!=e?t/255:t})||al;var s=e.getWidth();s=void 0!==s?s:1;var l=e.getMiterLimit();l=void 0!==l?l:10,this.state_.strokeColor&&Si(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=l,this.styles_.push([a,s,l]))},e}(nl),Dl=new Js("precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"),Fl=new Qs("\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n"),Gl=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,"u_projectionMatrix"),this.u_offsetScaleMatrix=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.u_offsetRotateMatrix=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.u_color=t.getUniformLocation(e,"u_color"),this.u_opacity=t.getUniformLocation(e,"u_opacity"),this.a_position=t.getAttribLocation(e,"a_position")},Ul=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};Ul.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var n=i.next;e.prev=i,e.next=n,i.next=e,n&&(n.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Ul.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},Ul.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},Ul.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},Ul.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Ul.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Ul.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Ul.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Ul.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Ul.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Ul.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Ul.prototype.getLength=function(){return this.length_};var jl=Ul,Bl=function(t){this.rbush_=Ya()(t,void 0),this.items_={}};Bl.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[o(e)]=i},Bl.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,r=e.length;n<r;n++){var a=t[n],s=e[n],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};i[n]=l,this.items_[o(s)]=l}this.rbush_.load(i)},Bl.prototype.remove=function(t){var e=o(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},Bl.prototype.update=function(t,e){var i=this.items_[o(e)];Q([i.minX,i.minY,i.maxX,i.maxY],t)||(this.remove(e),this.insert(t,e))},Bl.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},Bl.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},Bl.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},Bl.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},Bl.prototype.forEach_=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++)if(n=e.call(i,t[r]))return n;return n},Bl.prototype.isEmpty=function(){return p(this.items_)},Bl.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Bl.prototype.getExtent=function(t){var e=this.rbush_.data;return q(e.minX,e.minY,e.maxX,e.maxY,t)},Bl.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]};var Wl=Bl,Vl=function(t){function e(e,i){t.call(this,e,i),this.lineStringReplay=new Al(e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i){var n=new jl,r=new Wl;this.processFlatCoordinates_(t,i,n,r,!0);var o=this.getMaxCoords_(n);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new jl,maxCoords:void 0,rtree:new Wl};l.push(u),this.processFlatCoordinates_(e[a],i,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<l.length;++a){var h=l[a].list,c=h.firstItem(),p=c,d=void 0;do{if(this.getIntersections_(p,r).length){d=!0;break}p=h.nextItem()}while(c!==p);d||this.bridgeHole_(h,l[a].maxCoords[0],n,o[0],r)&&(r.concat(l[a].rtree),this.classifyPoints_(n,r,!1))}}else this.classifyPoints_(n,r,!1);this.triangulate_(n,r)},e.prototype.processFlatCoordinates_=function(t,e,i,n,r){var o,a,s,l,u,h=rn(t,0,t.length,e),c=this.vertices.length/2,p=[],d=[];if(r===h){for(l=s=this.createPoint_(t[0],t[1],c++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],c++),d.push(this.insertItem_(l,u,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var f=t.length-e;for(l=s=this.createPoint_(t[f],t[f+1],c++),o=f-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],c++),d.push(this.insertItem_(l,u,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}n.load(p,d)},e.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,n=[i.p0.x,i.p0.y];do{(i=t.nextItem()).p0.x>n[0]&&(n=[i.p0.x,i.p0.y])}while(i!==e);return n},e.prototype.classifyPoints_=function(t,e,i){var n=t.firstItem(),r=n,o=t.nextItem(),a=!1;do{var s=i?ll(o.p1.x,o.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):ll(r.p0.x,r.p0.y,r.p1.x,r.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(r,o,t,e),a=!0,o===n&&(n=t.getNextItem()),o=r,t.prevItem()):r.p1.reflex!==s&&(r.p1.reflex=s,a=!0),r=o,o=t.nextItem()}while(r!==n);return a},e.prototype.bridgeHole_=function(t,e,i,n,r){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,h=o.p1,c={x:n,y:h.y,i:-1},p=1/0,d=this.getIntersections_({p0:h,p1:c},r,!0);for(a=0,s=d.length;a<s;++a){var f=d[a],g=this.calculateIntersection_(h,c,f.p0,f.p1,!0),_=Math.abs(h.x-g[0]);_<p&&void 0!==ll(h.x,h.y,f.p0.x,f.p0.y,f.p1.x,f.p1.y)&&(p=_,u={x:g[0],y:g[1],i:-1},o=f)}if(p===1/0)return!1;if(l=o.p1,p>0){var y=this.getPointsInTriangle_(h,u,o.p1,r);if(y.length){var v=1/0;for(a=0,s=y.length;a<s;++a){var m=y[a],x=Math.atan2(h.y-m.y,c.x-m.x);(x<v||x===v&&m.x<l.x)&&(v=x,l=m)}}}for(o=i.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=i.nextItem();var E={x:h.x,y:h.y,i:h.i,reflex:void 0},C={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=E,this.insertItem_(h,o.p1,t,r),this.insertItem_(C,E,t,r),o.p1=C,t.setFirstItem(),i.concat(t),!0},e.prototype.triangulate_=function(t,e){for(var i=!1,n=this.isSimple_(t,e);t.getLength()>3;)if(n){if(!this.clipEars_(t,e,n,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,n,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(!(n=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},e.prototype.clipEars_=function(t,e,i,n){var r,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),h=l,c=t.nextItem(),p=t.getNextItem(),d=!1;do{if(r=h.p0,o=h.p1,a=c.p1,!1===o.reflex){var f=void 0;f=i?0===this.getPointsInTriangle_(r,o,a,e,!0).length:n?this.diagonalIsInside_(p.p1,a,o,r,u.p0):this.diagonalIsInside_(u.p0,r,o,a,p.p1),(i||0===this.getIntersections_({p0:r,p1:a},e).length)&&f&&(i||!1===r.reflex||!1===a.reflex||rn([u.p0.x,u.p0.y,r.x,r.y,o.x,o.y,a.x,a.y,p.p1.x,p.p1.y],0,10,2)===!n)&&(this.indices[s++]=r.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(h,c,t,e),c===l&&(l=p),d=!0)}u=t.getPrevItem(),h=t.getCurrItem(),c=t.nextItem(),p=t.getNextItem()}while(h!==l&&t.getLength()>3);return d},e.prototype.resolveSelfIntersections_=function(t,e,i){var n=t.firstItem();t.nextItem();var r=n,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1,i);if(s){var l=!1,u=this.vertices.length,h=this.indices.length,c=u/2,p=t.prevItem();t.removeItem(),e.remove(p),l=p===n;var d=void 0;if(i?(s[0]===r.p0.x&&s[1]===r.p0.y?(t.prevItem(),d=r.p0,o.p0=d,e.remove(r),l=l||r===n):(d=o.p1,r.p1=d,e.remove(o),l=l||o===n),t.removeItem()):(d=this.createPoint_(s[0],s[1],c),r.p1=d,o.p0=d,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[h++]=p.p0.i,this.indices[h++]=p.p1.i,this.indices[h++]=d.i,a=!0,l)break}r=t.getPrevItem(),o=t.nextItem()}while(r!==n);return a},e.prototype.isSimple_=function(t,e){var i=t.firstItem(),n=i;do{if(this.getIntersections_(n,e).length)return!1;n=t.nextItem()}while(n!==i);return!0},e.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=new Array(e),n=t.firstItem(),r=n,o=0;do{i[o++]=r.p0.x,i[o++]=r.p0.y,r=t.nextItem()}while(r!==n);return rn(i,0,e,2)},e.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),n=i;do{var r=this.getIntersections_(n,e);if(r.length){var o=r[0],a=this.vertices.length/2,s=this.calculateIntersection_(n.p0,n.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new jl,h=new Wl;this.insertItem_(l,n.p1,u,h),n.p1=l,e.update([Math.min(n.p0.x,l.x),Math.min(n.p0.y,l.y),Math.max(n.p0.x,l.x),Math.max(n.p0.y,l.y)],n);for(var c=t.nextItem();c!==o;)this.insertItem_(c.p0,c.p1,u,h),e.remove(c),t.removeItem(),c=t.getCurrItem();this.insertItem_(o.p0,l,u,h),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,h,!1),this.triangulate_(u,h);break}n=t.nextItem()}while(n!==i)},e.prototype.createPoint_=function(t,e,i){var n=this.vertices.length;return this.vertices[n++]=t,this.vertices[n++]=e,{x:t,y:e,i:i,reflex:void 0}},e.prototype.insertItem_=function(t,e,i,n){var r={p0:t,p1:e};return i.insertItem(r),n&&n.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},e.prototype.removeItem_=function(t,e,i,n){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,n.remove(e),n.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},e.prototype.getPointsInTriangle_=function(t,e,i,n,r){for(var o=[],a=n.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]),s=0,l=a.length;s<l;++s)for(var u in a[s]){var h=a[s][u];"object"!=typeof h||r&&!h.reflex||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===i.x&&h.y===i.y||-1!==o.indexOf(h)||!Zi([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,h.x,h.y)||o.push(h)}return o},e.prototype.getIntersections_=function(t,e,i){for(var n=t.p0,r=t.p1,o=e.getInExtent([Math.min(n.x,r.x),Math.min(n.y,r.y),Math.max(n.x,r.x),Math.max(n.y,r.y)]),a=[],s=0,l=o.length;s<l;++s){var u=o[s];t!==u&&(i||u.p0!==r||u.p1!==n)&&this.calculateIntersection_(n,r,u.p0,u.p1,i)&&a.push(u)}return a},e.prototype.calculateIntersection_=function(t,e,i,n,r){var o=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==o){var a=((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x))/o,s=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/o;if(!r&&a>sl&&a<1-sl&&s>sl&&s<1-sl||r&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},e.prototype.diagonalIsInside_=function(t,e,i,n,r){if(void 0===e.reflex||void 0===n.reflex)return!1;var o=(i.x-n.x)*(e.y-n.y)>(i.y-n.y)*(e.x-n.x),a=(r.x-n.x)*(e.y-n.y)<(r.y-n.y)*(e.x-n.x),s=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),l=(i.x-e.x)*(n.y-e.y)<(i.y-e.y)*(n.x-e.x),u=n.reflex?a||o:a&&o,h=e.reflex?l||s:l&&s;return u&&h},e.prototype.drawMultiPolygon=function(t,e){var i,n,r,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),h=t.getFlatCoordinates(),c=0;for(i=0,n=a.length;i<n;++i){var p=a[i];if(p.length>0){var d=_t(h,c,p[0],s,-this.origin[0],-this.origin[1]);if(d.length){var f=[],g=void 0;for(r=1,o=p.length;r<o;++r)p[r]!==p[r-1]&&(g=_t(h,p[r-1],p[r],s,-this.origin[0],-this.origin[1]),f.push(g));this.lineStringReplay.drawPolygonCoordinates(d,f,s),this.drawCoordinates_(d,f,s)}}c=p[p.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},e.prototype.drawPolygon=function(t,e){var i=t.getEnds(),n=t.getStride();if(i.length>0){var r=t.getFlatCoordinates().map(Number),o=_t(r,0,i[0],n,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=i.length;a<s;++a)i[a]!==i[a-1]&&(l=_t(r,i[a-1],i[a],n,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,n),this.drawCoordinates_(o,u,n)}}},e.prototype.finish=function(t){this.verticesBuffer=new cl(this.vertices),this.indicesBuffer=new cl(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,n=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),n()}},e.prototype.setUpProgram=function(t,e,i,n){var r,o=e.getProgram(Dl,Fl);return this.defaultLocations_?r=this.defaultLocations_:(r=new Gl(t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,5126,!1,8,0),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},e.prototype.drawReplay=function(t,e,i,n){var r,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),p(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,i);n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){var a,s,l,u,h,c,p;for(p=this.startIndices.length-2,l=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(u=this.styles_[a],this.setFillStyle_(t,u),h=this.styleIndices_[a];p>=0&&this.startIndices[p]>=h;){if(s=this.startIndices[p],void 0===i[o(c=this.startIndicesFeature[p]).toString()]&&c.getGeometry()&&(void 0===r||pt(r,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var d=n(c);if(d)return d}p--,l=s}},e.prototype.drawReplaySkipping_=function(t,e,i){var n,r,a,s,l,u,h;for(u=this.startIndices.length-2,a=r=this.startIndices[u+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setFillStyle_(t,s),l=this.styleIndices_[n];u>=0&&this.startIndices[u]>=l;)h=this.startIndices[u],i[o(this.startIndicesFeature[u]).toString()]&&(r!==a&&(this.drawElements(t,e,r,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),u--,r=h;r!==a&&(this.drawElements(t,e,r,a),t.clear(t.DEPTH_BUFFER_BIT)),r=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},e.prototype.setFillStrokeStyle=function(t,e){var i=t?t.getColor():[0,0,0,0];if(i=i instanceof CanvasGradient||i instanceof CanvasPattern?rl:Ce(i).map(function(t,e){return 3!=e?t/255:t})||rl,this.state_.fillColor&&Si(i,this.state_.fillColor)||(this.state_.fillColor=i,this.state_.changed=!0,this.styles_.push(i)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var n=new fi({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,n)}},e}(nl),zl=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=we(t,t),this.canvas_=this.context_.canvas};zl.prototype.get=function(t){return this.entries_[t]||null},zl.prototype.add=function(t,e,i,n,r){for(var o=0,a=this.emptyBlocks_.length;o<a;++o){var s=this.emptyBlocks_[o];if(s.width>=e+this.space_&&s.height>=i+this.space_){var l={offsetX:s.x+this.space_,offsetY:s.y+this.space_,image:this.canvas_};return this.entries_[t]=l,n.call(r,this.context_,s.x+this.space_,s.y+this.space_),this.split_(o,s,e+this.space_,i+this.space_),l}}return null},zl.prototype.split_=function(t,e,i,n){var r,o;e.width-i>e.height-n?(r={x:e.x+i,y:e.y,width:e.width-i,height:e.height},o={x:e.x,y:e.y+n,width:i,height:e.height-n},this.updateBlocks_(t,r,o)):(r={x:e.x+i,y:e.y,width:e.width-i,height:n},o={x:e.x,y:e.y+n,width:e.width,height:e.height-n},this.updateBlocks_(t,r,o))},zl.prototype.updateBlocks_=function(t,e,i){var n=[t,1];e.width>0&&e.height>0&&n.push(e),i.width>0&&i.height>0&&n.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,n)};var Hl=zl,Kl=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:256,this.maxSize_=void 0!==e.maxSize?e.maxSize:void 0!==Ks?Ks:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new Hl(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new Hl(this.currentHitSize_,this.space_)]};Kl.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var i=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,i)},Kl.prototype.getInfo_=function(t,e){for(var i=0,n=t.length;i<n;++i){var r=t[i].get(e);if(r)return r}return null},Kl.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},Kl.prototype.add=function(t,e,i,n,r,o){if(e+this.space_>this.maxSize_||i+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,i,n,o);if(!a)return null;var s=void 0!==r?r:w,l=this.add_(!0,t,e,i,s,o);return this.mergeInfos_(a,l)},Kl.prototype.add_=function(t,e,i,n,r,o){var a,s,l,u,h=t?this.hitAtlases_:this.atlases_;for(l=0,u=h.length;l<u;++l){if(s=(a=h[l]).add(e,i,n,r,o))return s;if(!s&&l===u-1){var c=void 0;t?(c=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=c):(c=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=c),a=new Hl(c,this.space_),h.push(a),++u}}return null};var Yl=Kl,Xl=function(t){function e(e,i){t.call(this,e,i),this.images_=[],this.textures_=[],this.measureCanvas_=we(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){if(this.text_){var i=null,n=2,r=2;switch(t.getType()){case St.POINT:case St.MULTI_POINT:n=(i=t.getFlatCoordinates()).length,r=t.getStride();break;case St.CIRCLE:i=t.getCenter();break;case St.LINE_STRING:i=t.getFlatMidpoint();break;case St.MULTI_LINE_STRING:n=(i=t.getFlatMidpoints()).length;break;case St.POLYGON:i=t.getFlatInteriorPoint();break;case St.MULTI_POLYGON:n=(i=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var a,s,l,u,h,c,p,d,f=this.currAtlas_,g=this.text_.split("\n"),_=this.getTextSize_(g),y=Math.round(_[0]*this.textAlign_-this.offsetX_),v=Math.round(_[1]*this.textBaseline_-this.offsetY_),m=this.state_.lineWidth/2*this.state_.scale;for(a=0,s=g.length;a<s;++a)for(h=0,c=f.height*a,l=0,u=(p=g[a].split("")).length;l<u;++l){if(d=f.atlas.getInfo(p[l])){var x=d.image;if(this.anchorX=y-h,this.anchorY=v-c,this.originX=0===l?d.offsetX-m:d.offsetX,this.originY=d.offsetY,this.height=f.height,this.width=0===l||l===p.length-1?f.width[p[l]]+m:f.width[p[l]],this.imageHeight=x.height,this.imageWidth=x.width,0===this.images_.length)this.images_.push(x);else o(this.images_[this.images_.length-1])!=o(x)&&(this.groupIndices.push(this.indices.length),this.images_.push(x));this.drawText_(i,0,n,r)}h+=this.width}}},e.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,n=t.length*i.height;return[t.map(function(t){for(var n=0,r=0,o=t.length;r<o;++r){var a=t[r];i.width[a]||e.addCharToAtlas_(a),n+=i.width[a]?i.width[a]:0}return n}).reduce(function(t,e){return Math.max(t,e)}),n]},e.prototype.drawText_=function(t,e,i,n){for(var r=e,o=i;r<o;r+=n)this.drawCoordinates(t,e,i,n)},e.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,n=this.measureCanvas_.getContext("2d");n.font=i.font;var r=Math.ceil(n.measureText(t).width*i.scale);e.atlas.add(t,r,e.height,function(e,n,r){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",De&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,n,r),i.fillColor&&e.fillText(t,n,r)})&&(e.width[t]=r)}},e.prototype.finish=function(e){var i=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new cl(this.vertices),this.indicesBuffer=new cl(this.indices);this.createTextures(this.textures_,this.images_,{},i),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,t.prototype.finish.call(this,e)},e.prototype.setTextStyle=function(t){var e=this.state_,i=t.getFill(),n=t.getStroke();if(t&&t.getText()&&(i||n)){if(i){var r=i.getColor();e.fillColor=Se(r||rl)}else e.fillColor=null;if(n){var o=n.getColor();e.strokeColor=Se(o||al),e.lineWidth=n.getWidth()||1,e.lineCap=n.getLineCap()||"round",e.lineDashOffset=n.getLineDashOffset()||0,e.lineJoin=n.getLineJoin()||"round",e.miterLimit=n.getMiterLimit()||10;var a=n.getLineDash();e.lineDash=a?a.slice():ol}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||"10px sans-serif",e.scale=t.getScale()||1,this.text_=t.getText();var s=os[t.getTextAlign()],l=os[t.getTextBaseline()];this.textAlign_=void 0===s?.5:s,this.textBaseline_=void 0===l?.5:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},e.prototype.getAtlas_=function(t){var e=[];for(var i in t)(t[i]||0===t[i])&&(Array.isArray(t[i])?e=e.concat(t[i]):e.push(t[i]));var n=this.calculateHash_(e);if(!this.atlases_[n]){var r=this.measureCanvas_.getContext("2d");r.font=t.font;var o=Math.ceil((1.5*r.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[n]={atlas:new Yl({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[n]},e.prototype.calculateHash_=function(t){for(var e="",i=0,n=t.length;i<n;++i)e+=t[i];return e},e.prototype.getTextures=function(t){return this.textures_},e.prototype.getHitDetectionTextures=function(){return this.textures_},e}(El),ql=[1,1],Zl={Circle:pl,Image:Cl,LineString:Al,Polygon:Vl,Text:Xl},Jl=function(t){function e(e,i,n){t.call(this),this.maxExtent_=i,this.tolerance_=e,this.renderBuffer_=n,this.replaysByZIndex_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t,e){},e.prototype.getDeleteResourcesFunction=function(t){var e,i=[];for(e in this.replaysByZIndex_){var n=this.replaysByZIndex_[e];for(var r in n)i.push(n[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=arguments,n=i.length,r=0;r<n;r++)t=i[r].apply(this,e);return t}},e.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var n in i)i[n].finish(t)}},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,Zl[e])(this.tolerance_,this.maxExtent_),n[e]=r);return r},e.prototype.isEmpty=function(){return p(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,n,r,o,a,s){var l,u,h,c,p,d,f=Object.keys(this.replaysByZIndex_).map(Number);for(f.sort(xi),l=0,u=f.length;l<u;++l)for(p=this.replaysByZIndex_[f[l].toString()],h=0,c=rs.length;h<c;++h)d=p[rs[h]],void 0!==d&&d.replay(t,e,i,n,r,o,a,s,void 0,!1)},e.prototype.replayHitDetection_=function(t,e,i,n,r,o,a,s,l,u,h){var c,p,d,f,g,_,y=Object.keys(this.replaysByZIndex_).map(Number);for(y.sort(function(t,e){return e-t}),c=0,p=y.length;c<p;++c)for(f=this.replaysByZIndex_[y[c].toString()],d=rs.length-1;d>=0;--d)if(void 0!==(g=f[rs[d]])&&(_=g.replay(t,e,i,n,r,o,a,s,l,u,h)))return _},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,a,s,l,u){var h,c=e.getGL();return c.bindFramebuffer(c.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(h=W(J(t),n*this.renderBuffer_)),this.replayHitDetection_(e,t,n,r,ql,a,s,l,function(t){var e=new Uint8Array(4);if(c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e),e[3]>0){var i=u(t);if(i)return i}},!0,h)},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,n,r,ql,a,s,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},e}(qa),Ql=function(t){function e(e,i,n,r,o,a,s){t.call(this),this.context_=e,this.center_=i,this.extent_=a,this.pixelRatio_=s,this.size_=o,this.rotation_=r,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText_=function(t,e){var i=this.context_,n=t.getReplay(0,Za.TEXT);n.setTextStyle(this.textStyle_),n.drawText(e,null),n.finish(i);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(i)()},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case St.POINT:this.drawPoint(t,null);break;case St.LINE_STRING:this.drawLineString(t,null);break;case St.POLYGON:this.drawPolygon(t,null);break;case St.MULTI_POINT:this.drawMultiPoint(t,null);break;case St.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case St.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case St.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case St.CIRCLE:this.drawCircle(t,null)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&pt(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t,e){var i,n,r=t.getGeometriesArray();for(i=0,n=r.length;i<n;++i)this.drawGeometry(r[i])},e.prototype.drawPoint=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawMultiPoint=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawLineString=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawMultiLineString=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawPolygon=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawMultiPolygon=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.drawCircle=function(t,e){var i=this.context_,n=new Jl(1,this.extent_),r=n.getReplay(0,Za.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(i);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},e.prototype.setImageStyle=function(t){this.imageStyle_=t},e.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},e.prototype.setTextStyle=function(t){this.textStyle_=t},e}(Sa),$l=new Js("precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"),tu=new Qs("varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"),eu=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,"u_texCoordMatrix"),this.u_projectionMatrix=t.getUniformLocation(e,"u_projectionMatrix"),this.u_opacity=t.getUniformLocation(e,"u_opacity"),this.u_texture=t.getUniformLocation(e,"u_texture"),this.a_position=t.getAttribLocation(e,"a_position"),this.a_texCoord=t.getAttribLocation(e,"a_texCoord")},iu=function(t){function e(e,i){t.call(this,i),this.mapRenderer=e,this.arrayBuffer_=new cl([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=[1,0,0,1,0,0],this.projectionMatrix=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.defaultLocations_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindFramebuffer=function(t,e){var i=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var n=function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,i,this.framebuffer,this.texture);t.postRenderFunctions.push(n);var r=vl(i,e,e),o=i.createFramebuffer();i.bindFramebuffer(36160,o),i.framebufferTexture2D(36160,36064,Vs,r,0),this.texture=r,this.framebuffer=o,this.framebufferDimension=e}else i.bindFramebuffer(36160,this.framebuffer)},e.prototype.composeFrame=function(t,e,i){this.dispatchComposeEvent_(Cn,i,t),i.bindBuffer(34962,this.arrayBuffer_);var n,r=i.getGL(),o=i.getProgram($l,tu);this.defaultLocations_?n=this.defaultLocations_:(n=new eu(r,o),this.defaultLocations_=n),i.useProgram(o)&&(r.enableVertexAttribArray(n.a_position),r.vertexAttribPointer(n.a_position,2,5126,!1,16,0),r.enableVertexAttribArray(n.a_texCoord),r.vertexAttribPointer(n.a_texCoord,2,5126,!1,16,8),r.uniform1i(n.u_texture,0)),r.uniformMatrix4fv(n.u_texCoordMatrix,!1,il(this.tmpMat4_,this.getTexCoordMatrix())),r.uniformMatrix4fv(n.u_projectionMatrix,!1,il(this.tmpMat4_,this.getProjectionMatrix())),r.uniform1f(n.u_opacity,e.opacity),r.bindTexture(Vs,this.getTexture()),r.drawArrays(5,0,4),this.dispatchComposeEvent_(En,i,t)},e.prototype.dispatchComposeEvent_=function(t,e,i){var n=this.getLayer();if(n.hasListener(t)){var r=i.viewState,o=r.resolution,a=i.pixelRatio,s=i.extent,l=r.center,u=r.rotation,h=i.size,c=new Ql(e,l,o,u,h,s,a),p=new ba(t,c,i,null,e);n.dispatchEvent(p)}},e.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},e.prototype.getTexture=function(){return this.texture},e.prototype.getProjectionMatrix=function(){return this.projectionMatrix},e.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},e.prototype.prepareFrame=function(t,e,i){},e.prototype.forEachLayerAtPixel=function(t,e,i,n){},e}(Fa),nu=function(t){function e(e,i){t.call(this,e,i),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTexture_=function(t){var e=t.getImage();return ml(this.mapRenderer.getGL(),e,33071,33071)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,i,u,function(t){return n.call(r,t,o)})},e.prototype.prepareFrame=function(t,e,i){var n=this.mapRenderer.getGL(),r=t.pixelRatio,o=t.viewState,a=o.center,s=o.resolution,l=o.rotation,u=this.image_,h=this.texture,c=this.getLayer().getSource(),p=t.viewHints,d=t.extent;if(void 0!==e.extent&&(d=lt(d,e.extent)),!p[Yr.ANIMATING]&&!p[Yr.INTERACTING]&&!dt(d)){var f=o.projection,g=c.getImage(d,s,r,f);if(g)if(this.loadImage(g)&&(u=g,h=this.createTexture_(g),this.texture)){var _=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.texture);t.postRenderFunctions.push(_)}}if(u){var y=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(y.width,y.height,r,a,s,l,u.getExtent()),this.hitTransformationMatrix_=null;var v=this.texCoordMatrix;oe(v),ce(v,1,-1),pe(v,0,-1),this.image_=u,this.texture=h}return!!u},e.prototype.updateProjectionMatrix_=function(t,e,i,n,r,o,a){var s=t*r,l=e*r,u=this.projectionMatrix;oe(u),ce(u,2*i/s,2*i/l),he(u,-o),pe(u,a[0]-n[0],a[1]-n[1]),ce(u,(a[2]-a[0])/2,(a[3]-a[1])/2),pe(u,1,1)},e.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,T,this)},e.prototype.forEachLayerAtPixel=function(t,e,i,n){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==w){var r=ue(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(r,e,0,T,this)?i.call(n,this.getLayer(),null):void 0}var o=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,o));var a=ue(this.hitTransformationMatrix_,t.slice());if(!(a[0]<0||a[0]>o[0]||a[1]<0||a[1]>o[1])){this.hitCanvasContext_||(this.hitCanvasContext_=we(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(n,this.getLayer(),s):void 0}}},e.prototype.getHitTransformationMatrix_=function(t,e){var i=[1,0,0,1,0,0];pe(i,-1,-1),ce(i,2/t[0],2/t[1]),pe(i,0,t[1]),ce(i,1,-1);var n=fe(this.projectionMatrix.slice()),r=[1,0,0,1,0,0];return pe(r,0,e[1]),ce(r,1,-1),ce(r,e[0]/2,e[1]/2),pe(r,1,1),ae(r,n),ae(r,i),r},e}(iu);nu.handles=function(t){return t.getType()===Ea.IMAGE},nu.create=function(t,e){return new nu(t,e)};var ru=nu,ou=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ze,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=we(),this.renderedVisible_=!0,this.gl_=Hs(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new xl(this.canvas_,this.gl_),y(this.canvas_,_l.LOST,this.handleWebGLContextLost,this),y(this.canvas_,_l.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new Xe,this.focus_=null,this.tileTextureQueue_=new Br(function(t){var e=t[1],i=t[2],n=e[0]-this.focus_[0],r=e[1]-this.focus_[1];return 65536*Math.log(i)+Math.sqrt(n*n+r*r)/i}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var i=this.tileTextureQueue_.dequeue(),n=i[0],r=i[3],o=i[4];this.bindTileTexture(n,r,o,js,js)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindTileTexture=function(t,e,i,n,r){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(Vs,s.texture),s.magFilter!=n&&(o.texParameteri(Vs,10240,n),s.magFilter=n),s.minFilter!=r&&(o.texParameteri(Vs,10241,r),s.minFilter=r)}else{var l=o.createTexture();if(o.bindTexture(Vs,l),i>0){var u=this.clipTileContext_.canvas,h=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):h.clearRect(0,0,e[0],e[1]),h.drawImage(t.getImage(),i,i,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(Vs,0,6408,6408,5121,u)}else o.texImage2D(Vs,0,6408,6408,5121,t.getImage());o.texParameteri(Vs,10240,n),o.texParameteri(Vs,10241,r),o.texParameteri(Vs,Bs,33071),o.texParameteri(Vs,Ws,33071),this.textureCache_.set(a,{texture:l,magFilter:n,minFilter:r})}},e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var n=this.context_,r=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,h=a.rotation,c=new Ql(n,u,l,h,o,r,s),p=new ba(t,c,e,null,n);i.dispatchEvent(p)}},e.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.expireCache_=function(t,e){for(var i,n=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>1024;){if(i=this.textureCache_.peekLast())n.deleteTexture(i.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},e.prototype.getContext=function(){return this.context_},e.prototype.getGL=function(){return this.gl_},e.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},e.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var i in e){e[i].handleWebGLContextLost()}},e.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},e.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)},e.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},e.prototype.renderFrame=function(t){var e=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(Cn,t);var n=[],r=t.layerStatesArray;wi(r,ka);var o,a,s,l=t.viewState.resolution;for(o=0,a=r.length;o<a;++o)uo(s=r[o],l)&&s.sourceState==ro&&this.getLayerRenderer(s.layer).prepareFrame(t,s,e)&&n.push(s);var u=t.size[0]*t.pixelRatio,h=t.size[1]*t.pixelRatio;for(this.canvas_.width==u&&this.canvas_.height==h||(this.canvas_.width=u,this.canvas_.height=h),i.bindFramebuffer(36160,null),i.clearColor(0,0,0,0),i.clear(16384),i.enable(3042),i.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,a=n.length;o<a;++o)s=n[o],this.getLayerRenderer(s.layer).composeFrame(t,s,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>1024&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(En,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,h=e.layerStatesArray;for(l=h.length-1;l>=0;--l){var c=h[l],p=c.layer;if(uo(c,u.resolution)&&o.call(a,p))if(s=this.getLayerRenderer(p).forEachFeatureAtCoordinate(t,e,i,n,r))return s}},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],h=u.layer;if(uo(u,s.resolution)&&n.call(r,h))if(o=this.getLayerRenderer(h).hasFeatureAtCoordinate(t,e))return!0}return o},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,a){if(this.getGL().isContextLost())return!1;var s,l,u=e.viewState,h=e.layerStatesArray;for(l=h.length-1;l>=0;--l){var c=h[l],p=c.layer;if(uo(c,u.resolution)&&o.call(r,p))if(s=this.getLayerRenderer(p).forEachLayerAtPixel(t,e,n,r))return s}},e}(Ma),au=new Js("precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n"),su=new Qs("varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n"),lu=function(t,e){this.u_tileOffset=t.getUniformLocation(e,"u_tileOffset"),this.u_texture=t.getUniformLocation(e,"u_texture"),this.a_position=t.getAttribLocation(e,"a_position"),this.a_texCoord=t.getAttribLocation(e,"a_texCoord")},uu=function(t){function e(e,i){t.call(this,e,i),this.fragmentShader_=au,this.vertexShader_=su,this.locations_=null,this.renderArrayBuffer_=new cl([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),t.prototype.disposeInternal.call(this)},e.prototype.createLoadedTileFinder=function(t,e,i){var n=this.mapRenderer;return function(r,o){return t.forEachLoadedTile(e,r,o,function(t){var e=n.isTileTextureLoaded(t);return e&&(i[r]||(i[r]={}),i[r][t.tileCoord.toString()]=t),e})}},e.prototype.handleWebGLContextLost=function(){t.prototype.handleWebGLContextLost.call(this),this.locations_=null},e.prototype.prepareFrame=function(t,e,i){var n,r=this.mapRenderer,o=i.getGL(),a=t.viewState,s=a.projection,l=this.getLayer(),u=l.getSource(),h=u.getTileGridForProjection(s),c=h.getZForResolution(a.resolution),p=h.getResolution(c),d=u.getTilePixelSize(c,t.pixelRatio,s),f=d[0]/function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}(h.getTileSize(c),this.tmpSize_)[0],g=p/f,_=u.getTilePixelRatio(f)*u.getGutterForProjection(s),y=a.center,v=t.extent,m=h.getTileRangeForExtentAndZ(v,c);if(this.renderedTileRange_&&this.renderedTileRange_.equals(m)&&this.renderedRevision_==u.getRevision())n=this.renderedFramebufferExtent_;else{var x=m.getSize(),E=function(t){return j(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(Math.max(x[0]*d[0],x[1]*d[1])),C=g*E,b=h.getOrigin(c),T=b[0]+m.minX*d[0]*g,S=b[1]+m.minY*d[1]*g;n=[T,S,T+C,S+C],this.bindFramebuffer(t,E),o.viewport(0,0,E,E),o.clearColor(0,0,0,0),o.clear(16384),o.disable(3042);var w=i.getProgram(this.fragmentShader_,this.vertexShader_);i.useProgram(w),this.locations_||(this.locations_=new lu(o,w)),i.bindBuffer(34962,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,5126,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,5126,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var R={};R[c]={};var I,L,P,O,k,M,N=this.createLoadedTileFinder(u,s,R),A=l.getUseInterimTilesOnError(),D=!0,F=[1/0,1/0,-1/0,-1/0],G=new Va(0,0,0,0);for(O=m.minX;O<=m.maxX;++O)for(k=m.minY;k<=m.maxY;++k)if(L=u.getTile(c,O,k,f,s),void 0===e.extent||pt(M=h.getTileCoordExtent(L.tileCoord,F),e.extent)){if((P=L.getState())==Dn.LOADED||P==Dn.EMPTY||P==Dn.ERROR&&!A||(L=L.getInterimTile()),(P=L.getState())==Dn.LOADED){if(r.isTileTextureLoaded(L)){R[c][L.tileCoord.toString()]=L;continue}}else if(P==Dn.EMPTY||P==Dn.ERROR&&!A)continue;D=!1,h.forEachTileCoordParentTileRange(L.tileCoord,N,null,G,F)||(I=h.getTileCoordChildTileRange(L.tileCoord,G,F))&&N(c+1,I)}var U=Object.keys(R).map(Number);U.sort(xi);for(var B=new Float32Array(4),W=0,V=U.length;W<V;++W){var z=R[U[W]];for(var H in z)L=z[H],M=h.getTileCoordExtent(L.tileCoord,F),B[0]=2*(M[2]-M[0])/C,B[1]=2*(M[3]-M[1])/C,B[2]=2*(M[0]-n[0])/C-1,B[3]=2*(M[1]-n[1])/C-1,o.uniform4fv(this.locations_.u_tileOffset,B),r.bindTileTexture(L,d,_*f,js,js),o.drawArrays(5,0,4)}D?(this.renderedTileRange_=m,this.renderedFramebufferExtent_=n,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,c,m);var K=r.getTileTextureQueue();this.manageTilePyramid(t,u,h,f,s,v,c,l.getPreload(),function(t){t.getState()!=Dn.LOADED||r.isTileTextureLoaded(t)||K.isKeyQueued(t.getKey())||K.enqueue([t,h.getTileCoordCenter(t.tileCoord),h.getResolution(t.tileCoord[0]),d,_*f])},this),this.scheduleExpireCache(t,u);var Y=this.texCoordMatrix;return oe(Y),pe(Y,(Math.round(y[0]/p)*p-n[0])/(n[2]-n[0]),(Math.round(y[1]/p)*p-n[1])/(n[3]-n[1])),0!==a.rotation&&he(Y,a.rotation),ce(Y,t.size[0]*a.resolution/(n[2]-n[0]),t.size[1]*a.resolution/(n[3]-n[1])),pe(Y,-.5,-.5),!0},e.prototype.forEachLayerAtPixel=function(t,e,i,n){if(this.framebuffer){var r=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=ue(this.texCoordMatrix,r.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?i.call(n,this.getLayer(),l):void 0}},e}(iu);uu.handles=function(t){return t.getType()===Ea.TILE},uu.create=function(t,e){return new uu(t,e)};var hu=uu,cu=function(t){function e(e,i){t.call(this,e,i),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.layerState_=e;var n=t.viewState,r=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();r&&!r.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),r.replay(i,n.center,n.resolution,n.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},e.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var i=this.mapRenderer.getContext();e.getDeleteResourcesFunction(i)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(this.replayGroup_&&this.layerState_){var a=this.mapRenderer.getContext(),s=e.viewState,l=this.getLayer(),u=this.layerState_,h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=o(t).toString();if(!(e in h))return h[e]=!0,n.call(r,t,l)})}},e.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var i=this.mapRenderer.getContext(),n=e.viewState,r=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,r.opacity,e.skippedFeatureUids)}return!1},e.prototype.forEachLayerAtPixel=function(t,e,i,n){var r=ue(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(r,e)?i.call(n,this.getLayer(),null):void 0},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e,i){var n=this.getLayer(),r=n.getSource(),o=t.viewHints[Yr.ANIMATING],a=t.viewHints[Yr.INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return!0;var u=t.extent,h=t.viewState,c=h.projection,p=h.resolution,d=t.pixelRatio,f=n.getRevision(),g=n.getRenderBuffer(),_=n.getRenderOrder();void 0===_&&(_=Es);var y=W(u,g*p);if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==f&&this.renderedRenderOrder_==_&&K(this.renderedExtent_,y))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(i)),this.dirty_=!1;var v=new Jl(bs(p,d),y,n.getRenderBuffer());r.loadFeatures(y,p,c);var m=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,p)),e){var r=this.renderFeature(t,p,d,e,v);this.dirty_=this.dirty_||r}};if(_){var x=[];r.forEachFeatureInExtent(y,function(t){x.push(t)},this),x.sort(_),x.forEach(m.bind(this))}else r.forEachFeatureInExtent(y,m,this);return v.finish(i),this.renderedResolution_=p,this.renderedRevision_=f,this.renderedRenderOrder_=_,this.renderedExtent_=y,this.replayGroup_=v,!0},e.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=n.length-1;a>=0;--a)o=Ts(r,t,n[a],Cs(e,i),this.handleStyleImageChange_,this)||o;else o=Ts(r,t,n,Cs(e,i),this.handleStyleImageChange_,this)||o;return o},e}(iu);cu.handles=function(t){return t.getType()===Ea.VECTOR},cu.create=function(t,e){return new cu(t,e)};var pu=cu,du=function(t){function e(e){(e=h({},e)).controls||(e.controls=_o()),e.interactions||(e.interactions=xa()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new ou(this);return t.registerLayerRenderers([ru,hu,pu]),t},e}(so);i.d(e,"AssertionError",function(){return s}),i.d(e,"Collection",function(){return U}),i.d(e,"Disposable",function(){return b}),i.d(e,"Feature",function(){return vi}),i.d(e,"Geolocation",function(){return hn}),i.d(e,"Graticule",function(){return kn}),i.d(e,"Image",function(){return Nn}),i.d(e,"ImageBase",function(){return Mn}),i.d(e,"ImageCanvas",function(){return An}),i.d(e,"ImageTile",function(){return Vn}),i.d(e,"Kinetic",function(){return Hn}),i.d(e,"Map",function(){return ks}),i.d(e,"MapBrowserEvent",function(){return Yn}),i.d(e,"MapBrowserEventHandler",function(){return Fr}),i.d(e,"MapBrowserPointerEvent",function(){return qn}),i.d(e,"MapEvent",function(){return Kn}),i.d(e,"Object",function(){return D}),i.d(e,"Observable",function(){return k}),i.d(e,"Overlay",function(){return As}),i.d(e,"PluggableMap",function(){return so}),i.d(e,"Tile",function(){return Bn}),i.d(e,"TileCache",function(){return Ds}),i.d(e,"TileQueue",function(){return Wr}),i.d(e,"TileRange",function(){return Va}),i.d(e,"VectorImageTile",function(){return Fs}),i.d(e,"VectorTile",function(){return Us}),i.d(e,"View",function(){return to}),i.d(e,"WebGLMap",function(){return du}),i.d(e,"getUid",function(){return o}),i.d(e,"inherits",function(){return n}),i.d(e,"VERSION",function(){return a})},function(t,e,i){"use strict";i.r(e);var n=i(2),r=i(0),o=i.n(r),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",i=arguments[1]||e+"Subscription",r=function(t){function r(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return o[e]=i.store,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),r.prototype.getChildContext=function(){var t;return(t={})[e]=this[e],t[i]=null,t},r.prototype.render=function(){return n.Children.only(this.props.children)},r}(n.Component);return r.propTypes={store:s.isRequired,children:o.a.element.isRequired},r.childContextTypes=((t={})[e]=s.isRequired,t[i]=a,t),r}var u=l(),h=i(11),c=i.n(h),p=i(3),d=i.n(p);var f=null,g={notify:function(){}};var _=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.parentSub=i,this.onStateChange=n,this.unsubscribe=null,this.listeners=g}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=f,t=f},notify:function(){for(var i=t=e,n=0;n<i.length;n++)i[n]()},get:function(){return e},subscribe:function(i){var n=!0;return e===t&&(e=t.slice()),e.push(i),function(){n&&t!==f&&(n=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(i),1))}}}}())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=g)},t}(),y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};var v=0,m={};function x(){}function E(t){var e,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.getDisplayName,l=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,u=r.methodName,h=void 0===u?"connectAdvanced":u,p=r.renderCountProp,f=void 0===p?void 0:p,g=r.shouldHandleStateChanges,E=void 0===g||g,C=r.storeKey,b=void 0===C?"store":C,T=r.withRef,S=void 0!==T&&T,w=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=b+"Subscription",I=v++,L=((e={})[b]=s,e[R]=a,e),P=((i={})[R]=a,i);return function(e){d()("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var i=e.displayName||e.name||"Component",r=l(i),o=y({},w,{getDisplayName:l,methodName:h,renderCountProp:f,shouldHandleStateChanges:E,storeKey:b,withRef:S,displayName:r,wrappedComponentName:i,WrappedComponent:e}),a=function(i){function a(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.version=I,n.state={},n.renderCount=0,n.store=t[b]||e[b],n.propsMode=Boolean(t[b]),n.setWrappedInstance=n.setWrappedInstance.bind(n),d()(n.store,'Could not find "'+b+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+b+'" as a prop to "'+r+'".'),n.initSelector(),n.initSubscription(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i),a.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[R]=e||this.context[R],t},a.prototype.componentDidMount=function(){E&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=x,this.store=null,this.selector.run=x,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return d()(S,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+h+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},a.prototype.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=function(t,e){var i={run:function(n){try{var r=t(e.getState(),n);(r!==i.props||i.error)&&(i.shouldComponentUpdate=!0,i.props=r,i.error=null)}catch(t){i.shouldComponentUpdate=!0,i.error=t}}};return i}(e,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(E){var t=(this.propsMode?this.props:this.context)[R];this.subscription=new _(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(m)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(t){if(!(S||f||this.propsMode&&this.subscription))return t;var e=y({},t);return S&&(e.ref=this.setWrappedInstance),f&&(e[f]=this.renderCount++),this.propsMode&&this.subscription&&(e[R]=this.subscription),e},a.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(n.createElement)(e,this.addExtraProps(t.props))},a}(n.Component);return a.WrappedComponent=e,a.displayName=r,a.childContextTypes=P,a.contextTypes=L,a.propTypes=L,c()(a,e)}}var C=Object.prototype.hasOwnProperty;function b(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function T(t,e){if(b(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++)if(!C.call(e,i[r])||!b(t[i[r]],e[i[r]]))return!1;return!0}var S=i(13),w="object"==typeof self&&self&&self.Object===Object&&self,R=(S.a||w||Function("return this")()).Symbol,I=Object.prototype;I.hasOwnProperty,I.toString,R&&R.toStringTag;Object.prototype.toString;R&&R.toStringTag;Object.getPrototypeOf,Object;var L=Function.prototype,P=Object.prototype,O=L.toString;P.hasOwnProperty,O.call(Object);i(5);function k(t,e){return function(){return e(t.apply(void 0,arguments))}}Object.assign;function M(t){return function(e,i){var n=t(e,i);function r(){return n}return r.dependsOnOwnProps=!1,r}}function N(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function A(t,e){return function(e,i){i.displayName;var n=function(t,e){return n.dependsOnOwnProps?n.mapToProps(t,e):n.mapToProps(t)};return n.dependsOnOwnProps=!0,n.mapToProps=function(e,i){n.mapToProps=t,n.dependsOnOwnProps=N(t);var r=n(e,i);return"function"==typeof r&&(n.mapToProps=r,n.dependsOnOwnProps=N(r),r=n(e,i)),r},n}}var D=[function(t){return"function"==typeof t?A(t):void 0},function(t){return t?void 0:M(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?M(function(e){return function(t,e){if("function"==typeof t)return k(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(t),n={},r=0;r<i.length;r++){var o=i[r],a=t[o];"function"==typeof a&&(n[o]=k(a,e))}return n}(t,e)}):void 0}];var F=[function(t){return"function"==typeof t?A(t):void 0},function(t){return t?void 0:M(function(){return{}})}],G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function U(t,e,i){return G({},i,t,e)}var j=[function(t){return"function"==typeof t?function(t){return function(e,i){i.displayName;var n=i.pure,r=i.areMergedPropsEqual,o=!1,a=void 0;return function(e,i,s){var l=t(e,i,s);return o?n&&r(l,a)||(a=l):(o=!0,a=l),a}}}(t):void 0},function(t){return t?void 0:function(){return U}}];function B(t,e,i,n){return function(r,o){return i(t(r,o),e(n,o),o)}}function W(t,e,i,n,r){var o=r.areStatesEqual,a=r.areOwnPropsEqual,s=r.areStatePropsEqual,l=!1,u=void 0,h=void 0,c=void 0,p=void 0,d=void 0;function f(r,l){var f=!a(l,h),g=!o(r,u);return u=r,h=l,f&&g?(c=t(u,h),e.dependsOnOwnProps&&(p=e(n,h)),d=i(c,p,h)):f?(t.dependsOnOwnProps&&(c=t(u,h)),e.dependsOnOwnProps&&(p=e(n,h)),d=i(c,p,h)):g?function(){var e=t(u,h),n=!s(e,c);return c=e,n&&(d=i(c,p,h)),d}():d}return function(r,o){return l?f(r,o):function(r,o){return c=t(u=r,h=o),p=e(n,h),d=i(c,p,h),l=!0,d}(r,o)}}function V(t,e){var i=e.initMapStateToProps,n=e.initMapDispatchToProps,r=e.initMergeProps,o=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=i(t,o),s=n(t,o),l=r(t,o);return(o.pure?W:B)(a,s,l,t,o)}var z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function H(t,e,i){for(var n=e.length-1;n>=0;n--){var r=e[n](t);if(r)return r}return function(e,n){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+n.wrappedComponentName+".")}}function K(t,e){return t===e}var Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,i=void 0===e?E:e,n=t.mapStateToPropsFactories,r=void 0===n?F:n,o=t.mapDispatchToPropsFactories,a=void 0===o?D:o,s=t.mergePropsFactories,l=void 0===s?j:s,u=t.selectorFactory,h=void 0===u?V:u;return function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,u=void 0===s||s,c=o.areStatesEqual,p=void 0===c?K:c,d=o.areOwnPropsEqual,f=void 0===d?T:d,g=o.areStatePropsEqual,_=void 0===g?T:g,y=o.areMergedPropsEqual,v=void 0===y?T:y,m=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=H(t,r,"mapStateToProps"),E=H(e,a,"mapDispatchToProps"),C=H(n,l,"mergeProps");return i(h,z({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:x,initMapDispatchToProps:E,initMergeProps:C,pure:u,areStatesEqual:p,areOwnPropsEqual:f,areStatePropsEqual:_,areMergedPropsEqual:v},m))}}();i.d(e,"Provider",function(){return u}),i.d(e,"createProvider",function(){return l}),i.d(e,"connectAdvanced",function(){return E}),i.d(e,"connect",function(){return Y})}]);
//# sourceMappingURL=bundle.js.map